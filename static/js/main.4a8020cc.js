/*! For license information please see main.4a8020cc.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ie)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Be={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,It,St,Et=!1,Tt=[],Ct=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Bt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Rt.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var zt=k.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Ht(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),gn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!On||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Qn(e){jr(e,0)}function Yn(e){if(K(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=yi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Er:case Tr:case Cr:s=gn;break;case Nr:s=An;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Gr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Wn(u))if(Xn)m=or;else{m=ir;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?ki(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(g=Hr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ni),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ei(Ci,e)):Si(Ni),Ei(Ni,n)}var ji=null,Ui=!1,Bi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,qi),i}finally{bt=t,Bi=!1}}return null}var zi=[],Wi=0,Gi=null,Hi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){zi[Wi++]=Hi,zi[Wi++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=zi[--Wi],zi[Wi]=null,Hi=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ii(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function _a(e){var t=ga.current;Si(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,c))&&(u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return ia&&Ji(i,m),l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function Vo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Go(e,t){return qo(4,2,e,t)}function Ho(e,t){return qo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ou={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Bo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),du(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Ri(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ni.current||Aa?("function"===typeof l&&(Ba(t,n,l,r),s=t.memoizedState),(u=Aa||qa(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Ri(t,s=Pi(n)?Ai:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Aa=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ni.current||Aa?("function"===typeof h&&(Ba(t,n,h,r),p=t.memoizedState),(c=Aa||qa(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ou,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ku(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Hu(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Hu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Hu(t),null;case 10:return _a(t.type._context),Hu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,ds(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,ds(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,ds(e,t,n),$u=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));hs(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),gs(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),gs(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),gs(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),gs(e);break;case 13:vs(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(d=Ju=f;null!==Ju;){switch(p=(h=Ju).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,Ju=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),gs(e),4&r&&ps(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,Yu=u,$u=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(h){Ic(t,t.return,h)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var xs,Is=Math.ceil,Ss=k.ReactCurrentDispatcher,Es=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Rs=0,Ps=0,Ds=Ii(0),Os=0,Ms=null,Ls=0,Fs=0,js=0,Us=null,Bs=null,Vs=0,qs=1/0,zs=null,Ws=!1,Gs=null,Hs=null,Ks=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));gt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Os&&uc(e,Rs)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Rs===t||(zs=null,qs=Xe()+500,dc(e,t));;)try{yc();break}catch(s){hc(e,s)}wa(),Ss.current=o,Cs=i,null!==As?t=0:(Ns=null,Rs=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,dc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,dc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bs,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bs,zs),t);break}wc(e,Bs,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bs,zs),r);break}wc(e,Bs,zs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bs,Bs=n,null!==t&&oc(t)),e}function oc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,dc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bs,zs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Xe()+500,Ui&&qi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Ps=Ds.current,Si(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Dc(e.current,null),Rs=Ps=t,Os=0,Ms=null,js=Fs=Ls=0,Bs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function hc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Es.current=null,null===n||null===n.return){Os=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var g=gu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yu(g,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Os&&(Os=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Fs)||uc(Ns,Rs)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Rs===t||(zs=null,dc(e,t));;)try{gc();break}catch(i){hc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==As)throw Error(a(261));return Ns=null,Rs=0,Os}function gc(){for(;null!==As;)bc(As)}function yc(){for(;null!==As&&!Ye();)bc(As)}function bc(e){var t=xs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):As=t,Es.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ku(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Os=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ys(n,e,i),$e(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Ks&&(Ks=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,qi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function _c(){if(null!==Qs){var e=kt(Ys),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ju=d;else for(;null!==Ju;){var h=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==h){h.return=p,Ju=h;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ju=y;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function xc(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Os||3===Os&&(130023424&Rs)===Rs&&500>Xe()-Vs?dc(e,0):js|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(gt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Wu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ga,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ia(t,n),za(t,r,i),Ga(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(qs=Xe()+500,qi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},It=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Te,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case h:case d:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return k(e)===s}},441:function(e,t,n){e.exports=n(372)},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return g(e)===c}},900:function(e,t,n){e.exports=n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,S=null,E=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?x():(I=!1,S=null)}}else I=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){g(A,0)};function D(e){S=e,I||(I=!0,x())}function O(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=o(e,f[0],f[1]);return s((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)},137:function(e,t,n){e.exports=n.p+"static/media/icon.cd75da25009bcf6f9f80.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/todo/";var r={};!function(){n.d(r,{_:function(){return CY}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return We},SDK_VERSION:function(){return fn},_DEFAULT_ENTRY_NAME:function(){return Xt},_addComponent:function(){return tn},_addOrOverwriteComponent:function(){return nn},_apps:function(){return Zt},_clearComponents:function(){return un},_components:function(){return en},_getProvider:function(){return an},_registerComponent:function(){return rn},_removeServiceInstance:function(){return on},deleteApp:function(){return vn},getApp:function(){return hn},getApps:function(){return pn},initializeApp:function(){return dn},onLog:function(){return yn},registerVersion:function(){return gn},setLogLevel:function(){return bn}});var t,i=n(791),a=n.t(i,2),o=n(250);function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||c(e,t)||l()}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var h=function(e){return e};var p="beforeunload",v="popstate";function m(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=w(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,h({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)_.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(_.length){if(null!=r){var u=l-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(v,u),r.addEventListener("hashchange",(function(){k(a()[1])!==k(f)&&u()}));var s=t.Pop,c=a(),l=c[0],f=c[1],m=y(),_=y();function x(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:k(e))}function I(e,t){return void 0===t&&(t=null),h(d({pathname:f.pathname,hash:"",search:""},"string"===typeof e?w(e):e,{state:t,key:b()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function E(e,t,n){return!_.length||(_.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();l=t[0],f=t[1],m.call({action:s,location:f})}function C(e){i.go(e)}null==l&&(l=0,i.replaceState(d({},i.state,{idx:l}),""));var N={get action(){return s},get location(){return f},createHref:x,push:function e(n,a){var o=t.Push,u=I(n,a);if(E(o,u,(function(){e(n,a)}))){var s=S(u,l+1),c=s[0],f=s[1];try{i.pushState(c,"",f)}catch(d){r.location.assign(f)}T(o)}},replace:function e(n,r){var a=t.Replace,o=I(n,r);if(E(a,o,(function(){e(n,r)}))){var u=S(o,l),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return m.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&r.addEventListener(p,g),function(){t(),_.length||r.removeEventListener(p,g)}}};return N}function g(e){e.preventDefault(),e.returnValue=""}function y(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function b(){return Math.random().toString(36).substr(2,8)}function k(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function w(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var _=(0,i.createContext)(null);var x=(0,i.createContext)(null);var I=(0,i.createContext)({outlet:null,matches:[]});function S(e,t){if(!e)throw new Error(t)}function E(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?w(t):t).pathname||"/",n);if(null==r)return null;var i=T(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=R(i[o],r);return a}function T(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||S(!1),a.relativePath=a.relativePath.slice(r.length));var o=M([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&S(!1),T(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:u})})),t}var C=/^:\w+$/,N=function(e){return"*"===e};function A(e,t){var n=e.split("/"),r=n.length;return n.some(N)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!N(e)})).reduce((function(e,t){return e+(C.test(t)?3:""===t?1:10)}),r)}function R(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=P({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:M([i,l.pathname]),pathnameBase:L(M([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=M([i,l.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function D(e,t,n){var r,i="string"===typeof e?w(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?w(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:F(a),hash:j(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var M=function(e){return e.join("/").replace(/\/\/+/g,"/")},L=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},F=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},j=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function U(e){B()||S(!1);var t=(0,i.useContext)(_),n=t.basename,r=t.navigator,a=z(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?w(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):M([n,u])}return r.createHref({pathname:c,search:s,hash:o})}function B(){return null!=(0,i.useContext)(x)}function V(){return B()||S(!1),(0,i.useContext)(x).location}function q(){B()||S(!1);var e=(0,i.useContext)(_),t=e.basename,n=e.navigator,r=(0,i.useContext)(I).matches,a=V().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),u=(0,i.useRef)(!1);(0,i.useEffect)((function(){u.current=!0}));var s=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=D(e,JSON.parse(o),a);"/"!==t&&(i.pathname=M([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function z(e){var t=(0,i.useContext)(I).matches,n=V().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return D(e,JSON.parse(r),n)}),[e,r,n])}function W(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(I.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function G(e){var t=e.to,n=e.replace,r=e.state;B()||S(!1);var a=q();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function H(e){S(!1)}function K(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;B()&&S(!1);var h=L(r),p=(0,i.useMemo)((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=w(u));var v=u,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,k=v.hash,I=void 0===k?"":k,E=v.state,T=void 0===E?null:E,C=v.key,N=void 0===C?"default":C,A=(0,i.useMemo)((function(){var e=O(g,h);return null==e?null:{pathname:e,search:b,hash:I,state:T,key:N}}),[h,g,b,I,T,N]);return null==A?null:(0,i.createElement)(_.Provider,{value:p},(0,i.createElement)(x.Provider,{children:o,value:{location:A,navigationType:c}}))}function Q(e){var t=e.children,n=e.location;return function(e,t){B()||S(!1);var n,r=(0,i.useContext)(I).matches,a=r[r.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,V());if(t){var c,l="string"===typeof t?w(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||S(!1),n=l}else n=s;var f=n.pathname||"/",d=E(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return W(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:M([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,e.pathnameBase])})})),r)}(Y(t),n)}function Y(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==H&&S(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Y(e.props.children)),t.push(n)}else t.push.apply(t,Y(e.props.children))})),t}function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var J=["onClick","reloadDocument","replace","state","target","to"];function Z(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=m({window:r}));var o=a.current,u=f((0,i.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(K,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var ee=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=X(e,J),f=U(c),d=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=q(),s=V(),c=z(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||k(s)===k(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,r,e])}(c,{replace:o,state:u,target:s});return(0,i.createElement)("a",$({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||d(e)},ref:t,target:s}))}));function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function ne(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function re(){return re="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ne(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},re.apply(this,arguments)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}function oe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}function ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ce(e,t){if(t&&("object"===se(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function le(e){var t=ue();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ce(this,n)}}function fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function de(){de=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==se(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=h,u(g,"constructor",h),u(h,"constructor",d),d.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),u(g,o,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function he(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){he(a,r,i,o,u,"next",e)}function u(e){he(a,r,i,o,u,"throw",e)}o(void 0)}))}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ye(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function be(e){return function(e){if(Array.isArray(e))return s(e)}(e)||ye(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t,n){return we=ue()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ae(i,n.prototype),i},we.apply(null,arguments)}function _e(e){var t="function"===typeof Map?new Map:void 0;return _e=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return we(e,arguments,te(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ae(n,e)},_e(e)}var xe=!1,Ie=!1,Se="${JSCORE_VERSION}",Ee=function(e,t){if(!e)throw Te(t)},Te=function(e){return new Error("Firebase Database ("+Se+") INTERNAL ASSERT FAILED: "+e)},Ce=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ce(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ae=function(e){var t=Ce(e);return Ne.encodeByteArray(t,!0)},Re=function(e){return Ae(e).replace(/\./g,"")},Pe=function(e){try{return Ne.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function De(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=De(e[n],t[n]));return e}var Oe=function(){function e(){var t=this;ve(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ge(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Me(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(a)),""].join(".")}function Le(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function je(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ue(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Be(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ve(){var e=Le();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qe(){return!0===xe||!0===Ie}function ze(){return"object"===typeof indexedDB}var We=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ie(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ie(a),Ge.prototype.create),a}return ge(n)}(_e(Error)),Ge=function(){function e(t,n,r){ve(this,e),this.service=t,this.serviceName=n,this.errors=r}return ge(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?He(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new We(n,a,t);return o}}]),e}();function He(e,t){return e.replace(Ke,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ke=/\{\$([^}]+)}/g;function Qe(e){return JSON.parse(e)}function Ye(e){return JSON.stringify(e)}var $e=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Qe(Pe(a[0])||""),n=Qe(Pe(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Je(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ze(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function et(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function tt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(nt(u)&&nt(s)){if(!tt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function nt(e){return null!==e&&"object"===typeof e}function rt(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function it(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function at(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ot=function(){function e(){ve(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return ge(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=d^l&(f^d),s=1518500249):(u=l^f^d,s=1859775393):p<60?(u=l&f|d&(l|f),s=2400959708):(u=l^f^d,s=3395469782);var v=(c<<5|c>>>27)+u+h+s+n[p]&4294967295;h=d,d=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function ut(e,t){var n=new st(e,t);return n.subscribe.bind(n)}var st=function(){function e(t,n){var r=this;ve(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ge(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=fe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ct),void 0===r.error&&(r.error=ct),void 0===r.complete&&(r.complete=ct);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ct(){}function lt(e,t){return"".concat(e," failed: ").concat(t," argument ")}var ft=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function dt(e){return e&&e._delegate?e._delegate:e}var ht=function(){function e(t,n,r){ve(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ge(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),pt="[DEFAULT]",vt=function(){function e(t,n){ve(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ge(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Oe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pt})}catch(s){}var t,n=fe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(be(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),be(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=fe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(I_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mt(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(I_){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.component?this.component.multipleInstances?e:pt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function mt(e){return e===pt?void 0:e}var gt,yt,bt=function(){function e(t){ve(this,e),this.name=t,this.providers=new Map}return ge(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new vt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),kt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yt||(yt={}));var wt={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},_t=yt.INFO,xt=(ke(gt={},yt.DEBUG,"log"),ke(gt,yt.VERBOSE,"log"),ke(gt,yt.INFO,"info"),ke(gt,yt.WARN,"warn"),ke(gt,yt.ERROR,"error"),gt),It=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=xt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},St=function(){function e(t){ve(this,e),this.name=t,this._logLevel=_t,this._logHandler=It,this._userLogHandler=null,kt.push(this)}return ge(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?wt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.DEBUG].concat(t)),this._logHandler.apply(this,[this,yt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.INFO].concat(t)),this._logHandler.apply(this,[this,yt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.WARN].concat(t)),this._logHandler.apply(this,[this,yt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.ERROR].concat(t)),this._logHandler.apply(this,[this,yt.ERROR].concat(t))}}]),e}();function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct,Nt;var At=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap;var Mt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Lt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nt||(Nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ut(this),n),jt(At.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jt(e.apply(Ut(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ut(this),t].concat(r));return Pt.set(a,t.sort?t.sort():[t]),jt(a)}}function Ft(e){return"function"===typeof e?Lt(e):(e instanceof IDBTransaction&&function(e){if(!Rt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Rt.set(e,t)}}(e),t=e,(Ct||(Ct=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Mt):e);var t}function jt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(jt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&At.set(t,e)})).catch((function(){})),Ot.set(t,e),t}(e);if(Dt.has(e))return Dt.get(e);var t=Ft(e);return t!==e&&(Dt.set(e,t),Ot.set(t,e)),t}var Ut=function(e){return Ot.get(e)};var Bt,Vt,qt,zt=["get","getKey","getAll","getAllKeys","count"],Wt=["put","add","delete","clear"],Gt=new Map;function Ht(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Gt.get(t))return Gt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Wt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||zt.includes(n))){var a=function(){var e=pe(de().mark((function e(t){var a,o,u,s,c,l,f=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Gt.set(t,a),a}}}Bt=function(e){return Tt(Tt({},e),{},{get:function(t,n,r){return Ht(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ht(t,n)||e.has(t,n)}})},Mt=Bt(Mt);var Kt=function(){function e(t){ve(this,e),this.container=t}return ge(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Qt="@firebase/app",Yt="0.7.25",$t=new St("@firebase/app"),Xt="[DEFAULT]",Jt=(ke(Vt={},Qt,"fire-core"),ke(Vt,"@firebase/app-compat","fire-core-compat"),ke(Vt,"@firebase/analytics","fire-analytics"),ke(Vt,"@firebase/analytics-compat","fire-analytics-compat"),ke(Vt,"@firebase/app-check","fire-app-check"),ke(Vt,"@firebase/app-check-compat","fire-app-check-compat"),ke(Vt,"@firebase/auth","fire-auth"),ke(Vt,"@firebase/auth-compat","fire-auth-compat"),ke(Vt,"@firebase/database","fire-rtdb"),ke(Vt,"@firebase/database-compat","fire-rtdb-compat"),ke(Vt,"@firebase/functions","fire-fn"),ke(Vt,"@firebase/functions-compat","fire-fn-compat"),ke(Vt,"@firebase/installations","fire-iid"),ke(Vt,"@firebase/installations-compat","fire-iid-compat"),ke(Vt,"@firebase/messaging","fire-fcm"),ke(Vt,"@firebase/messaging-compat","fire-fcm-compat"),ke(Vt,"@firebase/performance","fire-perf"),ke(Vt,"@firebase/performance-compat","fire-perf-compat"),ke(Vt,"@firebase/remote-config","fire-rc"),ke(Vt,"@firebase/remote-config-compat","fire-rc-compat"),ke(Vt,"@firebase/storage","fire-gcs"),ke(Vt,"@firebase/storage-compat","fire-gcs-compat"),ke(Vt,"@firebase/firestore","fire-fst"),ke(Vt,"@firebase/firestore-compat","fire-fst-compat"),ke(Vt,"fire-js","fire-js"),ke(Vt,"firebase","fire-js-all"),Vt),Zt=new Map,en=new Map;function tn(e,t){try{e.container.addComponent(t)}catch(n){$t.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function nn(e,t){e.container.addOrOverwriteComponent(t)}function rn(e){var t=e.name;if(en.has(t))return $t.debug("There were multiple attempts to register component ".concat(t,".")),!1;en.set(t,e);var n,r=fe(Zt.values());try{for(r.s();!(n=r.n()).done;){tn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function an(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function on(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt;an(e,t).clearInstance(n)}function un(){en.clear()}var sn=(ke(qt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ke(qt,"bad-app-name","Illegal App name: '{$appName}"),ke(qt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ke(qt,"app-deleted","Firebase App named '{$appName}' already deleted"),ke(qt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ke(qt,"invalid-log-argument","First argument to `onLog` must be null or a function."),ke(qt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ke(qt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ke(qt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ke(qt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),qt),cn=new Ge("app","Firebase",sn),ln=function(){function e(t,n,r){var i=this;ve(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ht("app",(function(){return i}),"PUBLIC"))}return ge(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}]),e}(),fn="9.8.2";function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw cn.create("bad-app-name",{appName:String(i)});var a=Zt.get(i);if(a){if(tt(e,a.options)&&tt(r,a.config))return a;throw cn.create("duplicate-app",{appName:i})}var o,u=new bt(i),s=fe(en.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ln(e,r,u);return Zt.set(i,l),l}function hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=Zt.get(e);if(!t)throw cn.create("no-app",{appName:e});return t}function pn(){return Array.from(Zt.values())}function vn(e){return mn.apply(this,arguments)}function mn(){return mn=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Zt.has(n)){e.next=6;break}return Zt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}function gn(e,t,n){var r,i=null!==(r=Jt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $t.warn(u.join(" "))}rn(new ht("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function yn(e,t){if(null!==e&&"function"!==typeof e)throw cn.create("invalid-log-argument");!function(e,t){var n,r=fe(kt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=wt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:yt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function bn(e){var t;t=e,kt.forEach((function(e){e.setLogLevel(t)}))}var kn="firebase-heartbeat-store",wn=null;function _n(){return wn||(wn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=jt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(jt(u.result),e.oldVersion,e.newVersion,jt(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(kn)}}).catch((function(e){throw cn.create("storage-open",{originalErrorMessage:e.message})}))),wn}function xn(e){return In.apply(this,arguments)}function In(){return In=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_n();case 3:return n=e.sent,e.abrupt("return",n.transaction(kn).objectStore(kn).get(Tn(t)));case 7:throw e.prev=7,e.t0=e.catch(0),cn.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),In.apply(this,arguments)}function Sn(e,t){return En.apply(this,arguments)}function En(){return En=pe(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_n();case 3:return r=e.sent,i=r.transaction(kn,"readwrite"),a=i.objectStore(kn),e.next=8,a.put(n,Tn(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),cn.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),En.apply(this,arguments)}function Tn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Cn=function(){function e(t){var n=this;ve(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Pn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ge(e,[{key:"triggerHeartbeat",value:function(){var e=pe(de().mark((function e(){var t,n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Nn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=pe(de().mark((function e(){var t,n,r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Nn(),n=An(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Re(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nn(){return(new Date).toISOString().substring(0,10)}function An(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=fe(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Dn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Dn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Rn,Pn=function(){function e(t){ve(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ge(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,xn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Sn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Sn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(be(r.heartbeats),be(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Dn(e){return Re(JSON.stringify({version:2,heartbeats:e})).length}Rn="",rn(new ht("platform-logger",(function(e){return new Kt(e)}),"PRIVATE")),rn(new ht("heartbeat",(function(e){return new Cn(e)}),"PRIVATE")),gn(Qt,Yt,Rn),gn(Qt,Yt,"esm2017"),gn("fire-js","");function On(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Mn;Object.create;var Ln="facebook.com",Fn="github.com",jn="google.com",Un="password",Bn="twitter.com",Vn="EMAIL_SIGNIN",qn="PASSWORD_RESET",zn="RECOVER_EMAIL",Wn="REVERT_SECOND_FACTOR_ADDITION",Gn="VERIFY_AND_CHANGE_EMAIL",Hn="VERIFY_EMAIL";function Kn(){return ke({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Qn=function(){var e;return ke(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ke(e,"argument-error",""),ke(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ke(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ke(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ke(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ke(e,"cordova-not-ready","Cordova framework is not ready."),ke(e,"cors-unsupported","This browser is not supported."),ke(e,"credential-already-in-use","This credential is already associated with a different user account."),ke(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ke(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ke(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ke(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ke(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ke(e,"email-already-in-use","The email address is already in use by another account."),ke(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ke(e,"expired-action-code","The action code has expired."),ke(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ke(e,"internal-error","An internal AuthError has occurred."),ke(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ke(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ke(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ke(e,"invalid-auth-event","An internal AuthError has occurred."),ke(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ke(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ke(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ke(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ke(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ke(e,"invalid-email","The email address is badly formatted."),ke(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ke(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ke(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ke(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ke(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ke(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ke(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ke(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ke(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ke(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ke(e,"wrong-password","The password is invalid or the user does not have a password."),ke(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ke(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ke(e,"invalid-provider-id","The specified provider ID is invalid."),ke(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ke(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ke(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ke(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ke(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ke(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ke(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ke(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ke(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ke(e,"missing-continue-uri","A continue URL must be provided in the request."),ke(e,"missing-iframe-start","An internal AuthError has occurred."),ke(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ke(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ke(e,"missing-multi-factor-info","No second factor identifier is provided."),ke(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ke(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ke(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ke(e,"app-deleted","This instance of FirebaseApp has been deleted."),ke(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ke(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ke(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ke(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ke(e,"no-auth-event","An internal AuthError has occurred."),ke(e,"no-such-provider","User was not linked to an account with the given provider."),ke(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ke(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ke(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ke(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ke(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ke(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ke(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ke(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ke(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ke(e,"rejected-credential","The request contains malformed or mismatching credentials."),ke(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ke(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ke(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ke(e,"timeout","The operation has timed out."),ke(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ke(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ke(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ke(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ke(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ke(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ke(e,"unverified-email","The operation requires a verified email."),ke(e,"user-cancelled","The user did not grant your application the permissions it requested."),ke(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ke(e,"user-disabled","The user account has been disabled by an administrator."),ke(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ke(e,"user-signed-out",""),ke(e,"weak-password","The password must be 6 characters long or more."),ke(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ke(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Yn=Kn,$n=new Ge("auth","Firebase",Kn()),Xn=new St("@firebase/auth");function Jn(e){if(Xn.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xn.error.apply(Xn,["Auth (".concat(fn,"): ").concat(e)].concat(n))}}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw rr.apply(void 0,[e].concat(n))}function er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rr.apply(void 0,[e].concat(n))}function tr(e,t,n){var r=Object.assign(Object.assign({},Yn()),ke({},t,n));return new Ge("auth","Firebase",r).create(t,{appName:e.name})}function nr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Zn(e,"argument-error"),tr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function rr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=be(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(be(o)))}return $n.create.apply($n,[e].concat(n))}function ir(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw rr.apply(void 0,[t].concat(r))}}function ar(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Jn(t),new Error(t)}function or(e,t){e||ar(t)}var ur=new Map;function sr(e){or(e instanceof Function,"Expected a class definition");var t=ur.get(e);return t?(or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ur.set(e,t),t)}function cr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function lr(){return"http:"===fr()||"https:"===fr()}function fr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var dr=function(){function e(t,n){ve(this,e),this.shortDelay=t,this.longDelay=n,or(n>t,"Short delay should be less than long delay!"),this.isMobile=Fe()||Be()}return ge(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(lr()||Ue()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function hr(e,t){or(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var pr=function(){function e(){ve(this,e)}return ge(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),vr=(ke(Mn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ke(Mn,"MISSING_CUSTOM_TOKEN","internal-error"),ke(Mn,"INVALID_IDENTIFIER","invalid-email"),ke(Mn,"MISSING_CONTINUE_URI","internal-error"),ke(Mn,"INVALID_PASSWORD","wrong-password"),ke(Mn,"MISSING_PASSWORD","internal-error"),ke(Mn,"EMAIL_EXISTS","email-already-in-use"),ke(Mn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ke(Mn,"INVALID_IDP_RESPONSE","invalid-credential"),ke(Mn,"INVALID_PENDING_TOKEN","invalid-credential"),ke(Mn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ke(Mn,"MISSING_REQ_TYPE","internal-error"),ke(Mn,"EMAIL_NOT_FOUND","user-not-found"),ke(Mn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ke(Mn,"EXPIRED_OOB_CODE","expired-action-code"),ke(Mn,"INVALID_OOB_CODE","invalid-action-code"),ke(Mn,"MISSING_OOB_CODE","internal-error"),ke(Mn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ke(Mn,"INVALID_ID_TOKEN","invalid-user-token"),ke(Mn,"TOKEN_EXPIRED","user-token-expired"),ke(Mn,"USER_NOT_FOUND","user-token-expired"),ke(Mn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ke(Mn,"INVALID_CODE","invalid-verification-code"),ke(Mn,"INVALID_SESSION_INFO","invalid-verification-id"),ke(Mn,"INVALID_TEMPORARY_PROOF","invalid-credential"),ke(Mn,"MISSING_SESSION_INFO","missing-verification-id"),ke(Mn,"SESSION_EXPIRED","code-expired"),ke(Mn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ke(Mn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ke(Mn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ke(Mn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ke(Mn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ke(Mn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ke(Mn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ke(Mn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ke(Mn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ke(Mn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ke(Mn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Mn),mr=new dr(3e4,6e4);function gr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function yr(e,t,n,r){return br.apply(this,arguments)}function br(){return br=pe(de().mark((function e(t,n,r,i){var a,o=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",kr(t,a,pe(de().mark((function e(){var a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=rt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",pr.fetch()(Ir(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function kr(e,t,n){return wr.apply(this,arguments)}function wr(){return wr=pe(de().mark((function e(t,n,r){var i,a,o,u,s,c,l,d,h,p;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},vr),n),e.prev=2,a=new Sr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Er(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),d=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Er(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Er(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Er(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw tr(t,p,h);case 34:Zn(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof We)){e.next=41;break}throw e.t0;case 41:Zn(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),wr.apply(this,arguments)}function _r(e,t,n,r){return xr.apply(this,arguments)}function xr(){return xr=pe(de().mark((function e(t,n,r,i){var a,o,u=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,yr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Zn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function Ir(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?hr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Sr=function(){function e(t){var n=this;ve(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(er(n.auth,"network-request-failed"))}),mr.get())}))}return ge(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Er(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=er(e,t,r);return i.customData._tokenResponse=n,i}function Tr(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Nr(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}function Rr(e,t){return Pr.apply(this,arguments)}function Pr(){return Pr=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Dr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Or(){return Or=pe(de().mark((function e(t){var n,r,i,a,o,u,s=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=dt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ir((a=Lr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Dr(Mr(a.auth_time)),issuedAtTime:Dr(Mr(a.iat)),expirationTime:Dr(Mr(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}function Mr(e){return 1e3*Number(e)}function Lr(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Jn("JWT malformed, contained fewer than 3 sections"),null;try{var a=Pe(r);return a?JSON.parse(a):(Jn("Failed to decode base64 JWT payload"),null)}catch(o){return Jn("Caught error parsing JWT payload as JSON",o),null}}function Fr(e,t){return jr.apply(this,arguments)}function jr(){return jr=pe(de().mark((function e(t,n){var r=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof We&&Ur(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),jr.apply(this,arguments)}function Ur(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Br=function(){function e(t){ve(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ge(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(pe(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vr=function(){function e(t,n){ve(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ge(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Dr(this.lastLoginAt),this.creationTime=Dr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function qr(e){return zr.apply(this,arguments)}function zr(){return zr=pe(de().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Fr(t,Rr(r,{idToken:i}));case 6:ir(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Hr(o.providerUserInfo):[],s=Gr(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Vr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function Wr(){return(Wr=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dt(t),e.next=3,qr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(be(n),be(t))}function Hr(e){return e.map((function(e){var t=e.providerId,n=On(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Kr(e,t){return Qr.apply(this,arguments)}function Qr(){return Qr=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(t,{},pe(de().mark((function e(){var r,i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ir(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",pr.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Qr.apply(this,arguments)}var Yr=function(){function e(){ve(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ge(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ir(e.idToken,"internal-error"),ir("undefined"!==typeof e.idToken,"internal-error"),ir("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Lr(e);return ir(t,"internal-error"),ir("undefined"!==typeof t.exp,"internal-error"),ir("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=pe(de().mark((function e(t){var n,r=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ir(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=pe(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ar("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ir("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ir("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ir("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function $r(e,t){ir("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Xr=function(){function e(t){ve(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=On(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?be(a.providerData):[],this.metadata=new Vr(a.createdAt||void 0,a.lastLoginAt||void 0)}return ge(e,[{key:"getIdToken",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ir(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Or.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Wr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ir(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ir(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=pe(de().mark((function e(t){var n,r,i=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,qr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Fr(this,Tr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;ir(b&&x,t,"internal-error");var I=Yr.fromJSON(this.name,x);ir("string"===typeof b,t,"internal-error"),$r(f,t.name),$r(d,t.name),ir("boolean"===typeof k,t,"internal-error"),ir("boolean"===typeof w,t,"internal-error"),$r(h,t.name),$r(p,t.name),$r(v,t.name),$r(m,t.name),$r(g,t.name),$r(y,t.name);var S=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=pe(de().mark((function t(n,r){var i,a,o,u=arguments;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Yr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,qr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Jr=function(){function e(){ve(this,e),this.type="NONE",this.storage={}}return ge(e,[{key:"_isAvailable",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Jr.type="NONE";var Zr=Jr;function ei(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ti=function(){function e(t,n,r){ve(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ei(this.userKey,a.apiKey,o),this.fullPersistenceKey=ei("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ge(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Xr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=pe(de().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(sr(Zr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||sr(Zr),u=ei(i,n.config.apiKey,n.name),s=null,c=fe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=Xr._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ni(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ri(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(si(t))return"Blackberry";if(ci(t))return"Webos";if(ii(t))return"Safari";if((t.includes("chrome/")||ai(t))&&!t.includes("edge/"))return"Chrome";if(ui(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/firefox\//i.test(e)}function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/crios\//i.test(e)}function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/iemobile/i.test(e)}function ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/android/i.test(e)}function si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/blackberry/i.test(e)}function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/webos/i.test(e)}function li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/iphone|ipad|ipod/i.test(e)}function fi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return li(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function di(){return Ve()&&10===document.documentMode}function hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return li(e)||ui(e)||ci(e)||si(e)||/windows phone/i.test(e)||oi(e)}function pi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ni(Le());break;case"Worker":t="".concat(ni(Le()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(fn,"/").concat(r)}var vi=function(){function e(t){ve(this,e),this.auth=t,this.queue=[]}return ge(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=pe(de().mark((function e(t){var n,r,i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=fe(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=fe(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),mi=function(){function e(t,n,r){ve(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.beforeStateQueue=new vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$n,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ge(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(pe(de().mark((function r(){var i,a;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ti.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=pe(de().mark((function e(t){var n,r,i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ir(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?dt(t):null)&&ir(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=pe(de().mark((function e(t){var n,r=this,i=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ir(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(pe(de().mark((function n(){return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(sr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ge("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ir(n=t&&sr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ti.create(this,[sr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=pe(de().mark((function e(t){var n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ir(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ir(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=pe(de().mark((function e(){var t,n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ke({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gi(e){return dt(e)}var yi=function(){function e(t){var n=this;ve(this,e),this.auth=t,this.observer=null,this.addObserver=ut((function(e){return n.observer=e}))}return ge(e,[{key:"next",get:function(){return ir(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function bi(e,t,n){var r=gi(e);ir(r._canInitEmulator,r,"emulator-config-failed"),ir(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ki(t),o=function(e){var t=ki(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:wi(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:wi(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ki(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var _i=function(){function e(t,n){ve(this,e),this.providerId=t,this.signInMethod=n}return ge(e,[{key:"toJSON",value:function(){return ar("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ar("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ar("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ar("not implemented")}}]),e}();function xi(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:resetPassword",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Si(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Ti(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:update",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function Ni(e,t){return Ai.apply(this,arguments)}function Ai(){return Ai=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_r(t,"POST","/v1/accounts:signInWithPassword",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Ri(e,t){return Pi.apply(this,arguments)}function Pi(){return Pi=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:sendOobCode",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Di(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,n));case 1:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Mi(e,t){return Li.apply(this,arguments)}function Li(){return Li=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,n));case 1:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Fi(e,t){return ji.apply(this,arguments)}function ji(){return ji=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,n));case 1:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Ui(e,t){return Bi.apply(this,arguments)}function Bi(){return Bi=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,n));case 1:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function Vi(e,t){return qi.apply(this,arguments)}function qi(){return qi=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_r(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function zi(e,t){return Wi.apply(this,arguments)}function Wi(){return Wi=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_r(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}var Gi=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ve(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ge(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ni(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Vi(t,{email:this._email,oobCode:this._password}));case 5:Zn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Si(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",zi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Zn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(_i);function Hi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_r(t,"POST","/v1/accounts:signInWithIdp",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}var Qi=function(e){oe(n,e);var t=le(n);function n(){var e;return ve(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ge(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Hi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Hi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Hi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=On(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(_i);function Yi(e,t){return $i.apply(this,arguments)}function $i(){return $i=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:sendVerificationCode",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Xi(){return Xi=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_r(t,"POST","/v1/accounts:signInWithPhoneNumber",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(){return Ji=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r(t,"POST","/v1/accounts:signInWithPhoneNumber",gr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Er(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}var Zi=ke({},"USER_NOT_FOUND","user-not-found");function ea(){return ea=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",_r(t,"POST","/v1/accounts:signInWithPhoneNumber",gr(t,r),Zi));case 2:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}var ta=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ge(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Xi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ji.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ea.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(_i);var na=function(){function e(t){var n,r,i,a,o,u;ve(this,e);var s=it(at(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ir(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ge(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=it(at(e)).link,n=t?it(at(t)).deep_link_id:null,r=it(at(e)).deep_link_id;return(r?it(at(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(I_){return null}}}]),e}();var ra=function(){function e(){ve(this,e),this.providerId=e.PROVIDER_ID}return ge(e,null,[{key:"credential",value:function(e,t){return Gi._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=na.parseLink(t);return ir(n,"argument-error"),Gi._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ra.PROVIDER_ID="password",ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ia=function(){function e(t){ve(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ge(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),aa=function(e){oe(n,e);var t=le(n);function n(){var e;return ve(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ge(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return be(this.scopes)}}]),n}(ia),oa=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ir(e.idToken||e.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ir("providerId"in t&&"signInMethod"in t,"argument-error"),Qi._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(aa),ua=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.call(this,"facebook.com")}return ge(n,null,[{key:"credential",value:function(e){return Qi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(I_){return null}}}]),n}(aa);ua.FACEBOOK_SIGN_IN_METHOD="facebook.com",ua.PROVIDER_ID="facebook.com";var sa=function(e){oe(n,e);var t=le(n);function n(){var e;return ve(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ge(n,null,[{key:"credential",value:function(e,t){return Qi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(I_){return null}}}]),n}(aa);sa.GOOGLE_SIGN_IN_METHOD="google.com",sa.PROVIDER_ID="google.com";var ca=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.call(this,"github.com")}return ge(n,null,[{key:"credential",value:function(e){return Qi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(I_){return null}}}]),n}(aa);ca.GITHUB_SIGN_IN_METHOD="github.com",ca.PROVIDER_ID="github.com";var la=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ge(n,[{key:"_getIdTokenResponse",value:function(e){return Hi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Hi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Hi(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(_i),fa=function(e){oe(n,e);var t=le(n);function n(e){return ve(this,n),ir(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ge(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=la.fromJSON(e);return ir(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return la._create(r,n)}catch(i){return null}}}]),n}(ia),da=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.call(this,"twitter.com")}return ge(n,null,[{key:"credential",value:function(e,t){return Qi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(I_){return null}}}]),n}(aa);function ha(e,t){return pa.apply(this,arguments)}function pa(){return pa=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_r(t,"POST","/v1/accounts:signUp",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}da.TWITTER_SIGN_IN_METHOD="twitter.com",da.PROVIDER_ID="twitter.com";var va=function(){function e(t){ve(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ge(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=pe(de().mark((function t(n,r,i){var a,o,u,s,c=arguments;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Xr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ma(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=pe(de().mark((function t(n,r,i){var a;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ma(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ma(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ga(){return ga=pe(de().mark((function e(t){var n,r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gi(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new va({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ha(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,va._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}var ya=function(e){oe(n,e);var t=le(n);function n(e,r,i,a){var o,u;return ve(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ie(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ge(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(We);function ba(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ya._fromErrorAndOperation(e,n,t,r);throw n}))}function ka(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function wa(e,t){return _a.apply(this,arguments)}function _a(){return _a=pe(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dt(t),e.next=3,Sa(!0,r,n);case 3:return e.t0=Nr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ka(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function xa(e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=pe(de().mark((function e(t,n){var r,i,a=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Fr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",va._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Sa(e,t,n){return Ea.apply(this,arguments)}function Ea(){return(Ea=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr(n);case 2:i=ka(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ir(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=pe(de().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Fr(t,ba(i,a,n,t),r);case 6:return ir((o=e.sent).idToken,i,"internal-error"),ir(u=Lr(o.idToken),i,"internal-error"),s=u.sub,ir(t.uid===s,i,"user-mismatch"),e.abrupt("return",va._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Zn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ca.apply(this,arguments)}function Na(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=pe(de().mark((function e(t,n){var r,i,a,o,u=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ba(t,i,n);case 4:return a=e.sent,e.next=7,va._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Ra(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na(gi(t),n));case 1:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Da(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dt(t),e.next=3,Sa(!1,r,n.providerId);case 3:return e.abrupt("return",xa(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e,t){return La.apply(this,arguments)}function La(){return(La=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(dt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e,t){return ja.apply(this,arguments)}function ja(){return ja=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_r(t,"POST","/v1/accounts:signInWithCustomToken",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function Ua(){return Ua=pe(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gi(t),e.next=3,Fa(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,va._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}var Ba=function(){function e(t,n){ve(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ge(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Va._fromServerResponse(e,t):Zn(e,"internal-error")}}]),e}(),Va=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ge(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ba);function qa(e,t,n){var r;ir((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ir("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ir(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ir(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function za(){return za=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dt(t),a={requestType:"PASSWORD_RESET",email:n},r&&qa(i,a,r),e.next=5,Mi(i,a);case 5:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Wa(){return Wa=pe(de().mark((function e(t,n,r){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(dt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ga(){return Ga=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(dt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Ha(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=pe(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dt(t),e.next=3,xi(r,{oobCode:n});case 3:i=e.sent,ir(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ir(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ir(i.mfaInfo,r,"internal-error");case 13:ir(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ba._fromServerResponse(gi(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Qa(){return Qa=pe(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(dt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function Ya(e,t,n){return $a.apply(this,arguments)}function $a(){return $a=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gi(t),e.next=3,ha(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,va._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Xa(e,t,n){return Ra(dt(e),ra.credential(t,n))}function Ja(){return Ja=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dt(t),a={requestType:"EMAIL_SIGNIN",email:n},ir(r.handleCodeInApp,i,"argument-error"),r&&qa(i,a,r),e.next=6,Fi(i,a);case 6:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Za(){return Za=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dt(t),ir((a=ra.credentialWithLink(n,r||cr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ra(i,a));case 4:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return to=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:createAuthUri",gr(t,n)));case 1:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}function no(){return no=pe(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr()?cr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,eo(dt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(){return(ro=pe(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&qa(r.auth,a,n),e.next=8,Di(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(){return(io=pe(de().mark((function e(t,n,r){var i,a,o,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&qa(i.auth,o,r),e.next=8,Ui(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function uo(){return(uo=pe(de().mark((function e(t,n){var r,i,a,o,u,s,c;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=dt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Fr(a,ao(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t,n){return co.apply(this,arguments)}function co(){return co=pe(de().mark((function e(t,n,r){var i,a,o,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Fr(t,Si(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}var lo=ge((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ve(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),fo=function(e){oe(n,e);var t=le(n);function n(e,r,i,a){var o;return ve(this,n),(o=t.call(this,e,r,i)).username=a,o}return ge(n)}(lo),ho=function(e){oe(n,e);var t=le(n);function n(e,r){return ve(this,n),t.call(this,e,"facebook.com",r)}return ge(n)}(lo),po=function(e){oe(n,e);var t=le(n);function n(e,r){return ve(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ge(n)}(fo),vo=function(e){oe(n,e);var t=le(n);function n(e,r){return ve(this,n),t.call(this,e,"google.com",r)}return ge(n)}(lo),mo=function(e){oe(n,e);var t=le(n);function n(e,r,i){return ve(this,n),t.call(this,e,"twitter.com",r,i)}return ge(n)}(fo);function go(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Lr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new lo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ho(a,i);case"github.com":return new po(a,i);case"google.com":return new vo(a,i);case"twitter.com":return new mo(a,i,e.screenName||null);case"custom":case"anonymous":return new lo(a,null);default:return new lo(a,r,i)}}(n)}var yo=function(){function e(t,n){ve(this,e),this.type=t,this.credential=n}return ge(e,[{key:"toJSON",value:function(){return{multiFactorSession:ke({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),bo=function(){function e(t,n,r){ve(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ge(e,[{key:"resolveSignIn",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=gi(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ba._fromServerResponse(r,e)}));ir(i.mfaPendingCredential,r,"internal-error");var o=yo._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=pe(de().mark((function e(t){var a,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,va._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ir(n.user,r,"internal-error"),e.abrupt("return",va._forOperation(n.user,n.operationType,u));case 17:Zn(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ko(e,t){return yr(e,"POST","/v2/accounts/mfaEnrollment:start",gr(e,t))}function wo(e,t){return yr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",gr(e,t))}var _o=function(){function e(t){var n=this;ve(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ba._fromServerResponse(t.auth,e)})))}))}return ge(e,[{key:"getSession",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=yo,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=pe(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Fr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=pe(de().mark((function e(t){var n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Fr(this.user,wo(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),xo=new WeakMap;var Io="__sak",So=function(){function e(t,n){ve(this,e),this.storageRetriever=t,this.type=n}return ge(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Io,"1"),this.storage.removeItem(Io),Promise.resolve(!0)):Promise.resolve(!1)}catch(I_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Eo=function(e){oe(n,e);var t=le(n);function n(){var e;return ve(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Le();return ii(e)||li(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=hi(),e._shouldAllowMigration=!0,e}return ge(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);di()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=pe(de().mark((function e(t,r){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=pe(de().mark((function e(t){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(So);Eo.type="LOCAL";var To=Eo,Co=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ge(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(So);Co.type="SESSION";var No=Co;function Ao(e){return Promise.all(e.map(function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ro=function(){function e(t){ve(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ge(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=pe(de().mark((function e(t){var n,r,i,a,o,u,s,c;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ao(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Po(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ro.receivers=[];var Do=function(){function e(t){ve(this,e),this.target=t,this.handlers=new Set}return ge(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=pe(de().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Po("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Oo(){return window}function Mo(){return"undefined"!==typeof Oo().WorkerGlobalScope&&"function"===typeof Oo().importScripts}function Lo(){return Fo.apply(this,arguments)}function Fo(){return(Fo=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function jo(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Uo="firebaseLocalStorageDb",Bo="firebaseLocalStorage",Vo="fbase_key",qo=function(){function e(t){ve(this,e),this.request=t}return ge(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function zo(e,t){return e.transaction([Bo],t?"readwrite":"readonly").objectStore(Bo)}function Wo(){var e=indexedDB.deleteDatabase(Uo);return new qo(e).toPromise()}function Go(){var e=indexedDB.open(Uo,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Bo,{keyPath:Vo})}catch(r){n(r)}})),e.addEventListener("success",pe(de().mark((function n(){var r;return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Bo)){n.next=12;break}return r.close(),n.next=5,Wo();case 5:return n.t0=t,n.next=8,Go();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ho(e,t,n){return Ko.apply(this,arguments)}function Ko(){return Ko=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=zo(t,!0).put((ke(i={},Vo,n),ke(i,"value",r),i)),e.abrupt("return",new qo(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Qo(e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=pe(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t,!1).get(n),e.next=3,new qo(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function $o(e,t){var n=zo(e,!0).delete(t);return new qo(n).toPromise()}var Xo=function(){function e(){ve(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ge(e,[{key:"_openDb",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Go();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=pe(de().mark((function e(){var t=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ro._getInstance(Mo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=pe(de().mark((function e(n,r){var i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=pe(de().mark((function e(){var t,n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Do(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&jo()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Go();case 5:return t=e.sent,e.next=8,Ho(t,Io,"1");case 8:return e.next=10,$o(t,Io);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=pe(de().mark((function e(t,n){var r=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ho(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Qo(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=pe(de().mark((function e(t){var n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return $o(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=pe(de().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=zo(e,!1).getAll();return new qo(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=fe(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(pe(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Xo.type="LOCAL";var Jo=Xo;function Zo(e,t){return yr(e,"POST","/v2/accounts/mfaSignIn:start",gr(e,t))}function eu(e){return tu.apply(this,arguments)}function tu(){return tu=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=er("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ru(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var iu=1e12,au=function(){function e(t){ve(this,e),this.auth=t,this.counter=iu,this._widgets=new Map}return ge(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ou(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||iu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||iu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||iu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ou=function(){function e(t,n,r){var i=this;ve(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ir(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ge(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var uu=ru("rcb"),su=new dr(3e4,6e4),cu="https://www.google.com/recaptcha/api.js?",lu=function(){function e(){ve(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Oo().grecaptcha}return ge(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ir(fu(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Oo().grecaptcha):new Promise((function(r,i){var a=Oo().setTimeout((function(){i(er(e,"network-request-failed"))}),su.get());Oo()[uu]=function(){Oo().clearTimeout(a),delete Oo()[uu];var o=Oo().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(er(e,"internal-error"))},nu("".concat(cu,"?").concat(rt({onload:uu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(er(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Oo().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function fu(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var du=function(){function e(){ve(this,e)}return ge(e,[{key:"load",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new au(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),hu="recaptcha",pu={theme:"light",type:"image"},vu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},pu),r=arguments.length>2?arguments[2]:void 0;ve(this,e),this.parameters=n,this.type=hu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gi(r),this.isInvisible="invisible"===this.parameters.size,ir("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ir(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new du:new lu,this.validateStartingState()}return ge(e,[{key:"verify",value:function(){var e=pe(de().mark((function e(){var t,n,r,i=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ir(!this.parameters.sitekey,this.auth,"argument-error"),ir(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ir("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Oo()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ir(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=pe(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ir(lr()&&!Mo(),this.auth,"internal-error"),e.next=3,mu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,eu(this.auth);case 8:ir(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ir(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function mu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var gu=function(){function e(t,n){ve(this,e),this.verificationId=t,this.onConfirmation=n}return ge(e,[{key:"confirm",value:function(e){var t=ta._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function yu(){return yu=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gi(t),e.next=3,_u(i,n,dt(r));case 3:return a=e.sent,e.abrupt("return",new gu(a,(function(e){return Ra(i,e)})));case 5:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function bu(e,t,n){return ku.apply(this,arguments)}function ku(){return(ku=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dt(t),e.next=3,Sa(!1,i,"phone");case 3:return e.next=5,_u(i.auth,n,dt(r));case 5:return a=e.sent,e.abrupt("return",new gu(a,(function(e){return Da(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(){return(wu=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dt(t),e.next=3,_u(i.auth,n,dt(r));case 3:return a=e.sent,e.abrupt("return",new gu(a,(function(e){return Ma(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t,n){return xu.apply(this,arguments)}function xu(){return xu=pe(de().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ir("string"===typeof a,t,"argument-error"),ir(r.type===hu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ir("enroll"===u.type,t,"internal-error"),e.next=13,ko(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ir("signin"===u.type,t,"internal-error"),ir(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Zo(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Yi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),xu.apply(this,arguments)}function Iu(){return(Iu=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(dt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Su=function(){function e(t){ve(this,e),this.providerId=e.PROVIDER_ID,this.auth=gi(t)}return ge(e,[{key:"verifyPhoneNumber",value:function(e,t){return _u(this.auth,e,dt(t))}}],[{key:"credential",value:function(e,t){return ta._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ta._fromTokenResponse(n,r):null}}]),e}();function Eu(e,t){return t?sr(t):(ir(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Su.PROVIDER_ID="phone",Su.PHONE_SIGN_IN_METHOD="phone";var Tu=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ge(n,[{key:"_getIdTokenResponse",value:function(e){return Hi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Hi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Hi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(_i);function Cu(e){return Na(e.auth,new Tu(e),e.bypassAuthState)}function Nu(e){var t=e.auth,n=e.user;return ir(n,t,"internal-error"),Ta(n,new Tu(e),e.bypassAuthState)}function Au(e){return Ru.apply(this,arguments)}function Ru(){return Ru=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ir(r=t.user,n,"internal-error"),e.abrupt("return",xa(r,new Tu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}var Pu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ve(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ge(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=pe(de().mark((function t(n,r){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=pe(de().mark((function e(t){var n,r,i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cu;case"linkViaPopup":case"linkViaRedirect":return Au;case"reauthViaPopup":case"reauthViaRedirect":return Nu;default:Zn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Du=new dr(2e3,1e4);function Ou(e,t,n){return Mu.apply(this,arguments)}function Mu(){return Mu=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gi(t),nr(t,n,ia),a=Eu(i,r),o=new Uu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Lu(){return(Lu=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr((i=dt(t)).auth,n,ia),a=Eu(i.auth,r),o=new Uu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t,n){return ju.apply(this,arguments)}function ju(){return(ju=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr((i=dt(t)).auth,n,ia),a=Eu(i.auth,r),o=new Uu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uu=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o){var u;return ve(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ie(u),u}return ge(n,[{key:"executeNotNull",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ir(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=pe(de().mark((function e(){var t,n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return or(1===this.filter.length,"Popup operations only handle one event"),t=Po(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(er(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(er(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(er(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Du.get())}()}}]),n}(Pu);Uu.currentPopupAction=null;var Bu=new Map,Vu=function(e){oe(n,e);var t=le(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ve(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ge(n,[{key:"execute",value:function(){var e=pe(de().mark((function e(){var t,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,qu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,re(te(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Bu.set(this.auth._key(),t);case 21:return this.bypassAuthState||Bu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=pe(de().mark((function e(t){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",re(te(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",re(te(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Pu);function qu(e,t){return zu.apply(this,arguments)}function zu(){return zu=pe(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qu(n),i=Ku(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function Wu(e,t){return Gu.apply(this,arguments)}function Gu(){return Gu=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t)._set(Qu(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Hu(e,t){Bu.set(e._key(),t)}function Ku(e){return sr(e._redirectPersistence)}function Qu(e){return ei("pendingRedirect",e.config.apiKey,e.name)}function Yu(e,t,n){return function(e,t,n){return $u.apply(this,arguments)}(e,t,n)}function $u(){return $u=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gi(t),nr(t,n,ia),a=Eu(i,r),e.next=5,Wu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Xu(e,t,n){return function(e,t,n){return Ju.apply(this,arguments)}(e,t,n)}function Ju(){return(Ju=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr((i=dt(t)).auth,n,ia),a=Eu(i.auth,r),e.next=5,Wu(a,i.auth);case 5:return e.next=7,as(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t,n){return function(e,t,n){return es.apply(this,arguments)}(e,t,n)}function es(){return(es=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr((i=dt(t)).auth,n,ia),a=Eu(i.auth,r),e.next=5,Sa(!1,i,n.providerId);case 5:return e.next=7,Wu(a,i.auth);case 7:return e.next=9,as(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gi(t)._initializationPromise;case 2:return e.abrupt("return",rs(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=pe(de().mark((function e(t,n){var r,i,a,o,u,s=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=gi(t),a=Eu(i,n),o=new Vu(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e){return os.apply(this,arguments)}function os(){return(os=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Po("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var us=function(){function e(t){ve(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ge(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!cs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(er(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ss(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ss(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ss(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ls(e){return fs.apply(this,arguments)}function fs(){return fs=pe(de().mark((function e(t){var n,r=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",yr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}var ds=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hs=/^https?/;function ps(){return ps=pe(de().mark((function e(t){var n,r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ls(t);case 4:n=e.sent,r=n.authorizedDomains,i=fe(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Zn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ps.apply(this,arguments)}function vs(e){var t=cr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!hs.test(r))return!1;if(ds.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ms=new dr(3e4,6e4);function gs(){var e=Oo().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=be(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ys=null;function bs(e){return ys=ys||function(e){return new Promise((function(t,n){var r,i,a;function o(){gs(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gs(),n(er(e,"network-request-failed"))},timeout:ms.get()})}if(null===(i=null===(r=Oo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Oo().gapi)||void 0===a?void 0:a.load)){var u=ru("iframefcb");return Oo()[u]=function(){gapi.load?o():n(er(e,"network-request-failed"))},nu("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ys=null,e}))}(e),ys}var ks=new dr(5e3,15e3),ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_s=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xs(e){var t=e.config;ir(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?hr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:fn},i=_s.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(rt(r).slice(1))}function Is(e){return Ss.apply(this,arguments)}function Ss(){return Ss=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bs(t);case 2:return n=e.sent,ir(r=Oo().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:xs(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ws,dontclear:!0},(function(e){return new Promise(function(){var n=pe(de().mark((function n(r,i){var a,o,u;return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Oo().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=er(t,"network-request-failed"),o=Oo().setTimeout((function(){i(a)}),ks.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}var Es={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ts="_blank",Cs="http://localhost",Ns=function(){function e(t){ve(this,e),this.window=t,this.associatedEvent=null}return ge(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function As(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Es),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Le().toLowerCase();n&&(u=ai(c)?Ts:n),ri(c)&&(t=t||Cs,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(fi(c)&&"_self"!==u)return Rs(t||"",u),new Ns(null);var d=window.open(t||"",u,l);ir(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Ns(d)}function Rs(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ps="__/auth/handler",Ds="emulator/auth/handler";function Os(e,t,n,r,i,a){ir(e.config.authDomain,e,"auth-domain-config-required"),ir(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fn,eventId:i};if(t instanceof ia){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ze(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=f(s[u],2),l=c[0],d=c[1];o[l]=d}}if(t instanceof aa){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ps);return hr(t,Ds)}(e),"?").concat(rt(p).slice(1))}var Ms="webStorageSupport",Ls=function(){function e(){ve(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=No,this._completeRedirectFn=rs,this._overrideRedirectResult=Hu}return ge(e,[{key:"_openPopup",value:function(){var e=pe(de().mark((function e(t,n,r,i){var a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return or(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Os(t,n,r,cr(),i),e.abrupt("return",As(t,o,Po()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=pe(de().mark((function e(t,n,r,i){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Os(t,n,r,cr(),i),Oo().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(or(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Is(t);case 2:return n=e.sent,r=new us(t),n.register("authEvent",(function(e){return ir(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ms,{type:Ms},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Zn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ps.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return hi()||ii()||li()}}]),e}(),Fs=Ls,js=function(){function e(t){ve(this,e),this.factorId=t}return ge(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ar("unexpected MultiFactorSessionType")}}}]),e}(),Us=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this,"phone")).credential=e,r}return ge(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return yr(e,"POST","/v2/accounts/mfaEnrollment:finalize",gr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return yr(e,"POST","/v2/accounts/mfaSignIn:finalize",gr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(js),Bs=function(){function e(){ve(this,e)}return ge(e,null,[{key:"assertion",value:function(e){return Us._fromCredential(e)}}]),e}();Bs.FACTOR_ID="phone";var Vs,qs="@firebase/auth",zs="0.20.2",Ws=function(){function e(t){ve(this,e),this.auth=t,this.internalListeners=new Map}return ge(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ir(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Gs(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Hs(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Vs="Browser",rn(new ht("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ir(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ir(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Vs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pi(Vs)},i=new mi(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),rn(new ht("auth-internal",(function(e){return function(e){return new Ws(e)}(gi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),gn(qs,zs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vs)),gn(qs,zs,"esm2017");var Ks=function(){return Ks=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ks.apply(this,arguments)},Qs=function(e){return{loading:void 0===e||null===e,value:e}},Ys=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return Ks(Ks({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Qs(t.defaultValue);case"value":return Ks(Ks({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Qs(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},$s=function(e,t){var n=Ys((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,i.useEffect)((function(){var n=function(e,t,n,r){return dt(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Gs(void 0,void 0,void 0,(function(){var n;return Hs(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,r];return(0,i.useMemo)((function(){return c}),c)},Xs={tasks:"Tasks_tasks__Rt0Jp",tasksWindow:"Tasks_tasksWindow__J47GS",tasksList:"Tasks_tasksList__6cMPG",queries:"Tasks_queries__tF2wC"};function Js(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Zs(e,t){if(null==e)return{};var n,r,i=Js(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ec,tc="Task_task__AxqWw",nc="Task_taskInput__6l0HK",rc="Task_lightTaskInput__+Dt32",ic="Task_text__+M2DB",ac="Task_cross__qMRLW",oc="Task_mark__2EM+t",uc={mark:"\u0421heckmark_mark__7tEmZ",filled:"\u0421heckmark_filled__-GNVo"},sc=n(184),cc=["isActive"],lc=function(e){var t=e.isActive,n=Zs(e,cc),r=(0,sc.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"9",children:(0,sc.jsx)("path",{fill:"none",stroke:"#FFF",strokeWidth:"2",d:"M1 4.304L3.696 7l6-6"})}),i=t?uc.blank:uc.filled;return(0,sc.jsx)("div",Tt(Tt({},n),{},{children:(0,sc.jsx)("div",{className:uc.mark+" "+i,children:t?"":r})}))},fc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},dc={},hc=hc||{},pc=fc||self;function vc(){}function mc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function gc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var yc="closure_uid_"+(1e9*Math.random()>>>0),bc=0;function kc(e,t,n){return e.call.apply(e.bind,arguments)}function wc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _c(e,t,n){return(_c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kc:wc).apply(null,arguments)}function xc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ic(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Sc(){this.s=this.s,this.o=this.o}var Ec={};Sc.prototype.s=!1,Sc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,yc)&&e[yc]||(e[yc]=++bc)}(this);delete Ec[e]}},Sc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Tc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Cc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Nc(e){return Array.prototype.concat.apply([],arguments)}function Ac(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rc(e){return/^[\s\xa0]*$/.test(e)}var Pc,Dc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Oc(e,t){return-1!=e.indexOf(t)}function Mc(e,t){return e<t?-1:e>t?1:0}e:{var Lc=pc.navigator;if(Lc){var Fc=Lc.userAgent;if(Fc){Pc=Fc;break e}}Pc=""}function jc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Uc(e){var t={};for(var n in e)t[n]=e[n];return t}var Bc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Bc.length;a++)n=Bc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qc(e){return qc[" "](e),e}qc[" "]=vc;var zc,Wc=Oc(Pc,"Opera"),Gc=Oc(Pc,"Trident")||Oc(Pc,"MSIE"),Hc=Oc(Pc,"Edge"),Kc=Hc||Gc,Qc=Oc(Pc,"Gecko")&&!(Oc(Pc.toLowerCase(),"webkit")&&!Oc(Pc,"Edge"))&&!(Oc(Pc,"Trident")||Oc(Pc,"MSIE"))&&!Oc(Pc,"Edge"),Yc=Oc(Pc.toLowerCase(),"webkit")&&!Oc(Pc,"Edge");function $c(){var e=pc.document;return e?e.documentMode:void 0}e:{var Xc="",Jc=function(){var e=Pc;return Qc?/rv:([^\);]+)(\)|;)/.exec(e):Hc?/Edge\/([\d\.]+)/.exec(e):Gc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Yc?/WebKit\/(\S+)/.exec(e):Wc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jc&&(Xc=Jc?Jc[1]:""),Gc){var Zc=$c();if(null!=Zc&&Zc>parseFloat(Xc)){zc=String(Zc);break e}}zc=Xc}var el,tl={};function nl(){return function(e){var t=tl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Dc(String(zc)).split("."),n=Dc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Mc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Mc(0==a[2].length,0==o[2].length)||Mc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(pc.document&&Gc){var rl=$c();el=rl||(parseInt(zc,10)||void 0)}else el=void 0;var il=el,al=function(){if(!pc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pc.addEventListener("test",vc,t),pc.removeEventListener("test",vc,t)}catch(n){}return e}();function ol(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ul(e,t){if(ol.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qc){e:{try{qc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ul.Z.h.call(this)}}ol.prototype.h=function(){this.defaultPrevented=!0},Ic(ul,ol);var sl={2:"touch",3:"pen",4:"mouse"};ul.prototype.h=function(){ul.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cl="closure_listenable_"+(1e6*Math.random()|0),ll=0;function fl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ll,this.ca=this.fa=!1}function dl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function hl(e){this.src=e,this.g={},this.h=0}function pl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Tc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(dl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vl(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}hl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=vl(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fl(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ml="closure_lm_"+(1e6*Math.random()|0),gl={};function yl(e,t,n,r,i){if(r&&r.once)return kl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)yl(e,t[a],n,r,i);return null}return n=Tl(n),e&&e[cl]?e.N(t,n,gc(r)?!!r.capture:!!r,i):bl(e,t,n,!1,r,i)}function bl(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=gc(i)?!!i.capture:!!i,u=Sl(e);if(u||(e[ml]=u=new hl(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Il;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)al||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function kl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)kl(e,t[a],n,r,i);return null}return n=Tl(n),e&&e[cl]?e.O(t,n,gc(r)?!!r.capture:!!r,i):bl(e,t,n,!0,r,i)}function wl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)wl(e,t[a],n,r,i);else r=gc(r)?!!r.capture:!!r,n=Tl(n),e&&e[cl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vl(a=e.g[t],n,r,i))&&(dl(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Sl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vl(t,n,r,i)),(n=-1<e?t[e]:null)&&_l(n))}function _l(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[cl])pl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sl(t))?(pl(n,e),0==n.h&&(n.src=null,t[ml]=null)):dl(e)}}}function xl(e){return e in gl?gl[e]:gl[e]="on"+e}function Il(e,t){if(e.ca)e=!0;else{t=new ul(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&_l(e),e=n.call(r,t)}return e}function Sl(e){return(e=e[ml])instanceof hl?e:null}var El="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(e){return"function"===typeof e?e:(e[El]||(e[El]=function(t){return e.handleEvent(t)}),e[El])}function Cl(){Sc.call(this),this.i=new hl(this),this.P=this,this.I=null}function Nl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ol(t,e);else if(t instanceof ol)t.target=t.target||e;else{var i=t;Vc(t=new ol(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Al(o,r,!0,t)&&i}if(i=Al(o=t.g=e,r,!0,t)&&i,i=Al(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Al(o=t.g=n[a],r,!1,t)&&i}function Al(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&pl(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ic(Cl,Sc),Cl.prototype[cl]=!0,Cl.prototype.removeEventListener=function(e,t,n,r){wl(this,e,t,n,r)},Cl.prototype.M=function(){if(Cl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dl(n[r]);delete t.g[e],t.h--}}this.I=null},Cl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Cl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rl=pc.JSON.stringify;function Pl(){var e=Bl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Dl,Ol=function(){function e(){ve(this,e),this.h=this.g=null}return ge(e,[{key:"add",value:function(e,t){var n=Ml.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ml=new(function(){function e(t,n){ve(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ge(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ll}),(function(e){return e.reset()})),Ll=function(){function e(){ve(this,e),this.next=this.g=this.h=null}return ge(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Fl(e){pc.setTimeout((function(){throw e}),0)}function jl(e,t){Dl||function(){var e=pc.Promise.resolve(void 0);Dl=function(){e.then(Vl)}}(),Ul||(Dl(),Ul=!0),Bl.add(e,t)}var Ul=!1,Bl=new Ol;function Vl(){for(var e;e=Pl();){try{e.h.call(e.g)}catch(n){Fl(n)}var t=Ml;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ul=!1}function ql(e,t){Cl.call(this),this.h=e||1,this.g=t||pc,this.j=_c(this.kb,this),this.l=Date.now()}function zl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Wl(e,t,n){if("function"===typeof e)n&&(e=_c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_c(e.handleEvent,e)}return 2147483647<Number(t)?-1:pc.setTimeout(e,t||0)}function Gl(e){e.g=Wl((function(){e.g=null,e.i&&(e.i=!1,Gl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ic(ql,Cl),(ec=ql.prototype).da=!1,ec.S=null,ec.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nl(this,"tick"),this.da&&(zl(this),this.start()))}},ec.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ec.M=function(){ql.Z.M.call(this),zl(this),delete this.g};var Hl=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ge(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Gl(this)}},{key:"M",value:function(){re(te(n.prototype),"M",this).call(this),this.g&&(pc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Sc);function Kl(e){Sc.call(this),this.h=e,this.g={}}Ic(Kl,Sc);var Ql=[];function Yl(e,t,n,r){Array.isArray(n)||(n&&(Ql[0]=n.toString()),n=Ql);for(var i=0;i<n.length;i++){var a=yl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $l(e){jc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&_l(e)}),e),e.g={}}function Xl(){this.g=!0}function Jl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Rl(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Kl.prototype.M=function(){Kl.Z.M.call(this),$l(this)},Kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xl.prototype.Aa=function(){this.g=!1},Xl.prototype.info=function(){};var Zl={},ef=null;function tf(){return ef=ef||new Cl}function nf(e){ol.call(this,Zl.Ma,e)}function rf(e){var t=tf();Nl(t,new nf(t,e))}function af(e,t){ol.call(this,Zl.STAT_EVENT,e),this.stat=t}function of(e){var t=tf();Nl(t,new af(t,e))}function uf(e,t){ol.call(this,Zl.Na,e),this.size=t}function sf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return pc.setTimeout((function(){e()}),t)}Zl.Ma="serverreachability",Ic(nf,ol),Zl.STAT_EVENT="statevent",Ic(af,ol),Zl.Na="timingevent",Ic(uf,ol);var cf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ff(){}function df(e){return e.h||(e.h=e.i())}function hf(){}ff.prototype.h=null;var pf,vf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mf(){ol.call(this,"d")}function gf(){ol.call(this,"c")}function yf(){}function bf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Kl(this),this.P=wf,e=Kc?125:void 0,this.W=new ql(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kf}function kf(){this.i=null,this.g="",this.h=!1}Ic(mf,ol),Ic(gf,ol),Ic(yf,ff),yf.prototype.g=function(){return new XMLHttpRequest},yf.prototype.i=function(){return{}},pf=new yf;var wf=45e3,_f={},xf={};function If(e,t,n){e.K=1,e.v=Kf(Vf(t)),e.s=n,e.U=!0,Sf(e,null)}function Sf(e,t){e.F=Date.now(),Nf(e),e.A=Vf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),od(n.h,"t",r),e.C=0,n=e.l.H,e.h=new kf,e.g=sh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Hl(_c(e.Ia,e,e.g),e.O)),Yl(e.V,e.g,"readystatechange",e.gb),t=e.H?Uc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rf(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ef(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Tf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Cf(e,n))==xf){4==t&&(e.o=4,of(14),i=!1),Jl(e.j,e.m,null,"[Incomplete Response]");break}if(r==_f){e.o=4,of(15),Jl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jl(e.j,e.m,r,null),Of(e,r)}Ef(e)&&r!=xf&&r!=_f&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,of(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),eh(t),t.L=!0,of(11))):(Jl(e.j,e.m,n,"[Invalid Chunked Response]"),Df(e),Pf(e))}function Cf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xf:(n=Number(t.substring(n,r)),isNaN(n)?_f:(r+=1)+n>t.length?xf:(t=t.substr(r,n),e.C=r+n,t))}function Nf(e){e.Y=Date.now()+e.P,Af(e,e.P)}function Af(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=sf(_c(e.eb,e),t)}function Rf(e){e.B&&(pc.clearTimeout(e.B),e.B=null)}function Pf(e){0==e.l.G||e.I||rh(e.l,e)}function Df(e){Rf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,zl(e.W),$l(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Of(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pd(n.i,e)))if(n.I=e.N,!e.J&&pd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;nh(n),Gd(n)}Zd(n),of(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=sf(_c(n.ab,n),6e3));if(1>=hd(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ah(n,11)}else if((e.J||n.g==e)&&nh(n),!Rc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Oc(l,"spdy")||Oc(l,"quic")||Oc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(vd(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Hf(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=uh(r,r.H?r.la:null,r.W),h.J){md(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(Rf(p),Nf(p)),r.g=h}else Jd(r);0<n.l.length&&Qd(n)}else"stop"!=a[0]&&"close"!=a[0]||ah(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ah(n,7):Wd(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}rf(4)}catch(a){}}function Mf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mc(e)||"string"===typeof e)Cc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(mc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(mc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Lf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Lf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ff(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)jf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function jf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ec=bf.prototype).setTimeout=function(e){this.P=e},ec.gb=function(e){e=e.target;var t=this.L;t&&3==Ud(e)?t.l():this.Ia(e)},ec.Ia=function(e){try{if(e==this.g)e:{var t=Ud(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Kc||this.g&&(this.h.h||this.g.ga()||Bd(this.g)))){this.I||4!=t||7==n||rf(8==n||0>=r?3:2),Rf(this);var i=this.g.ba();this.N=i;t:if(Ef(this)){var a=Bd(this.g);e="";var o=a.length,u=4==Ud(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Df(this),Pf(this);var s="";break t}this.h.i=new pc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rc(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,of(12),Df(this),Pf(this);break e}Jl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Of(this,i)}this.U?(Tf(this,t,s),Kc&&this.i&&3==t&&(Yl(this.V,this.W,"tick",this.fb),this.W.start())):(Jl(this.j,this.m,s,null),Of(this,s)),4==t&&Df(this),this.i&&!this.I&&(4==t?rh(this.l,this):(this.i=!1,Nf(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,of(12)):(this.o=0,of(13)),Df(this),Pf(this)}}}catch(t){}},ec.fb=function(){if(this.g){var e=Ud(this.g),t=this.g.ga();this.C<t.length&&(Rf(this),Tf(this,e,t),this.i&&4!=e&&Nf(this))}},ec.cancel=function(){this.I=!0,Df(this)},ec.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rf(3),of(17)),Df(this),this.o=2,Pf(this)):Af(this,this.Y-e)},(ec=Lf.prototype).R=function(){Ff(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ec.T=function(){return Ff(this),this.g.concat()},ec.get=function(e,t){return jf(this.h,e)?this.h[e]:t},ec.set=function(e,t){jf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ec.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Uf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Bf){this.g=void 0!==t?t:e.g,qf(this,e.j),this.s=e.s,zf(this,e.i),Wf(this,e.m),this.l=e.l,t=e.h;var n=new nd;n.i=t.i,t.g&&(n.g=new Lf(t.g),n.h=t.h),Gf(this,n),this.o=e.o}else e&&(n=String(e).match(Uf))?(this.g=!!t,qf(this,n[1]||"",!0),this.s=Qf(n[2]||""),zf(this,n[3]||"",!0),Wf(this,n[4]),this.l=Qf(n[5]||"",!0),Gf(this,n[6]||"",!0),this.o=Qf(n[7]||"")):(this.g=!!t,this.h=new nd(null,this.g))}function Vf(e){return new Bf(e)}function qf(e,t,n){e.j=n?Qf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zf(e,t,n){e.i=n?Qf(t,!0):t}function Wf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gf(e,t,n){t instanceof nd?(e.h=t,function(e,t){t&&!e.j&&(rd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(id(this,t),od(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Yf(t,ed)),e.h=new nd(t,e.g))}function Hf(e,t,n){e.h.set(t,n)}function Kf(e){return Hf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$f),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $f(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yf(t,Xf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yf(t,Xf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yf(n,"/"==n.charAt(0)?Zf:Jf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yf(n,td)),e.join("")};var Xf=/[#\/\?@]/g,Jf=/[#\?:]/g,Zf=/[#\?]/g,ed=/[#\?@]/g,td=/#/g;function nd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rd(e){e.g||(e.g=new Lf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function id(e,t){rd(e),t=ud(e,t),jf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,jf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ff(e)))}function ad(e,t){return rd(e),t=ud(e,t),jf(e.g.h,t)}function od(e,t,n){id(e,t),0<n.length&&(e.i=null,e.g.set(ud(e,t),Ac(n)),e.h+=n.length)}function ud(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ec=nd.prototype).add=function(e,t){rd(this),this.i=null,e=ud(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ec.forEach=function(e,t){rd(this),this.g.forEach((function(n,r){Cc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ec.T=function(){rd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ec.R=function(e){rd(this);var t=[];if("string"===typeof e)ad(this,e)&&(t=Nc(t,this.g.get(ud(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Nc(t,e[n])}return t},ec.set=function(e,t){return rd(this),this.i=null,ad(this,e=ud(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ec.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ec.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var sd=ge((function e(t,n){ve(this,e),this.h=t,this.g=n}));function cd(e){this.l=e||fd,pc.PerformanceNavigationTiming?e=0<(e=pc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pc.g&&pc.g.Ea&&pc.g.Ea()&&pc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ld,fd=10;function dd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hd(e){return e.h?1:e.g?e.g.size:0}function pd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vd(e,t){e.g?e.g.add(t):e.h=t}function md(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=fe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ac(e.i)}function yd(){}function bd(){this.g=new yd}function kd(e,t,n){var r=n||"";try{Mf(e,(function(e,n){var i=e;gc(e)&&(i=Rl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function _d(e){this.l=e.$b||null,this.j=e.ib||!1}function xd(e,t){Cl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Id,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cd.prototype.cancel=function(){if(this.i=gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=fe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yd.prototype.stringify=function(e){return pc.JSON.stringify(e,void 0)},yd.prototype.parse=function(e){return pc.JSON.parse(e,void 0)},Ic(_d,ff),_d.prototype.g=function(){return new xd(this.l,this.j)},_d.prototype.i=(ld={},function(){return ld}),Ic(xd,Cl);var Id=0;function Sd(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ed(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Td(e)}function Td(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ec=xd.prototype).open=function(e,t){if(this.readyState!=Id)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Td(this)},ec.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ec.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ed(this)),this.readyState=Id},ec.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Td(this)),this.g&&(this.readyState=3,Td(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof pc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sd(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ec.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ed(this):Td(this),3==this.readyState&&Sd(this)}},ec.Ua=function(e){this.g&&(this.response=this.responseText=e,Ed(this))},ec.Ta=function(e){this.g&&(this.response=e,Ed(this))},ec.ha=function(){this.g&&Ed(this)},ec.setRequestHeader=function(e,t){this.v.append(e,t)},ec.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ec.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cd=pc.JSON.parse;function Nd(e){Cl.call(this),this.headers=new Lf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ad,this.K=this.L=!1}Ic(Nd,Cl);var Ad="",Rd=/^https?$/i,Pd=["POST","PUT"];function Dd(e){return"content-type"==e.toLowerCase()}function Od(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Md(e),Fd(e)}function Md(e){e.D||(e.D=!0,Nl(e,"complete"),Nl(e,"error"))}function Ld(e){if(e.h&&"undefined"!=typeof hc&&(!e.C[1]||4!=Ud(e)||2!=e.ba()))if(e.v&&4==Ud(e))Wl(e.Fa,0,e);else if(Nl(e,"readystatechange"),4==Ud(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Uf)[1]||null;if(!a&&pc.self&&pc.self.location){var o=pc.self.location.protocol;a=o.substr(0,o.length-1)}i=!Rd.test(a?a.toLowerCase():"")}t=i}if(t)Nl(e,"complete"),Nl(e,"success");else{e.m=6;try{var u=2<Ud(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Md(e)}}finally{Fd(e)}}}function Fd(e,t){if(e.g){jd(e);var n=e.g,r=e.C[0]?vc:null;e.g=null,e.C=null,t||Nl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function jd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pc.clearTimeout(e.A),e.A=null)}function Ud(e){return e.g?e.g.readyState:0}function Bd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ad:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return jc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Hf(e,t,n))}function qd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zd(e){this.za=0,this.l=[],this.h=new Xl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qd("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qd("baseRetryDelayMs",5e3,e),this.$a=qd("retryDelaySeedMs",1e4,e),this.Ya=qd("forwardChannelMaxRetries",2,e),this.ra=qd("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cd(e&&e.concurrentRequestLimit),this.Ca=new bd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Wd(e){if(Hd(e),3==e.G){var t=e.V++,n=Vf(e.F);Hf(n,"SID",e.J),Hf(n,"RID",t),Hf(n,"TYPE","terminate"),$d(e,n),(t=new bf(e,e.h,t,void 0)).K=2,t.v=Kf(Vf(n)),n=!1,pc.navigator&&pc.navigator.sendBeacon&&(n=pc.navigator.sendBeacon(t.v.toString(),"")),!n&&pc.Image&&((new Image).src=t.v,n=!0),n||(t.g=sh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Nf(t)}oh(e)}function Gd(e){e.g&&(eh(e),e.g.cancel(),e.g=null)}function Hd(e){Gd(e),e.u&&(pc.clearTimeout(e.u),e.u=null),nh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&pc.clearTimeout(e.m),e.m=null)}function Kd(e,t){e.l.push(new sd(e.Za++,t)),3==e.G&&Qd(e)}function Qd(e){dd(e.i)||e.m||(e.m=!0,jl(e.Ha,e),e.C=0)}function Yd(e,t){var n;n=t?t.m:e.V++;var r=Vf(e.F);Hf(r,"SID",e.J),Hf(r,"RID",n),Hf(r,"AID",e.U),$d(e,r),e.o&&e.s&&Vd(r,e.o,e.s),n=new bf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xd(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vd(e.i,n),If(n,r,t)}function $d(e,t){e.j&&Mf({},(function(e,n){Hf(t,n,e)}))}function Xd(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_c(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{kd(l,o,"req"+c+"_")}catch(Lh){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Jd(e){e.g||e.u||(e.Y=1,jl(e.Ga,e),e.A=0)}function Zd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=sf(_c(e.Ga,e),ih(e,e.A)),e.A++,!0)}function eh(e){null!=e.B&&(pc.clearTimeout(e.B),e.B=null)}function th(e){e.g=new bf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Vf(e.oa);Hf(t,"RID","rpc"),Hf(t,"SID",e.J),Hf(t,"CI",e.N?"0":"1"),Hf(t,"AID",e.U),$d(e,t),Hf(t,"TYPE","xmlhttp"),e.o&&e.s&&Vd(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Kf(Vf(t)),n.s=null,n.U=!0,Sf(n,e)}function nh(e){null!=e.v&&(pc.clearTimeout(e.v),e.v=null)}function rh(e,t){var n=null;if(e.g==t){nh(e),eh(e),e.g=null;var r=2}else{if(!pd(e.i,t))return;n=t.D,md(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Nl(r=tf(),new uf(r,n,t,i)),Qd(e)}else Jd(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=sf(_c(e.Ha,e,t),ih(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ah(e,5);break;case 4:ah(e,10);break;case 3:ah(e,6);break;default:ah(e,2)}}function ih(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ah(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=_c(e.jb,e);n||(n=new Bf("//www.google.com/images/cleardot.gif"),pc.location&&"http"==pc.location.protocol||qf(n,"https"),Kf(n)),function(e,t){var n=new Xl;if(pc.Image){var r=new Image;r.onload=xc(wd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xc(wd,n,r,"TestLoadImage: error",!1,t),r.onabort=xc(wd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xc(wd,n,r,"TestLoadImage: timeout",!1,t),pc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else of(2);e.G=0,e.j&&e.j.va(t),oh(e),Hd(e)}function oh(e){e.G=0,e.I=-1,e.j&&(0==gd(e.i).length&&0==e.l.length||(e.i.i.length=0,Ac(e.l),e.l.length=0),e.j.ua())}function uh(e,t,n){var r=function(e){return e instanceof Bf?Vf(e):new Bf(e,void 0)}(n);if(""!=r.i)t&&zf(r,t+"."+r.i),Wf(r,r.m);else{var i=pc.location;r=function(e,t,n,r){var i=new Bf(null,void 0);return e&&qf(i,e),t&&zf(i,t),n&&Wf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&jc(e.aa,(function(e,t){Hf(r,t,e)})),t=e.D,n=e.sa,t&&n&&Hf(r,t,n),Hf(r,"VER",e.ma),$d(e,r),r}function sh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Nd(new _d({ib:!0})):new Nd(e.qa)).L=e.H,t}function ch(){}function lh(){if(Gc&&!(10<=Number(il)))throw Error("Environmental error: no available transport.")}function fh(e,t){Cl.call(this),this.g=new zd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Rc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ph(this)}function dh(e){mf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hh(){gf.call(this),this.status=1}function ph(e){this.g=e}(ec=Nd.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pf.g(),this.C=this.u?df(this.u):df(pf),this.g.onreadystatechange=_c(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Od(this,a)}e=n||"";var i=new Lf(this.headers);r&&Mf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Dd,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=pc.FormData&&e instanceof pc.FormData,!(0<=Tc(Pd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jd(this),0<this.B&&((this.K=function(e){return Gc&&nl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_c(this.pa,this)):this.A=Wl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Od(this,a)}},ec.pa=function(){"undefined"!=typeof hc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nl(this,"timeout"),this.abort(8))},ec.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nl(this,"complete"),Nl(this,"abort"),Fd(this))},ec.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fd(this,!0)),Nd.Z.M.call(this)},ec.Fa=function(){this.s||(this.F||this.v||this.l?Ld(this):this.cb())},ec.cb=function(){Ld(this)},ec.ba=function(){try{return 2<Ud(this)?this.g.status:-1}catch(ld){return-1}},ec.ga=function(){try{return this.g?this.g.responseText:""}catch(ld){return""}},ec.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cd(t)}},ec.Da=function(){return this.m},ec.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ec=zd.prototype).ma=8,ec.G=1,ec.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ec.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new bf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Vc(n=Uc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xd(this,t,r),Hf(i=Vf(this.F),"RID",e),Hf(i,"CVER",22),this.D&&Hf(i,"X-HTTP-Session-Id",this.D),$d(this,i),this.o&&n&&Vd(i,this.o,n),vd(this.i,t),this.Ra&&Hf(i,"TYPE","init"),this.ja?(Hf(i,"$req",r),Hf(i,"SID","null"),t.$=!0,If(t,i,null)):If(t,i,r),this.G=2}}else 3==this.G&&(e?Yd(this,e):0==this.l.length||dd(this.i)||Yd(this))},ec.Ga=function(){if(this.u=null,th(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=sf(_c(this.bb,this),e)}},ec.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,of(10),Gd(this),th(this))},ec.ab=function(){null!=this.v&&(this.v=null,Gd(this),Zd(this),of(19))},ec.jb=function(e){e?(this.h.info("Successfully pinged google.com"),of(2)):(this.h.info("Failed to ping google.com"),of(1))},(ec=ch.prototype).xa=function(){},ec.wa=function(){},ec.va=function(){},ec.ua=function(){},ec.Oa=function(){},lh.prototype.g=function(e,t){return new fh(e,t)},Ic(fh,Cl),fh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),jl(_c(e.hb,e,t))),of(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=uh(e,null,e.W),Qd(e)},fh.prototype.close=function(){Wd(this.g)},fh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Kd(this.g,t)}else this.v?((t={}).__data__=Rl(e),Kd(this.g,t)):Kd(this.g,e)},fh.prototype.M=function(){this.g.j=null,delete this.j,Wd(this.g),delete this.g,fh.Z.M.call(this)},Ic(dh,mf),Ic(hh,gf),Ic(ph,ch),ph.prototype.xa=function(){Nl(this.g,"a")},ph.prototype.wa=function(e){Nl(this.g,new dh(e))},ph.prototype.va=function(e){Nl(this.g,new hh(e))},ph.prototype.ua=function(){Nl(this.g,"b")},lh.prototype.createWebChannel=lh.prototype.g,fh.prototype.send=fh.prototype.u,fh.prototype.open=fh.prototype.m,fh.prototype.close=fh.prototype.close,cf.NO_ERROR=0,cf.TIMEOUT=8,cf.HTTP_ERROR=6,lf.COMPLETE="complete",hf.EventType=vf,vf.OPEN="a",vf.CLOSE="b",vf.ERROR="c",vf.MESSAGE="d",Cl.prototype.listen=Cl.prototype.N,Nd.prototype.listenOnce=Nd.prototype.O,Nd.prototype.getLastError=Nd.prototype.La,Nd.prototype.getLastErrorCode=Nd.prototype.Da,Nd.prototype.getStatus=Nd.prototype.ba,Nd.prototype.getResponseJson=Nd.prototype.Qa,Nd.prototype.getResponseText=Nd.prototype.ga,Nd.prototype.send=Nd.prototype.ea;var vh=dc.createWebChannelTransport=function(){return new lh},mh=dc.getStatEventTarget=function(){return tf()},gh=dc.ErrorCode=cf,yh=dc.EventType=lf,bh=dc.Event=Zl,kh=dc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wh=dc.FetchXmlHttpFactory=_d,_h=dc.WebChannel=hf,xh=dc.XhrIo=Nd,Ih="@firebase/firestore",Sh=function(){function e(t){ve(this,e),this.uid=t}return ge(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Sh.UNAUTHENTICATED=new Sh(null),Sh.GOOGLE_CREDENTIALS=new Sh("google-credentials-uid"),Sh.FIRST_PARTY=new Sh("first-party-uid"),Sh.MOCK_USER=new Sh("mock-user");var Eh="9.8.0",Th=new St("@firebase/firestore");function Ch(){return Th.logLevel}function Nh(e){if(Th.logLevel<=yt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ph);Th.debug.apply(Th,["Firestore (".concat(Eh,"): ").concat(e)].concat(be(i)))}}function Ah(e){if(Th.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ph);Th.error.apply(Th,["Firestore (".concat(Eh,"): ").concat(e)].concat(be(i)))}}function Rh(e){if(Th.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ph);Th.warn.apply(Th,["Firestore (".concat(Eh,"): ").concat(e)].concat(be(i)))}}function Ph(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Eh,") INTERNAL ASSERTION FAILED: ")+e;throw Ah(t),new Error(t)}function Oh(e,t){e||Dh()}function Mh(e,t){return e}var Lh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fh=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ge(n)}(We),jh=ge((function e(){var t=this;ve(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Uh=ge((function e(t,n){ve(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Bh=function(){function e(){ve(this,e)}return ge(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Vh=function(){function e(t){ve(this,e),this.token=t,this.changeListener=null}return ge(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),qh=function(){function e(t){ve(this,e),this.t=t,this.currentUser=Sh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ge(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new jh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new jh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Nh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Nh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Nh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Oh("string"==typeof n.accessToken),new Uh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Oh(null===e||"string"==typeof e),new Sh(e)}}]),e}(),zh=ge((function e(t,n,r){ve(this,e),this.type="FirstParty",this.user=Sh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Wh=function(){function e(t,n,r){ve(this,e),this.h=t,this.l=n,this.m=r}return ge(e,[{key:"getToken",value:function(){return Promise.resolve(new zh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Gh=ge((function e(t){ve(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Hh=function(){function e(t){ve(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ge(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Nh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Nh("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Nh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Nh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Oh("string"==typeof t.token),e.p=t.token,new Gh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Kh=function(){function e(t,n){var r=this;ve(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ge(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Qh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Kh.A=-1;var Yh=function(){function e(){ve(this,e)}return ge(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Qh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function $h(e,t){return e<t?-1:e>t?1:0}function Xh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Jh(e){return e+"\0"}var Zh=function(){function e(t,n){if(ve(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fh(Lh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fh(Lh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fh(Lh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fh(Lh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ge(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$h(this.nanoseconds,e.nanoseconds):$h(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ep=function(){function e(t){ve(this,e),this.timestamp=t}return ge(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zh(0,0))}},{key:"max",value:function(){return new e(new Zh(253402300799,999999999))}}]),e}();function tp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function np(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ip=function(){function e(t,n,r){ve(this,e),void 0===n?n=0:n>t.length&&Dh(),void 0===r?r=t.length-n:r>t.length-n&&Dh(),this.segments=t,this.offset=n,this.len=r}return ge(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ap=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,be(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ip),op=/^[_a-zA-Z][_a-zA-Z0-9]*$/,up=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return op.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Fh(Lh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Fh(Lh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Fh(Lh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ip),sp=function(){function e(t){ve(this,e),this.fields=t,t.sort(up.comparator)}return ge(e,[{key:"covers",value:function(e){var t,n=fe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Xh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var cp=function(e){function t(e){ve(this,t),this.binaryString=e}return ge(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $h(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();cp.EMPTY_BYTE_STRING=new cp("");var lp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fp(e){if(Oh(!!e),"string"==typeof e){var t=0,n=lp.exec(e);if(Oh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:dp(e.seconds),nanos:dp(e.nanos)}}function dp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hp(e){return"string"==typeof e?cp.fromBase64String(e):cp.fromUint8Array(e)}function pp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vp(e){var t=e.mapValue.fields.__previous_value__;return pp(t)?vp(t):t}function mp(e){var t=fp(e.mapValue.fields.__local_write_time__.timestampValue);return new Zh(t.seconds,t.nanos)}var gp=ge((function e(t,n,r,i,a,o,u,s){ve(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),yp=function(){function e(t,n){ve(this,e),this.projectId=t,this.database=n||"(default)"}return ge(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function bp(e){return null==e}function kp(e){return 0===e&&1/e==-1/0}function wp(e){return"number"==typeof e&&Number.isInteger(e)&&!kp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _p=function(){function e(t){ve(this,e),this.path=t}return ge(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ap.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ap.fromString(t))}},{key:"fromName",value:function(t){return new e(ap.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ap.emptyPath())}},{key:"comparator",value:function(e,t){return ap.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ap(t.slice()))}}]),e}(),xp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ip={nullValue:"NULL_VALUE"};function Sp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pp(e)?4:Up(e)?9007199254740991:10:Dh()}function Ep(e,t){if(e===t)return!0;var n=Sp(e);if(n!==Sp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mp(e).isEqual(mp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fp(e.timestampValue),r=fp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hp(e.bytesValue).isEqual(hp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dp(e.geoPointValue.latitude)===dp(t.geoPointValue.latitude)&&dp(e.geoPointValue.longitude)===dp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dp(e.integerValue)===dp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=dp(e.doubleValue),r=dp(t.doubleValue);return n===r?kp(n)===kp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xh(e.arrayValue.values||[],t.arrayValue.values||[],Ep);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tp(n)!==tp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ep(n[i],r[i])))return!1;return!0}(e,t);default:return Dh()}}function Tp(e,t){return void 0!==(e.values||[]).find((function(e){return Ep(e,t)}))}function Cp(e,t){if(e===t)return 0;var n=Sp(e),r=Sp(t);if(n!==r)return $h(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $h(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=dp(e.integerValue||e.doubleValue),r=dp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Np(e.timestampValue,t.timestampValue);case 4:return Np(mp(e),mp(t));case 5:return $h(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hp(e),r=hp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$h(n[i],r[i]);if(0!==a)return a}return $h(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$h(dp(e.latitude),dp(t.latitude));return 0!==n?n:$h(dp(e.longitude),dp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cp(n[i],r[i]);if(a)return a}return $h(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===xp.mapValue&&t===xp.mapValue)return 0;if(e===xp.mapValue)return 1;if(t===xp.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=$h(r[o],a[o]);if(0!==u)return u;var s=Cp(n[r[o]],i[a[o]]);if(0!==s)return s}return $h(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Dh()}}function Np(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $h(e,t);var n=fp(e),r=fp(t),i=$h(n.seconds,r.seconds);return 0!==i?i:$h(n.nanos,r.nanos)}function Ap(e){return Rp(e)}function Rp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_p.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=fe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Rp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=fe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Rp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Dh();var t,n}function Pp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dp(e){return!!e&&"integerValue"in e}function Op(e){return!!e&&"arrayValue"in e}function Mp(e){return!!e&&"nullValue"in e}function Lp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fp(e){return!!e&&"mapValue"in e}function jp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return np(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=jp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=jp(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Up(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bp(e){return"nullValue"in e?Ip:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Pp(yp.empty(),_p.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Dh()}function Vp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Pp(yp.empty(),_p.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?xp:Dh()}function qp(e,t){var n=Cp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function zp(e,t){var n=Cp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Wp=function(){function e(t){ve(this,e),this.value=t}return ge(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jp(t)}},{key:"setAll",value:function(e){var t=this,n=up.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=jp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Fp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ep(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){np(t,(function(t,n){return e[t]=n}));var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(jp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Gp(e){var t=[];return np(e.fields,(function(e,n){var r=new up([e]);if(Fp(n)){var i=Gp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=fe(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new sp(t)}var Hp=function(){function e(t,n,r,i,a,o){ve(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ge(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Wp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Wp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ep.min(),ep.min(),Wp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ep.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ep.min(),Wp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ep.min(),Wp.empty(),2)}}]),e}(),Kp=ge((function e(t,n,r,i){ve(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Qp(e){return e.fields.find((function(e){return 2===e.kind}))}function Yp(e){return e.fields.filter((function(e){return 2!==e.kind}))}Kp.UNKNOWN_ID=-1;var $p=ge((function e(t,n){ve(this,e),this.fieldPath=t,this.kind=n})),Xp=function(){function e(t,n){ve(this,e),this.sequenceNumber=t,this.offset=n}return ge(e,null,[{key:"empty",value:function(){return new e(0,ev.min())}}]),e}();function Jp(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ep.fromTimestamp(1e9===r?new Zh(n+1,0):new Zh(n,r));return new ev(i,_p.empty(),t)}function Zp(e){return new ev(e.readTime,e.key,-1)}var ev=function(){function e(t,n,r){ve(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ge(e,null,[{key:"min",value:function(){return new e(ep.min(),_p.empty(),-1)}},{key:"max",value:function(){return new e(ep.max(),_p.empty(),-1)}}]),e}();function tv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_p.comparator(e.documentKey,t.documentKey))?n:$h(e.largestBatchId,t.largestBatchId)}var nv=function(){function e(t,n){ve(this,e),this.comparator=t,this.root=n||iv.EMPTY}return ge(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,iv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,iv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new rv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new rv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new rv(this.root,e,this.comparator,!0)}}]),e}(),rv=function(){function e(t,n,r,i){ve(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ge(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),iv=function(){function e(t,n,r,i,a){ve(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ge(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Dh();if(this.right.isRed())throw Dh();var e=this.left.check();if(e!==this.right.check())throw Dh();return e+(this.isRed()?0:1)}}]),e}();iv.EMPTY=null,iv.RED=!0,iv.BLACK=!1,iv.EMPTY=new(function(){function e(){ve(this,e),this.size=0}return ge(e,[{key:"key",get:function(){throw Dh()}},{key:"value",get:function(){throw Dh()}},{key:"color",get:function(){throw Dh()}},{key:"left",get:function(){throw Dh()}},{key:"right",get:function(){throw Dh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new iv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var av=function(){function e(t){ve(this,e),this.comparator=t,this.data=new nv(this.comparator)}return ge(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ov(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ov(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ov=function(){function e(t){ve(this,e),this.iter=t}return ge(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function uv(e){return e.hasNext()?e.getNext():void 0}var sv=ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ve(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function cv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new sv(e,t,n,r,i,a,o)}function lv(e){var t=Mh(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ap(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),bp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ap(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ap(e)})).join(",")),t.P=n}return t.P}function fv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ep(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nv(e.startAt,t.startAt)&&Nv(e.endAt,t.endAt)}function dv(e){return _p.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function hv(e,t){return e.filters.filter((function(e){return e instanceof mv&&e.field.isEqual(t)}))}function pv(e,t,n){var r,i=Ip,a=!0,o=fe(hv(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ip,c=!0;switch(u.op){case"<":case"<=":s=Bp(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Ip}qp({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];qp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function vv(e,t,n){var r,i=xp,a=!0,o=fe(hv(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=xp,c=!0;switch(u.op){case">=":case">":s=Vp(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=xp}zp({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];zp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var mv=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Cp(t,this.value)):null!==t&&Sp(this.value)===Sp(t)&&this.v(Cp(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dh()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new gv(e,t,r):"array-contains"===t?new wv(e,r):"in"===t?new _v(e,r):"not-in"===t?new xv(e,r):"array-contains-any"===t?new Iv(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new yv(e,n):new bv(e,n)}}]),n}(function(){return ge((function e(){ve(this,e)}))}()),gv=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this,e,r,i)).key=_p.fromName(i.referenceValue),a}return ge(n,[{key:"matches",value:function(e){var t=_p.comparator(e.key,this.key);return this.v(t)}}]),n}(mv),yv=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e,"in",r)).keys=kv("in",r),i}return ge(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mv),bv=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e,"not-in",r)).keys=kv("not-in",r),i}return ge(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mv);function kv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _p.fromName(e.referenceValue)}))}var wv=function(e){oe(n,e);var t=le(n);function n(e,r){return ve(this,n),t.call(this,e,"array-contains",r)}return ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Op(t)&&Tp(t.arrayValue,this.value)}}]),n}(mv),_v=function(e){oe(n,e);var t=le(n);function n(e,r){return ve(this,n),t.call(this,e,"in",r)}return ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Tp(this.value.arrayValue,t)}}]),n}(mv),xv=function(e){oe(n,e);var t=le(n);function n(e,r){return ve(this,n),t.call(this,e,"not-in",r)}return ge(n,[{key:"matches",value:function(e){if(Tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Tp(this.value.arrayValue,t)}}]),n}(mv),Iv=function(e){oe(n,e);var t=le(n);function n(e,r){return ve(this,n),t.call(this,e,"array-contains-any",r)}return ge(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Tp(t.value.arrayValue,e)}))}}]),n}(mv),Sv=ge((function e(t,n){ve(this,e),this.position=t,this.inclusive=n})),Ev=ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ve(this,e),this.field=t,this.dir=n}));function Tv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Cv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_p.comparator(_p.fromName(o.referenceValue),n.key):Cp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Nv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ep(e.position[n],t.position[n]))return!1;return!0}var Av=ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ve(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Rv(e,t,n,r,i,a,o,u){return new Av(e,t,n,r,i,a,o,u)}function Pv(e){return new Av(e)}function Dv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ov(e){var t,n=fe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Mv(e){return null!==e.collectionGroup}function Lv(e){var t=Mh(e);if(null===t.D){t.D=[];var n=Ov(t),r=Dv(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ev(n)),t.D.push(new Ev(up.keyField(),"asc"));else{var i,a=!1,o=fe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ev(up.keyField(),s))}}}return t.D}function Fv(e){var t=Mh(e);if(!t.C)if("F"===t.limitType)t.C=cv(t.path,t.collectionGroup,Lv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=fe(Lv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ev(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Sv(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Sv(t.startAt.position,t.startAt.inclusive):null;t.C=cv(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function jv(e,t,n){return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uv(e,t){return fv(Fv(e),Fv(t))&&e.limitType===t.limitType}function Bv(e){return"".concat(lv(Fv(e)),"|lt:").concat(e.limitType)}function Vv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ap(t.value));var t})).join(", "),"]")),bp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ap(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ap(e)})).join(",")),"Target(".concat(t,")")}(Fv(e)),"; limitType=").concat(e.limitType,")")}function qv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_p.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=fe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Cv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lv(e),t))&&!(e.endAt&&!function(e,t,n){var r=Cv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lv(e),t))}(e,t)}function zv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wv(e){return function(t,n){var r,i=!1,a=fe(Lv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Gv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Gv(e,t,n){var r=e.field.isKeyField()?_p.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cp(r,i):Dh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dh()}}function Hv(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(t)?"-0":t}}function Kv(e){return{integerValue:""+e}}function Qv(e,t){return wp(t)?Kv(t):Hv(e,t)}var Yv=ge((function e(){ve(this,e),this._=void 0}));function $v(e,t,n){return e instanceof Zv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof em?tm(e,t):e instanceof nm?rm(e,t):function(e,t){var n=Jv(e,t),r=am(n)+am(e.k);return Dp(n)&&Dp(e.k)?Kv(r):Hv(e.M,r)}(e,t)}function Xv(e,t,n){return e instanceof em?tm(e,t):e instanceof nm?rm(e,t):n}function Jv(e,t){return e instanceof im?Dp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zv=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n)}(Yv),em=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).elements=e,r}return ge(n)}(Yv);function tm(e,t){var n,r=om(t),i=fe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ep(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nm=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).elements=e,r}return ge(n)}(Yv);function rm(e,t){var n,r=om(t),i=fe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ep(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var im=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this)).M=e,i.k=r,i}return ge(n)}(Yv);function am(e){return dp(e.integerValue||e.doubleValue)}function om(e){return Op(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var um=ge((function e(t,n){ve(this,e),this.field=t,this.transform=n}));var sm=ge((function e(t,n){ve(this,e),this.version=t,this.transformResults=n})),cm=function(){function e(t,n){ve(this,e),this.updateTime=t,this.exists=n}return ge(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function lm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fm=ge((function e(){ve(this,e)}));function dm(e,t,n){e instanceof gm?function(e,t,n){var r=e.value.clone(),i=km(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ym?function(e,t,n){if(lm(e.precondition,t)){var r=km(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hm(e,t,n){e instanceof gm?function(e,t,n){if(lm(e.precondition,t)){var r=e.value.clone(),i=wm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(mm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof ym?function(e,t,n){if(lm(e.precondition,t)){var r=wm(e.fieldTransforms,n,t),i=t.data;i.setAll(bm(e)),i.setAll(r),t.convertToFoundDocument(mm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){lm(e.precondition,t)&&t.convertToNoDocument(ep.min())}(e,t)}function pm(e,t){var n,r=null,i=fe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Jv(a.transform,o||null);null!=u&&(null==r&&(r=Wp.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function vm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof em&&t instanceof em||e instanceof nm&&t instanceof nm?Xh(e.elements,t.elements,Ep):e instanceof im&&t instanceof im?Ep(e.k,t.k):e instanceof Zv&&t instanceof Zv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function mm(e){return e.isFoundDocument()?e.version:ep.min()}var gm=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ve(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ge(n)}(fm),ym=function(e){oe(n,e);var t=le(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ve(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ge(n)}(fm);function bm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function km(e,t,n){var r=new Map;Oh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Xv(o,u,n[i]))}return r}function wm(e,t,n){var r,i=new Map,a=fe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,$v(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var _m,xm,Im=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ge(n)}(fm),Sm=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ge(n)}(fm),Em=ge((function e(t){ve(this,e),this.count=t}));function Tm(e){switch(e){default:return Dh();case Lh.CANCELLED:case Lh.UNKNOWN:case Lh.DEADLINE_EXCEEDED:case Lh.RESOURCE_EXHAUSTED:case Lh.INTERNAL:case Lh.UNAVAILABLE:case Lh.UNAUTHENTICATED:return!1;case Lh.INVALID_ARGUMENT:case Lh.NOT_FOUND:case Lh.ALREADY_EXISTS:case Lh.PERMISSION_DENIED:case Lh.FAILED_PRECONDITION:case Lh.ABORTED:case Lh.OUT_OF_RANGE:case Lh.UNIMPLEMENTED:case Lh.DATA_LOSS:return!0}}function Cm(e){if(void 0===e)return Ah("GRPC error has no .code"),Lh.UNKNOWN;switch(e){case _m.OK:return Lh.OK;case _m.CANCELLED:return Lh.CANCELLED;case _m.UNKNOWN:return Lh.UNKNOWN;case _m.DEADLINE_EXCEEDED:return Lh.DEADLINE_EXCEEDED;case _m.RESOURCE_EXHAUSTED:return Lh.RESOURCE_EXHAUSTED;case _m.INTERNAL:return Lh.INTERNAL;case _m.UNAVAILABLE:return Lh.UNAVAILABLE;case _m.UNAUTHENTICATED:return Lh.UNAUTHENTICATED;case _m.INVALID_ARGUMENT:return Lh.INVALID_ARGUMENT;case _m.NOT_FOUND:return Lh.NOT_FOUND;case _m.ALREADY_EXISTS:return Lh.ALREADY_EXISTS;case _m.PERMISSION_DENIED:return Lh.PERMISSION_DENIED;case _m.FAILED_PRECONDITION:return Lh.FAILED_PRECONDITION;case _m.ABORTED:return Lh.ABORTED;case _m.OUT_OF_RANGE:return Lh.OUT_OF_RANGE;case _m.UNIMPLEMENTED:return Lh.UNIMPLEMENTED;case _m.DATA_LOSS:return Lh.DATA_LOSS;default:return Dh()}}(xm=_m||(_m={}))[xm.OK=0]="OK",xm[xm.CANCELLED=1]="CANCELLED",xm[xm.UNKNOWN=2]="UNKNOWN",xm[xm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xm[xm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xm[xm.NOT_FOUND=5]="NOT_FOUND",xm[xm.ALREADY_EXISTS=6]="ALREADY_EXISTS",xm[xm.PERMISSION_DENIED=7]="PERMISSION_DENIED",xm[xm.UNAUTHENTICATED=16]="UNAUTHENTICATED",xm[xm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xm[xm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xm[xm.ABORTED=10]="ABORTED",xm[xm.OUT_OF_RANGE=11]="OUT_OF_RANGE",xm[xm.UNIMPLEMENTED=12]="UNIMPLEMENTED",xm[xm.INTERNAL=13]="INTERNAL",xm[xm.UNAVAILABLE=14]="UNAVAILABLE",xm[xm.DATA_LOSS=15]="DATA_LOSS";var Nm=function(){function e(t,n){ve(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ge(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){np(this.inner,(function(t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return rp(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Am=new nv(_p.comparator);function Rm(){return Am}var Pm=new nv(_p.comparator);function Dm(){for(var e=Pm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Om(){return new Nm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Mm=new nv(_p.comparator),Lm=new av(_p.comparator);function Fm(){for(var e=Lm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jm=new av($h);function Um(){return jm}var Bm=function(){function e(t,n,r,i,a){ve(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ge(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Vm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ep.min(),r,Um(),Rm(),Fm())}}]),e}(),Vm=function(){function e(t,n,r,i,a){ve(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ge(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(cp.EMPTY_BYTE_STRING,n,Fm(),Fm(),Fm())}}]),e}(),qm=ge((function e(t,n,r,i){ve(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),zm=ge((function e(t,n){ve(this,e),this.targetId=t,this.$=n})),Wm=ge((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cp.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ve(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gm=function(){function e(){ve(this,e),this.B=0,this.L=Qm(),this.U=cp.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return ge(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Fm(),t=Fm(),n=Fm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Dh()}})),new Vm(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Qm()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Hm=function(){function e(t){ve(this,e),this.nt=t,this.st=new Map,this.it=Rm(),this.rt=Km(),this.ot=new av($h)}return ge(e,[{key:"ut",value:function(e){var t,n=fe(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=fe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Dh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(dv(i))if(0===n){var a=new _p(i.path);this.ct(t,a,Hp.newNoDocument(a,ep.min()))}else Oh(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&dv(a.target)){var o=new _p(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Hp.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Fm();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Bm(e,n,this.ot,this.it,r);return this.it=Rm(),this.rt=Km(),this.ot=new av($h),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Gm,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new av($h),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Nh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Gm),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Km(){return new nv(_p.comparator)}function Qm(){return new nv(_p.comparator)}var Ym={asc:"ASCENDING",desc:"DESCENDING"},$m={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xm=ge((function e(t,n){ve(this,e),this.databaseId=t,this.N=n}));function Jm(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zm(e,t){return e.N?t.toBase64():t.toUint8Array()}function eg(e,t){return Jm(e,t.toTimestamp())}function tg(e){return Oh(!!e),ep.fromTimestamp(function(e){var t=fp(e);return new Zh(t.seconds,t.nanos)}(e))}function ng(e,t){return function(e){return new ap(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function rg(e){var t=ap.fromString(e);return Oh(Eg(t)),t}function ig(e,t){return ng(e.databaseId,t.path)}function ag(e,t){var n=rg(t);if(n.get(1)!==e.databaseId.projectId)throw new Fh(Lh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fh(Lh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _p(cg(n))}function og(e,t){return ng(e.databaseId,t)}function ug(e){var t=rg(e);return 4===t.length?ap.emptyPath():cg(t)}function sg(e){return new ap(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cg(e){return Oh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lg(e,t,n){return{name:ig(e,t),fields:n.value.mapValue.fields}}function fg(e,t,n){var r=ag(e,t.name),i=tg(t.updateTime),a=new Wp({mapValue:{fields:t.fields}}),o=Hp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function dg(e,t){return"found"in t?function(e,t){Oh(!!t.found),t.found.name,t.found.updateTime;var n=ag(e,t.found.name),r=tg(t.found.updateTime),i=new Wp({mapValue:{fields:t.found.fields}});return Hp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Oh(!!t.missing),Oh(!!t.readTime);var n=ag(e,t.missing),r=tg(t.readTime);return Hp.newNoDocument(n,r)}(e,t):Dh()}function hg(e,t){var n;if(t instanceof gm)n={update:lg(e,t.key,t.value)};else if(t instanceof Im)n={delete:ig(e,t.key)};else if(t instanceof ym)n={update:lg(e,t.key,t.data),updateMask:Sg(t.fieldMask)};else{if(!(t instanceof Sm))return Dh();n={verify:ig(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof em)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof im)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Dh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:eg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dh()}(e,t.precondition)),n}function pg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?cm.updateTime(tg(e.updateTime)):void 0!==e.exists?cm.exists(e.exists):cm.none()}(t.currentDocument):cm.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Oh("REQUEST_TIME"===t.setToServerValue),n=new Zv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new em(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new nm(i)}else"increment"in t?n=new im(e,t.increment):Dh();var a=up.fromServerFormat(t.fieldPath);return new um(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ag(e,t.update.name),a=new Wp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new sp(t.map((function(e){return up.fromServerFormat(e)})))}(t.updateMask);return new ym(i,a,o,n,r)}return new gm(i,a,n,r)}if(t.delete){var u=ag(e,t.delete);return new Im(u,n)}if(t.verify){var s=ag(e,t.verify);return new Sm(s,n)}return Dh()}function vg(e,t){return{documents:[og(e,t.path)]}}function mg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=og(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=og(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Lp(e.value))return{unaryFilter:{field:wg(e.field),op:"IS_NAN"}};if(Mp(e.value))return{unaryFilter:{field:wg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lp(e.value))return{unaryFilter:{field:wg(e.field),op:"IS_NOT_NAN"}};if(Mp(e.value))return{unaryFilter:{field:wg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wg(e.field),op:kg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:wg(e.field),direction:bg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||bp(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function gg(e){var t=ug(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Oh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=yg(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ev(_g(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return bp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Sv(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Sv(n,t)}(n.endAt)),Rv(t,i,u,o,s,"F",c,l)}function yg(e){return e?void 0!==e.unaryFilter?[Ig(e)]:void 0!==e.fieldFilter?[xg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return yg(e)})).reduce((function(e,t){return e.concat(t)})):Dh():[]}function bg(e){return Ym[e]}function kg(e){return $m[e]}function wg(e){return{fieldPath:e.canonicalString()}}function _g(e){return up.fromServerFormat(e.fieldPath)}function xg(e){return mv.create(_g(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dh()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ig(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_g(e.unaryFilter.field);return mv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_g(e.unaryFilter.field);return mv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_g(e.unaryFilter.field);return mv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_g(e.unaryFilter.field);return mv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dh()}}function Sg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Eg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Tg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ng(t)),t=Cg(e.get(n),t);return Ng(t)}function Cg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ng(e){return e+"\x01\x01"}function Ag(e){var t=e.length;if(Oh(t>=2),2===t)return Oh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ap.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Dh(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Dh()}a=o+2}return new ap(r)}var Rg=["userId","batchId"];function Pg(e,t){return[e,Tg(t)]}function Dg(e,t,n){return[e,Tg(t),n]}var Og={},Mg=["prefixPath","collectionGroup","readTime","documentId"],Lg=["prefixPath","collectionGroup","documentId"],Fg=["collectionGroup","readTime","prefixPath","documentId"],jg=["canonicalId","targetId"],Ug=["targetId","path"],Bg=["path","targetId"],Vg=["collectionId","parent"],qg=["indexId","uid"],zg=["uid","sequenceNumber"],Wg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gg=["indexId","uid","orderedDocumentKey"],Hg=["userId","collectionPath","documentId"],Kg=["userId","collectionPath","largestBatchId"],Qg=["userId","collectionGroup","largestBatchId"],Yg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),$g=[].concat(be(Yg),["documentOverlays"]),Xg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jg=[].concat(Xg,["indexConfiguration","indexState","indexEntries"]),Zg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ey=function(){function e(){ve(this,e),this.onCommittedListeners=[]}return ge(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ty=function(){function e(t){var n=this;ve(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ge(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Dh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=fe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ny=function(){function e(t,n){var r=this;ve(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new jh,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new ay(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=ly(e.target.error);r.At.reject(new ay(t,n))}}return ge(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Nh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new uy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ay(n,t)}}}]),e}(),ry=function(){function e(t,n,r){ve(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Le())&&Ah("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ge(e,[{key:"Nt",value:function(){var e=pe(de().mark((function e(t){var n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Nh("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ay(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Fh(Lh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Fh(Lh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ay(t,n))},i.onupgradeneeded=function(e){Nh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Nh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=pe(de().mark((function e(t,n,r,i){var a,o,u,s,c=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(de().mark((function e(){var n,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=ny.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),ty.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Nh("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Nh("SimpleDb","Removing database:",e),sy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!ze())return!1;if(e.St())return!0;var t=Le(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/todo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),iy=function(){function e(t){ve(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return ge(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return sy(this.Ft.delete())}}]),e}(),ay=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,Lh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ge(n)}(Fh);function oy(e){return"IndexedDbTransactionError"===e.name}var uy=function(){function e(t){ve(this,e),this.store=t}return ge(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Nh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Nh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sy(n)}},{key:"add",value:function(e){return Nh("SimpleDb","ADD",this.store.name,e,e),sy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return sy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Nh("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Nh("SimpleDb","DELETE",this.store.name,e),sy(this.store.delete(e))}},{key:"count",value:function(){return Nh("SimpleDb","COUNT",this.store.name),sy(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ty((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ty((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Nh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ty((function(n,r){t.onerror=function(e){var t=ly(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new ty((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new iy(i),o=t(i.primaryKey,i.value,a);if(o instanceof ty){var u=o.catch((function(e){return a.done(),ty.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return ty.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function sy(e){return new ty((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ly(e.target.error);n(t)}}))}var cy=!1;function ly(e){var t=ry.Vt(Le());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Fh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return cy||(cy=!0,setTimeout((function(){throw r}),0)),r}}return e}var fy=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ge(n)}(ey);function dy(e,t){var n=Mh(e);return ry.xt(n.Ht,t)}var hy=function(){function e(t,n,r,i){ve(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ge(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&dm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=fe(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&hm(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=fe(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&hm(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ep.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Fm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Xh(this.mutations,e.mutations,(function(e,t){return vm(e,t)}))&&Xh(this.baseMutations,e.baseMutations,(function(e,t){return vm(e,t)}))}}]),e}(),py=function(){function e(t,n,r,i){ve(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ge(e,null,[{key:"from",value:function(t,n,r){Oh(t.mutations.length===r.length);for(var i=Mm,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),vy=function(){function e(t,n){ve(this,e),this.largestBatchId=t,this.mutation=n}return ge(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),my=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ep.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ep.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cp.EMPTY_BYTE_STRING;ve(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ge(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),gy=ge((function e(t){ve(this,e),this.Jt=t}));function yy(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:by(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ig(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Jm(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ky(t.version)};else{if(!t.isUnknownDocument())return Dh();r.unknownDocument={path:n.path.toArray(),version:ky(t.version)}}return r}function by(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ky(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wy(e){var t=new Zh(e.seconds,e.nanoseconds);return ep.fromTimestamp(t)}function _y(e,t){for(var n=(t.baseMutations||[]).map((function(t){return pg(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return pg(e.Jt,t)})),u=Zh.fromMillis(t.localWriteTimeMs);return new hy(t.batchId,u,n,o)}function xy(e){var t,n,r=wy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?wy(e.lastLimboFreeSnapshotVersion):ep.min();return void 0!==e.query.documents?(Oh(1===(n=e.query).documents.length),t=Fv(Pv(ug(n.documents[0])))):t=function(e){return Fv(gg(e))}(e.query),new my(t,e.targetId,0,e.lastListenSequenceNumber,r,i,cp.fromBase64String(e.resumeToken))}function Iy(e,t){var n,r=ky(t.snapshotVersion),i=ky(t.lastLimboFreeSnapshotVersion);n=dv(t.target)?vg(e.Jt,t.target):mg(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:lv(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Sy(e){var t=gg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jv(t,t.limit,"L"):t}function Ey(e,t){return new vy(t.largestBatchId,pg(e.Jt,t.overlayMutation))}function Ty(e,t){var n=t.path.lastSegment();return[e,Tg(t.path.popLast()),n]}var Cy=function(){function e(){ve(this,e)}return ge(e,[{key:"getBundleMetadata",value:function(e,t){return Ny(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:wy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ny(e).put({bundleId:(n=t).id,createTime:ky(tg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ay(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Sy(t.bundledQuery),readTime:wy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ay(e).put(function(e){return{name:e.name,readTime:ky(tg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ny(e){return dy(e,"bundles")}function Ay(e){return dy(e,"namedQueries")}var Ry=function(){function e(t,n){ve(this,e),this.M=t,this.userId=n}return ge(e,[{key:"getOverlay",value:function(e,t){var n=this;return Py(e).get(Ty(this.userId,t)).next((function(e){return e?Ey(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new vy(t,a);i.push(r.Xt(e,o))})),ty.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Tg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Py(e).Qt("collectionPathOverlayIndex",i))})),ty.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Om(),a=Tg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Py(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ey(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Om(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Py(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Ey(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Py(e).put(function(e,t,n){var r=f(Ty(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:hg(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Py(e){return dy(e,"documentOverlays")}var Dy=function(){function e(){ve(this,e)}return ge(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(dp(e.integerValue));else if("doubleValue"in e){var n=dp(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),kp(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(hp(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Up(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Dh()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),_p.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Oy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function My(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Oy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Dy.fe=new Dy;var Ly=function(){function e(){ve(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ge(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=My(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=My(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Fy=function(){function e(t){ve(this,e),this.De=t}return ge(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),jy=function(){function e(t){ve(this,e),this.De=t}return ge(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Uy=function(){function e(){ve(this,e),this.De=new Ly,this.Ce=new Fy(this.De),this.xe=new jy(this.De)}return ge(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),By=function(){function e(t,n,r,i){ve(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ge(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Vy(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=qy(e.arrayValue,t.arrayValue))?n:0!==(n=qy(e.directionalValue,t.directionalValue))?n:_p.comparator(e.documentKey,t.documentKey)}function qy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var zy=function(){function e(t){ve(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=fe(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ge(e,[{key:"$e",value:function(e){var t=Qp(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Yp(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=fe(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Wy=function(){function e(){ve(this,e),this.qe=new Gy}return ge(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),ty.resolve()}},{key:"getCollectionParents",value:function(e,t){return ty.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ty.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ty.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ty.resolve(null)}},{key:"getIndexType",value:function(e,t){return ty.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ty.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ty.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ty.resolve(ev.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ty.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ty.resolve()}}]),e}(),Gy=function(){function e(){ve(this,e),this.index={}}return ge(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new av(ap.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new av(ap.comparator)).toArray()}}]),e}(),Hy=new Uint8Array(0),Ky=function(){function e(t,n){ve(this,e),this.user=t,this.databaseId=n,this.Ke=new Gy,this.Ge=new Nm((function(e){return lv(e)}),(function(e,t){return fv(e,t)})),this.uid=t.uid||""}return ge(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Tg(i)};return Qy(e).put(a)}return ty.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Jh(t),""],!1,!0);return Qy(e).qt(r).next((function(e){var r,i=fe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ag(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=$y(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=$y(e),r=Xy(e),i=Yy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Yy(e),i=!0,a=new Map;return ty.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Fm(),o=[];return ty.forEach(a,(function(i,a){var u;Nh("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(lv(t)));var s=function(e,t){var n=Qp(t);if(void 0===n)return null;var r,i=fe(hv(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=fe(Yp(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=fe(hv(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=fe(Yp(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?pv(e,o.fieldPath,e.startAt):vv(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Sv(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=fe(Yp(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?vv(e,o.fieldPath,e.endAt):pv(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Sv(r,i)}(a,i),d=n.We(i,a,l),h=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return ty.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=_p.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ty.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):Hy,d=u.Ye(e,f,n[s%c],r),h=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,be(u.createRange(d,h,p)))},d=0;d<s;++d)f(d);return l}},{key:"Ye",value:function(e,t,n,r){var i=new By(e,_p.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new By(e,_p.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new zy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ty.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new av(up.comparator),r=!1,i=fe(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=fe(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Uy,i=fe(Yp(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Dy.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Uy;return Dy.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Uy;return Dy.fe.Zt(Pp(this.databaseId,t),n.Ne(function(e){var t=Yp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Uy);var i,a=0,o=fe(Yp(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=fe(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Op(c))r=this.nn(r,s,c);else{var d=f.Ne(s.kind);Dy.fe.Zt(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=be(e),a=[],o=fe(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=fe(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Uy;f.seed(l.Se()),Dy.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof mv&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=$y(e),i=Xy(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return ty.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Xp(t.sequenceNumber,new ev(wy(t.readTime),new _p(Ag(t.documentKey)),t.largestBatchId)):Xp.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new $p(up.fromServerFormat(n),r)}));return new Kp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:$h(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=$y(e),a=Xy(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ty.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ky(r.readTime),documentKey:Tg(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ty.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ty.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ty.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?ty.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Yy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Yy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Yy(e),i=new av(Vy);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new By(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new av(Vy),r=this.Ze(t,e);if(null==r)return n;var i=Qp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Op(a)){var o,u=fe(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new By(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new By(t.indexId,e.key,Hy,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Nh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=uv(a),s=uv(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=uv(o)):l?(i(u),u=uv(a)):(u=uv(a),s=uv(o))}}(r,i,Vy,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),ty.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Xy(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Vy(e,t)})).filter((function(e,t,n){return!t||0!==Vy(e,n[t-1])}));var r=[];r.push(e);var i,a=fe(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Vy(o,e),s=Vy(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Hy,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Hy,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return ty.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||tv(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=ev.min()}))})).next((function(){return n}))}}]),e}();function Qy(e){return dy(e,"collectionParents")}function Yy(e){return dy(e,"indexEntries")}function $y(e){return dy(e,"indexConfiguration")}function Xy(e){return dy(e,"indexState")}var Jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zy=function(){function e(t,n,r){ve(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ge(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function eb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Oh(1===u)})));var c,l=[],f=fe(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Dg(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return ty.waitFor(a).next((function(){return l}))}function tb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Dh();t=e.noDocument}return JSON.stringify(t).length}Zy.DEFAULT_COLLECTION_PERCENTILE=10,Zy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zy.DEFAULT=new Zy(41943040,Zy.DEFAULT_COLLECTION_PERCENTILE,Zy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zy.DISABLED=new Zy(-1,0,0);var nb=function(){function e(t,n,r,i){ve(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return ge(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ib(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ab(e),o=ib(e);return o.add({}).next((function(u){Oh("number"==typeof u);var s,c=new hy(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return hg(e.Jt,t)})),i=n.mutations.map((function(t){return hg(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],d=new av((function(e,t){return $h(e.canonicalString(),t.canonicalString())})),h=fe(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=Dg(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Og))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),ty.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ib(e).get(t).next((function(e){return e?(Oh(e.userId===n.userId),_y(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?ty.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ib(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Oh(t.batchId>=r),a=_y(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ib(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ib(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return _y(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Pg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ab(e).Wt({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],d=Ag(c);if(s===n.userId&&t.path.isEqual(d))return ib(e).get(l).next((function(e){if(!e)throw Dh();Oh(e.userId===n.userId),a.push(_y(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new av($h),i=[];return t.forEach((function(t){var a=Pg(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=ab(e).Wt({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=Ag(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ty.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Pg(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new av($h);return ab(e).Wt({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],d=Ag(c);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ib(e).get(t).next((function(e){if(null===e)throw Dh();Oh(e.userId===n.userId),r.push(_y(n.M,e))})))})),ty.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return eb(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),ty.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ty.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ab(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ag(e[1]);i.push(a)}else r.done()})).next((function(){Oh(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return rb(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return ob(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Oh(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function rb(e,t,n){var r=Pg(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ab(e).Wt({range:a,jt:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ib(e){return dy(e,"mutations")}function ab(e){return dy(e,"documentMutations")}function ob(e){return dy(e,"mutationQueues")}var ub=function(){function e(t){ve(this,e),this.mn=t}return ge(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),sb=function(){function e(t,n){ve(this,e),this.referenceDelegate=t,this.M=n}return ge(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new ub(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return ep.fromTimestamp(new Zh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return cb(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Oh(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return cb(e).Wt((function(o,u){var s=xy(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ty.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return cb(e).Wt((function(e,n){var r=xy(n);t(r)}))}},{key:"pn",value:function(e){return lb(e).get("targetGlobalKey").next((function(e){return Oh(null!==e),e}))}},{key:"In",value:function(e,t){return lb(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return cb(e).put(Iy(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=lv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cb(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=xy(n);fv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=fb(e);return t.forEach((function(t){var o=Tg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ty.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=fb(e);return ty.forEach(t,(function(t){var a=Tg(t.path);return ty.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=fb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fb(e),i=Fm();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Ag(e[1]),a=new _p(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Tg(t.path),r=IDBKeyRange.bound([n],[Jh(n)],!1,!0),i=0;return fb(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return cb(e).get(t).next((function(e){return e?xy(e):null}))}}]),e}();function cb(e){return dy(e,"targets")}function lb(e){return dy(e,"targetGlobal")}function fb(e){return dy(e,"targetDocuments")}function db(e){return hb.apply(this,arguments)}function hb(){return hb=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Lh.FAILED_PRECONDITION&&t.message===Zg){e.next=2;break}throw t;case 2:Nh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}function pb(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=$h(r,o);return 0===s?$h(i,u):s}var vb=function(){function e(t){ve(this,e),this.An=t,this.buffer=new av(pb),this.Rn=0}return ge(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),mb=function(){function e(t,n){ve(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return ge(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Nh("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,pe(de().mark((function n(){return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!oy(n.t0)){n.next=12;break}Nh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,db(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),gb=function(){function e(t,n){ve(this,e),this.Dn=t,this.params=n}return ge(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ty.resolve(Kh.A);var r=new vb(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Nh("LruGarbageCollector","Garbage collection skipped; disabled"),ty.resolve(Jy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Nh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Jy):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Nh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ch()<=yt.DEBUG&&Nh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ty.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),yb=function(){function e(t,n){ve(this,e),this.db=t,this.garbageCollector=function(e,t){return new gb(e,t)}(this,n)}return ge(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return bb(e,n)}},{key:"removeReference",value:function(e,t,n){return bb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return bb(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return ob(e).zt((function(r){return rb(e,r,t).next((function(e){return e&&(n=!0),ty.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ep.min()),fb(e).delete([0,Tg(o.path)])}))}));i.push(s)}})).next((function(){return ty.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return bb(e,t)}},{key:"Mn",value:function(e,t){var n,r=fb(e),i=Kh.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Kh.A&&t(new _p(Ag(n)),i),i=s,n=u):i=Kh.A})).next((function(){i!==Kh.A&&t(new _p(Ag(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function bb(e,t){return fb(e).put(function(e,t){return{targetId:0,path:Tg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var kb=function(){function e(){ve(this,e),this.changes=new Nm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ge(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Hp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ty.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),wb=function(){function e(t){ve(this,e),this.M=t}return ge(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ib(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ib(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],by(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Hp.newInvalidDocument(t);return Ib(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Sb(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Hp.newInvalidDocument(t)};return Ib(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Sb(t))},(function(e,i){r={document:n.$n(t,i),size:tb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Rm();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Rm(),i=new nv(_p.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,tb(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return ty.resolve();var r=new av(Tb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Sb(r.first()),Sb(r.last())),a=r.getIterator(),o=a.getNext();return Ib(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_p.fromSegments([].concat(be(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Tb(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Sb(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),by(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ib(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Rm(),i=fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(_p.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Rm(),o=Eb(t,n),u=Eb(t,ev.max());return Ib(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(_p.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new _b(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return xb(e).get("remoteDocumentGlobalKey").next((function(e){return Oh(!!e),e}))}},{key:"Fn",value:function(e,t){return xb(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=fg(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_p.fromSegments(t.noDocument.path),i=wy(t.noDocument.readTime);n=Hp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dh();var a=_p.fromSegments(t.unknownDocument.path),o=wy(t.unknownDocument.version);n=Hp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Zh(e[0],e[1]);return ep.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(ep.min()))return n}return Hp.newInvalidDocument(e)}}]),e}(),_b=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Nm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ge(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new av((function(e,t){return $h(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=yy(t.Kn.M,o);i=i.add(a.path.popLast());var c=tb(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=yy(t.Kn.M,o.convertToNoDocument(ep.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),ty.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(kb);function xb(e){return dy(e,"remoteDocumentGlobal")}function Ib(e){return dy(e,"remoteDocumentsV14")}function Sb(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Eb(e,t){var n=t.documentKey.path.toArray();return[e,by(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Tb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=$h(n[a],r[a]))return i;return(i=$h(n.length,r.length))||((i=$h(n[n.length-2],r[r.length-2]))||$h(n[n.length-1],r[r.length-1]))}var Cb=function(){function e(t){ve(this,e),this.M=t}return ge(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new ny("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rg,{unique:!0}),e.createObjectStore("documentMutations")}(e),Nb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ty.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Nb(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ep.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ty.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Hg});t.createIndex("collectionPathOverlayIndex",Kg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Qg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Mg});t.createIndex("documentKeyIndex",Lg),t.createIndex("collectionGroupIndex",Fg)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:qg}).createIndex("sequenceNumberIndex",zg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Wg}).createIndex("documentKeyIndex",Gg,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=tb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return ty.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return ty.forEach(r,(function(r){Oh(r.userId===n.userId);var i=_y(t.M,r);return eb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new ap(n),o=function(e){return[0,Tg(e)]}(a);r.push(t.get(o).next((function(n){return n?ty.resolve():function(n){return t.put({targetId:0,path:Tg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ty.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Vg});var n=t.store("collectionParents"),r=new Gy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Tg(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new ap(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],Ag(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=xy(r),a=Iy(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new _p(ap.fromString(i.document.name).popFirst(5)):i.noDocument?_p.fromSegments(i.noDocument.path):i.unknownDocument?_p.fromSegments(i.unknownDocument.path):Dh()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ty.waitFor(r)}))}}]),e}();function Nb(e){e.createObjectStore("targetDocuments",{keyPath:Ug}).createIndex("documentTargetsIndex",Bg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jg,{unique:!0}),e.createObjectStore("targetGlobal")}var Ab="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rb=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(ve(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Fh(Lh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yb(this,i),this.hs=n+"main",this.M=new gy(s),this.ls=new ry(this.hs,this.ts,new Cb(this.M)),this.fs=new sb(this.referenceDelegate,this.M),this.ds=function(e){return new wb(e)}(this.M),this._s=new Cy,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Ah("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ge(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fh(Lh.FAILED_PRECONDITION,Ab);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Kh(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=pe(de().mark((function n(r){return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=pe(de().mark((function t(n){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Db(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(oy(t))return Nh("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Nh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Pb(e).get("owner").next((function(e){return ty.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return Db(e).delete(this.clientId)}},{key:"vs",value:function(){var e=pe(de().mark((function e(){var t,n,r,i,a=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dy(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ty.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=fe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?ty.resolve(!0):Pb(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Fh(Lh.FAILED_PRECONDITION,Ab);return!1}}return!(!t.networkEnabled||!t.inForeground)||Db(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Nh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=pe(de().mark((function e(){var t=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new fy(e,Kh.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Db(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return nb.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Ky(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ry.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Nh("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Jg:13===i?Xg:12===i?$g:11===i?Yg:void Dh();return this.ls.runTransaction(e,o,u,(function(i){return a=new fy(i,r.es?r.es.next():Kh.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Ah("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Fh(Lh.FAILED_PRECONDITION,Zg);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Pb(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Fh(Lh.FAILED_PRECONDITION,Ab)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pb(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Pb(e);return n.get("owner").next((function(e){return t.Ps(e)?(Nh("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ty.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ah("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Nh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ah("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Ic){Ah("Failed to set zombie client id.",Ic)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Ic){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return ry.vt()}}]),e}();function Pb(e){return dy(e,"owner")}function Db(e){return dy(e,"clientMetadata")}function Ob(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Mb=function(){function e(t,n,r){ve(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return ge(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=fe(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=fe(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return _p.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Mv(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new _p(t)).next((function(e){var t=Dm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Dm();return this.indexManager.getCollectionParents(e,i).next((function(o){return ty.forEach(o,(function(o){var u=function(e,t){return new Av(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=fe(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Hp.newInvalidDocument(s),r=r.insert(s,c)),hm(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){qv(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Lb=function(){function e(t,n,r,i){ve(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return ge(e,null,[{key:"Ys",value:function(t,n){var r,i=Fm(),a=Fm(),o=fe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Fb=function(){function e(){ve(this,e),this.Xs=!1}return ge(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return ty.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(ep.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Ch()<=yt.DEBUG&&Nh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vv(t)),i.ri(e,o,t,Jp(r,-1)))}))}},{key:"si",value:function(e,t){var n=new av(Wv(e));return t.forEach((function(t,r){qv(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Ch()<=yt.DEBUG&&Nh("QueryEngine","Using full collection scan to execute query:",Vv(t)),this.Zs.Qs(e,t,ev.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),jb=function(){function e(t,n,r,i){ve(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new nv($h),this.ai=new Nm((function(e){return lv(e)}),fv),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return ge(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Mb(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function Ub(e,t,n,r){return new jb(e,t,n,r)}function Bb(e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Fm(),s=fe(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=fe(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=fe(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,g=fe(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;u=u.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function qb(e,t){var n=Mh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ty.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Oh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function zb(e){var t=Mh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Wb(e,t){var n=Mh(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(cp.EMPTY_BYTE_STRING,ep.min()).withLastLimboFreeSnapshotVersion(ep.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Rm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Gb(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(ep.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return ty.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function Gb(e,t,n){var r=Fm();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Rm();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(ep.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Nh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Hb(e,t){var n=Mh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Kb(e,t){var n=Mh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,ty.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new my(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function Qb(e,t,n){return Yb.apply(this,arguments)}function Yb(){return Yb=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mh(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),oy(e.t1)){e.next=12;break}throw e.t1;case 12:Nh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Yb.apply(this,arguments)}function $b(e,t,n){var r=Mh(e),i=ep.min(),a=Fm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Mh(e),i=r.ai.get(n);return void 0!==i?ty.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Fv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:ep.min(),n?a:Fm())})).next((function(e){return Zb(r,zv(t),e),{documents:e,_i:a}}))}))}function Xb(e,t){var n=Mh(e),r=Mh(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Jb(e,t){var n=Mh(e),r=n.ci.get(t)||ep.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,Jp(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Zb(n,t,e),e}))}function Zb(e,t,n){var r=ep.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function ek(e,t,n,r){return tk.apply(this,arguments)}function tk(){return tk=pe(de().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Mh(t),o=Fm(),u=Rm(),s=fe(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(d=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,Kb(a,function(e){return Fv(Pv(ap.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Gb(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return rk=pe(de().mark((function e(t,n){var r,i,a,o=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Fm(),e.next=3,Kb(t,Fv(Sy(n.bundledQuery)));case 3:return i=e.sent,a=Mh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=tg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(cp.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}var ik=function(){function e(t){ve(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return ge(e,[{key:"getBundleMetadata",value:function(e,t){return ty.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:tg(n.createTime)}),ty.resolve()}},{key:"getNamedQuery",value:function(e,t){return ty.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Sy(e.bundledQuery),readTime:tg(e.readTime)}}(t)),ty.resolve()}}]),e}(),ak=function(){function e(){ve(this,e),this.overlays=new nv(_p.comparator),this.Ii=new Map}return ge(e,[{key:"getOverlay",value:function(e,t){return ty.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),ty.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),ty.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Om(),i=t.length+1,a=new _p(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ty.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new nv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Om(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Om(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ty.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new vy(t,n));var a=this.Ii.get(t);void 0===a&&(a=Fm(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),ok=function(){function e(){ve(this,e),this.Ti=new av(uk.Ei),this.Ai=new av(uk.Ri)}return ge(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new uk(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new uk(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new _p(new ap([])),r=new uk(n,e),i=new uk(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new _p(new ap([])),n=new uk(t,e),r=new uk(t,e+1),i=Fm();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new uk(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),uk=function(){function e(t,n){ve(this,e),this.key=t,this.Ci=n}return ge(e,null,[{key:"Ei",value:function(e,t){return _p.comparator(e.key,t.key)||$h(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return $h(e.Ci,t.Ci)||_p.comparator(e.key,t.key)}}]),e}(),sk=function(){function e(t,n){ve(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new av(uk.Ei)}return ge(e,[{key:"checkEmpty",value:function(e){return ty.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new hy(i,t,n,r);this.Bs.push(a);var o,u=fe(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new uk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ty.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ty.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return ty.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ty.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return ty.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new uk(t,0),i=new uk(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),ty.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new av($h);return t.forEach((function(e){var t=new uk(e,0),i=new uk(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),ty.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_p.isDocumentKey(i)||(i=i.child(""));var a=new uk(new _p(i),0),o=new av($h);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),ty.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Oh(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return ty.forEach(t.mutations,(function(i){var a=new uk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new uk(t,0),r=this.Ni.firstAfterOrEqual(n);return ty.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,ty.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),ck=function(){function e(t){ve(this,e),this.$i=t,this.docs=new nv(_p.comparator),this.size=0}return ge(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ty.resolve(n?n.document.mutableCopy():Hp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Rm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Hp.newInvalidDocument(e))})),ty.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Rm(),i=new _p(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||tv(Zp(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ty.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Dh()}},{key:"Bi",value:function(e,t){return ty.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new lk(this)}},{key:"getSize",value:function(e){return ty.resolve(this.size)}}]),e}(),lk=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).Kn=e,r}return ge(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),ty.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(kb),fk=function(){function e(t){ve(this,e),this.persistence=t,this.Li=new Nm((function(e){return lv(e)}),fv),this.lastRemoteSnapshotVersion=ep.min(),this.highestTargetId=0,this.Ui=0,this.qi=new ok,this.targetCount=0,this.Ki=ub.gn()}return ge(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),ty.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ty.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ty.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),ty.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),ty.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new ub(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,ty.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),ty.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,ty.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ty.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ty.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return ty.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),ty.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ty.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),ty.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return ty.resolve(n)}},{key:"containsKey",value:function(e,t){return ty.resolve(this.qi.containsKey(t))}}]),e}(),dk=function(){function e(t,n){var r=this;ve(this,e),this.Gi={},this.overlays={},this.es=new Kh(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new fk(this),this.indexManager=new Wy,this.ds=new ck((function(e){return r.referenceDelegate.Qi(e)})),this.M=new gy(n),this._s=new ik(this.M)}return ge(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ak,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new sk(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Nh("MemoryPersistence","Starting transaction:",e);var i=new hk(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return ty.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),hk=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ge(n)}(ey),pk=function(){function e(t){ve(this,e),this.persistence=t,this.Hi=new ok,this.Ji=null}return ge(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Dh()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),ty.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),ty.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),ty.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ty.forEach(this.Xi,(function(r){var i=_p.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,ep.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return ty.or([function(){return ty.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function vk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function mk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function gk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var yk=function(){function e(t,n,r,i){ve(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ge(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Fh(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ah("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),bk=function(){function e(t,n,r){ve(this,e),this.targetId=t,this.state=n,this.error=r}return ge(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fh(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ah("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),kk=function(){function e(t,n){ve(this,e),this.clientId=t,this.activeTargetIds=n}return ge(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Um(),o=0;i&&o<r.activeTargetIds.length;++o)i=wp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ah("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),wk=function(){function e(t,n){ve(this,e),this.clientId=t,this.onlineState=n}return ge(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ah("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),_k=function(){function e(){ve(this,e),this.activeTargetIds=Um()}return ge(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xk=function(){function e(t,n,r,i,a){ve(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new nv($h),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=vk(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new _k),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return ge(e,[{key:"start",value:function(){var e=pe(de().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=fe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(vk(this.persistenceKey,i)))&&(o=kk.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=fe(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(h){c.e(h)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(gk(this.persistenceKey,e));if(n){var r=bk.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(gk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Nh("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Nh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Nh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Nh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void Ah("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(pe(de().mark((function e(){var r,i,a,o,u,s,c;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Kh.A;if(null!=e)try{var n=JSON.parse(e);Oh("number"==typeof n),t=n}catch(e){Ah("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Kh.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new yk(this.currentUser,e,t,n),i=mk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=mk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=gk(this.persistenceKey,e),i=new bk(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return kk.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yk.tr(new Sh(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return bk.tr(r,t)}},{key:"pr",value:function(e){return wk.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Nh("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Um();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ik=function(){function e(){ve(this,e),this.Ur=new _k,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ge(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new _k,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Sk=function(){function e(){ve(this,e)}return ge(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ek=function(){function e(){var t=this;ve(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return ge(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Nh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=fe(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Nh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=fe(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ck=function(){function e(t){ve(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return ge(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Nk=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ge(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xh;o.listenOnce(yh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case gh.NO_ERROR:var t=o.getResponseJson();Nh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case gh.TIMEOUT:Nh("Connection",'RPC "'+e+'" timed out'),a(new Fh(Lh.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:var n=o.getStatus();if(Nh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Lh).indexOf(t)>=0?t:Lh.UNKNOWN}(r.status);a(new Fh(u,r.message))}else a(new Fh(Lh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fh(Lh.UNAVAILABLE,"Connection failed."));break;default:Dh()}}finally{Nh("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=vh(),a=mh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new wh({})),this.lo(o.initMessageHeaders,t,n),Fe()||Be()||Le().indexOf("Electron/")>=0||Ve()||Le().indexOf("MSAppHost/")>=0||Ue()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Nh("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Ck({Jr:function(e){l?Nh("Connection","Not sending because WebChannel is closed:",e):(c||(Nh("Connection","Opening WebChannel transport."),s.open(),c=!0),Nh("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,_h.EventType.OPEN,(function(){l||Nh("Connection","WebChannel transport opened.")})),d(s,_h.EventType.CLOSE,(function(){l||(l=!0,Nh("Connection","WebChannel transport closed"),f.ro())})),d(s,_h.EventType.ERROR,(function(e){l||(l=!0,Rh("Connection","WebChannel transport errored:",e),f.ro(new Fh(Lh.UNAVAILABLE,"The operation could not be completed")))})),d(s,_h.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Oh(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Nh("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=_m[e];if(void 0!==t)return Cm(t)}(a),u=i.message;void 0===o&&(o=Lh.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Fh(o,u)),s.close()}else Nh("Connection","WebChannel received:",n),f.oo(n)}})),d(a,bh.STAT_EVENT,(function(e){e.stat===kh.PROXY?Nh("Connection","Detected buffering proxy"):e.stat===kh.NOPROXY&&Nh("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){ve(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ge(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Nh("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Nh("RestConnection","Received: ",e),e}),(function(t){throw Rh("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Tk[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Ak(){return"undefined"!=typeof window?window:null}function Rk(){return"undefined"!=typeof document?document:null}function Pk(e){return new Xm(e,!0)}var Dk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ve(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return ge(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Nh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Ok=function(){function e(t,n,r,i,a,o,u,s){ve(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Dk(t,n)}return ge(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Lh.RESOURCE_EXHAUSTED?(Ah(n.toString()),Ah("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Lh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Fh(Lh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(pe(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Nh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Nh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Mk=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o,u){var s;return ve(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return ge(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Dh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Oh(void 0===t||"string"==typeof t),cp.fromBase64String(t||"")):(Oh(void 0===t||t instanceof Uint8Array),cp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Lh.UNKNOWN:Cm(e.code);return new Fh(t,e.message||"")}(o);n=new Wm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=ag(e,s.document.name),l=tg(s.document.updateTime),f=new Wp({mapValue:{fields:s.document.fields}}),d=Hp.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new qm(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=ag(e,v.document),g=v.readTime?tg(v.readTime):ep.min(),y=Hp.newNoDocument(m,g),b=v.removedTargetIds||[];n=new qm([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=ag(e,k.document),_=k.removedTargetIds||[];n=new qm([],_,w,null)}else{if(!("filter"in t))return Dh();t.filter;var x=t.filter;x.targetId;var I=x.count||0,S=new Em(I),E=x.targetId;n=new zm(E,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return ep.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ep.min():t.readTime?tg(t.readTime):ep.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=sg(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=dv(r)?{documents:vg(e,r)}:{query:mg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Zm(e,t.resumeToken):t.snapshotVersion.compareTo(ep.min())>0&&(n.readTime=Jm(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=sg(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Ok),Lk=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o,u){var s;return ve(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return ge(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,re(te(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Oh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Oh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?tg(e.updateTime):tg(t);return n.isEqual(ep.min())&&(n=tg(t)),new sm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=tg(e.commitTime);return this.listener.tu(n,t)}return Oh(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=sg(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hg(t.M,e)}))};this.Lo(n)}}]),n}(Ok),Fk=function(e){oe(n,e);var t=le(n);function n(e,r,i,a){var o;return ve(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return ge(n,[{key:"iu",value:function(){if(this.su)throw new Fh(Lh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fh(Lh.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fh(Lh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return ge((function e(){ve(this,e)}))}()),jk=function(){function e(t,n){ve(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return ge(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Ah(t),this.uu=!1):Nh("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Uk=ge((function e(t,n,r,i,a){var o=this;ve(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$k(o),!e.t0){e.next=5;break}return Nh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mh(t)).wu.add(4),e.next=4,qk(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,Bk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new jk(r,i)}));function Bk(e){return Vk.apply(this,arguments)}function Vk(){return Vk=pe(de().mark((function e(t){var n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$k(t)){e.next=18;break}n=fe(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Vk.apply(this,arguments)}function qk(e){return zk.apply(this,arguments)}function zk(){return zk=pe(de().mark((function e(t){var n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fe(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),zk.apply(this,arguments)}function Wk(e,t){var n=Mh(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Yk(n)?Qk(n):Sw(n).Mo()&&Hk(n,t))}function Gk(e,t){var n=Mh(e),r=Sw(n);n._u.delete(t),r.Mo()&&Kk(n,t),0===n._u.size&&(r.Mo()?r.$o():$k(n)&&n.yu.set("Unknown"))}function Hk(e,t){e.pu.Z(t.targetId),Sw(e).Ho(t)}function Kk(e,t){e.pu.Z(t),Sw(e).Jo(t)}function Qk(e){e.pu=new Hm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),Sw(e).start(),e.yu.au()}function Yk(e){return $k(e)&&!Sw(e).ko()&&e._u.size>0}function $k(e){return 0===Mh(e).wu.size}function Xk(e){e.pu=void 0}function Jk(e){return Zk.apply(this,arguments)}function Zk(){return Zk=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){Hk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function ew(e,t){return tw.apply(this,arguments)}function tw(){return tw=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xk(t),Yk(t)?(t.yu.lu(n),Qk(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(e,t,n){return rw.apply(this,arguments)}function rw(){return rw=pe(de().mark((function e(t,n,r){var i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Wm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=pe(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=fe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Nh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,iw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof qm?t.pu.ut(n):n instanceof zm?t.pu._t(n):t.pu.ht(n),r.isEqual(ep.min())){e.next=29;break}return e.prev=14,e.next=17,zb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(cp.EMPTY_BYTE_STRING,n.snapshotVersion)),Kk(e,t);var r=new my(n.target,t,1,n.sequenceNumber);Hk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Nh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,iw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),rw.apply(this,arguments)}function iw(e,t,n){return aw.apply(this,arguments)}function aw(){return aw=pe(de().mark((function e(t,n,r){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oy(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,qk(t);case 5:t.yu.set("Offline"),r||(r=function(){return zb(t.localStore)}),t.asyncQueue.enqueueRetryable(pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,Bk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t){return t().catch((function(n){return iw(e,n,t)}))}function uw(e){return sw.apply(this,arguments)}function sw(){return sw=pe(de().mark((function e(t){var n,r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mh(t),r=Ew(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!cw(n)){e.next=19;break}return e.prev=3,e.next=6,Hb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,lw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,iw(n,e.t0);case 17:e.next=2;break;case 19:fw(n)&&dw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),sw.apply(this,arguments)}function cw(e){return $k(e)&&e.du.length<10}function lw(e,t){e.du.push(t);var n=Ew(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function fw(e){return $k(e)&&!Ew(e).ko()&&e.du.length>0}function dw(e){Ew(e).start()}function hw(e){return pw.apply(this,arguments)}function pw(){return pw=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ew(t).nu();case 1:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e){return mw.apply(this,arguments)}function mw(){return mw=pe(de().mark((function e(t){var n,r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ew(t),r=fe(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function gw(e,t,n){return yw.apply(this,arguments)}function yw(){return yw=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=py.from(i,n,r),e.next=3,ow(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,uw(t);case 5:case"end":return e.stop()}}),e)}))),yw.apply(this,arguments)}function bw(e,t){return kw.apply(this,arguments)}function kw(){return kw=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ew(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=pe(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Tm(i=n.code)||i===Lh.ABORTED){e.next=7;break}return r=t.du.shift(),Ew(t).Fo(),e.next=5,ow(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,uw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fw(t)&&dw(t);case 5:case"end":return e.stop()}}),e)}))),kw.apply(this,arguments)}function ww(e,t){return _w.apply(this,arguments)}function _w(){return _w=pe(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Mh(t)).asyncQueue.verifyOperationInProgress(),Nh("RemoteStore","RemoteStore received new credentials"),i=$k(r),r.wu.add(3),e.next=6,qk(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,Bk(r);case 12:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function xw(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mh(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,Bk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,qk(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Sw(e){return e.Iu||(e.Iu=function(e,t,n){var r=Mh(e);return r.iu(),new Mk(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:Jk.bind(null,e),eo:ew.bind(null,e),zo:nw.bind(null,e)}),e.mu.push(function(){var t=pe(de().mark((function t(n){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),Yk(e)?Qk(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:Xk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Ew(e){return e.Tu||(e.Tu=function(e,t,n){var r=Mh(e);return r.iu(),new Lk(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:hw.bind(null,e),eo:bw.bind(null,e),eu:vw.bind(null,e),tu:gw.bind(null,e)}),e.mu.push(function(){var t=pe(de().mark((function t(n){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,uw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Nh("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Tw=function(){function e(t,n,r,i,a){ve(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new jh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ge(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fh(Lh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Cw(e,t){if(Ah("AsyncQueue","".concat(t,": ").concat(e)),oy(e))return new Fh(Lh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Nw=function(){function e(t){ve(this,e),this.comparator=t?function(e,n){return t(e,n)||_p.comparator(e.key,n.key)}:function(e,t){return _p.comparator(e.key,t.key)},this.keyedMap=Dm(),this.sortedSet=new nv(this.comparator)}return ge(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Aw=function(){function e(){ve(this,e),this.Eu=new nv(_p.comparator)}return ge(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Dh():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Rw=function(){function e(t,n,r,i,a,o,u,s){ve(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ge(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Nw.emptySet(n),a,r,i,!0,!1)}}]),e}(),Pw=ge((function e(){ve(this,e),this.Ru=void 0,this.listeners=[]})),Dw=ge((function e(){ve(this,e),this.queries=new Nm((function(e){return Bv(e)}),Uv),this.onlineState="Unknown",this.bu=new Set}));function Ow(e,t){return Mw.apply(this,arguments)}function Mw(){return Mw=pe(de().mark((function e(t,n){var r,i,a,o,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Pw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Cw(e.t0,"Initialization of query '".concat(Vv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&Bw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Mw.apply(this,arguments)}function Lw(e,t){return Fw.apply(this,arguments)}function Fw(){return Fw=pe(de().mark((function e(t,n){var r,i,a,o,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Fw.apply(this,arguments)}function jw(e,t){var n,r=Mh(e),i=!1,a=fe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=fe(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&Bw(r)}function Uw(e,t,n){var r=Mh(e),i=r.queries.get(t);if(i){var a,o=fe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Bw(e){e.bu.forEach((function(e){e.next()}))}var Vw=function(){function e(t,n,r){ve(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return ge(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=fe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Rw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=Rw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),qw=function(){function e(t,n){ve(this,e),this.payload=t,this.byteLength=n}return ge(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),zw=function(){function e(t){ve(this,e),this.M=t}return ge(e,[{key:"wi",value:function(e){return ag(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?fg(this.M,e.document,!1):Hp.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return tg(e)}}]),e}(),Ww=function(){function e(t,n,r){ve(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gw(t)}return ge(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ap.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new zw(this.M),i=fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=fe(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Fm()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=pe(de().mark((function e(){var t,n,r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ek(this.localStore,new zw(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=fe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,nk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Hw=ge((function e(t){ve(this,e),this.key=t})),Kw=ge((function e(t){ve(this,e),this.key=t})),Qw=function(){function e(t,n){ve(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Fm(),this.mutatedKeys=Fm(),this.Gu=Wv(t),this.Qu=new Nw(this.Gu)}return ge(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Aw,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qv(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dh()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Rw(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Aw,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Fm(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Kw(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Hw(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Fm();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return Rw.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),Yw=ge((function e(t,n,r){ve(this,e),this.query=t,this.targetId=n,this.view=r})),$w=ge((function e(t){ve(this,e),this.key=t,this.na=!1})),Xw=function(){function e(t,n,r,i,a,o){ve(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Nm((function(e){return Bv(e)}),Uv),this.ra=new Map,this.oa=new Set,this.ua=new nv(_p.comparator),this.aa=new Map,this.ca=new ok,this.ha={},this.la=new Map,this.fa=ub.yn(),this.onlineState="Unknown",this.da=void 0}return ge(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function Jw(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=pe(de().mark((function e(t,n){var r,i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=G_(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,Kb(r.localStore,Fv(n));case 8:return u=e.sent,r.isPrimaryClient&&Wk(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,e_(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function e_(e,t,n,r){return t_.apply(this,arguments)}function t_(){return t_=pe(de().mark((function e(t,n,r,i){var a,o,u,s,c,l;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=pe(de().mark((function e(t,n,r,i){var a,o,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,$b(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(w_(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,$b(t.localStore,n,!0);case 3:return a=e.sent,o=new Qw(n,a._i),u=o.Wu(a.documents),s=Vm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),w_(t,r,c.Xu),l=new Yw(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=pe(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mh(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Uv(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Qb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Gk(r.remoteStore,i.targetId),b_(r,i.targetId)})).catch(db);case 9:e.next=14;break;case 11:return b_(r,i.targetId),e.next=14,Qb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t,n){return a_.apply(this,arguments)}function a_(){return a_=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=H_(t),e.prev=1,e.next=4,function(e,t){var n,r=Mh(e),i=Zh.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Fm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=fe(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=pm(c,n.get(c.key));null!=l&&u.push(new ym(c.key,l,Gp(l.value.mapValue),cm.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new nv($h)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,I_(i,a.changes);case 9:return e.next=11,uw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Cw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),a_.apply(this,arguments)}function o_(e,t){return u_.apply(this,arguments)}function u_(){return u_=pe(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(t),e.prev=1,e.next=4,Wb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Oh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Oh(n.na):e.removedDocuments.size>0&&(Oh(n.na),n.na=!1))})),e.next=8,I_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,db(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),u_.apply(this,arguments)}function s_(e,t,n){var r=Mh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Mh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=fe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Bw(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function c_(e,t,n){return l_.apply(this,arguments)}function l_(){return l_=pe(de().mark((function e(t,n,r){var i,a,o,u,s,c;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Mh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new nv(_p.comparator)).insert(o,Hp.newNoDocument(o,ep.min())),s=Fm().add(o),c=new Bm(ep.min(),new Map,new av($h),u,s),e.next=9,o_(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),x_(i),e.next=16;break;case 14:return e.next=16,Qb(i.localStore,n,!1).then((function(){return b_(i,n,r)})).catch(db);case 16:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){return d_.apply(this,arguments)}function d_(){return d_=pe(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(t),i=n.batch.batchId,e.prev=1,e.next=4,qb(r.localStore,n);case 4:return a=e.sent,y_(r,i,null),g_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,I_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,db(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),d_.apply(this,arguments)}function h_(e,t,n){return p_.apply(this,arguments)}function p_(){return p_=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mh(t),e.prev=1,e.next=4,function(e,t){var n=Mh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Oh(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,y_(i,n,r),g_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,I_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,db(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),p_.apply(this,arguments)}function v_(e,t){return m_.apply(this,arguments)}function m_(){return m_=pe(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $k((r=Mh(t)).remoteStore)||Nh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Mh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Cw(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),m_.apply(this,arguments)}function g_(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function y_(e,t,n){var r=Mh(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function b_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=fe(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||k_(e,t)}))}function k_(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(Gk(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),x_(e))}function w_(e,t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Hw?(e.ca.addReference(a.key,t),__(e,a)):a instanceof Kw?(Nh("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||k_(e,a.key)):Dh()}}catch(o){i.e(o)}finally{i.f()}}function __(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Nh("SyncEngine","New document in limbo: "+n),e.oa.add(r),x_(e))}function x_(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new _p(ap.fromString(t)),r=e.fa.next();e.aa.set(r,new $w(n)),e.ua=e.ua.insert(n,r),Wk(e.remoteStore,new my(Fv(Pv(n.path)),r,2,Kh.A))}}function I_(e,t,n){return S_.apply(this,arguments)}function S_(){return S_=pe(de().mark((function e(t,n,r){var i,a,o,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mh(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Lb.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=pe(de().mark((function e(t,n){var r,i,a,o,u,s,c,l;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ty.forEach(n,(function(t){return ty.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ty.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),oy(e.t0)){e.next=10;break}throw e.t0;case 10:Nh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=fe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function E_(e,t){return T_.apply(this,arguments)}function T_(){return T_=pe(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Mh(t)).currentUser.isEqual(n)){e.next=11;break}return Nh("SyncEngine","User change. New user:",n.toKey()),e.next=5,Bb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Fh(Lh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,I_(r,i.di);case 11:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e,t){var n=Mh(e),r=n.aa.get(t);if(r&&r.na)return Fm().add(r.key);var i=Fm(),a=n.ra.get(t);if(!a)return i;var o,u=fe(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function N_(e,t){return A_.apply(this,arguments)}function A_(){return A_=pe(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(t),e.next=3,$b(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&w_(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}function R_(e,t){return P_.apply(this,arguments)}function P_(){return P_=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(t),e.abrupt("return",Jb(r.localStore,n).then((function(e){return I_(r,e)})));case 2:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function D_(e,t,n,r){return O_.apply(this,arguments)}function O_(){return O_=pe(de().mark((function e(t,n,r,i){var a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Mh(t),e.next=3,function(e,t){var n=Mh(e),r=Mh(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):ty.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,uw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(y_(a,n,i||null),g_(a,n),function(e,t){Mh(Mh(e).Bs)._n(t)}(a.localStore,n)):Dh();case 11:return e.next=13,I_(a,o);case 13:e.next=16;break;case 15:Nh("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function M_(e,t){return L_.apply(this,arguments)}function L_(){return L_=pe(de().mark((function e(t,n){var r,i,a,o,u,s,c,l;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G_(r=Mh(t)),H_(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,F_(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,xw(r.remoteStore,!0);case 9:o=fe(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Wk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return b_(r,t),Qb(r.localStore,t,!0)})),Gk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,F_(r,c);case 21:return function(e){var t=Mh(e);t.aa.forEach((function(e,n){Gk(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new nv(_p.comparator)}(r),r.da=!1,e.next=25,xw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function F_(e,t,n){return j_.apply(this,arguments)}function j_(){return j_=pe(de().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,g;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Mh(t),a=[],o=[],u=fe(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,Kb(i.localStore,Fv(f[0]));case 11:l=e.sent,d=fe(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.ia.get(p),e.next=20,N_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Xb(i.localStore,c);case 36:return g=e.sent,e.next=39,Kb(i.localStore,g);case 39:return l=e.sent,e.next=42,e_(i,U_(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),j_.apply(this,arguments)}function U_(e){return Rv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function B_(e){var t=Mh(e);return Mh(Mh(t.localStore).persistence).Fs()}function V_(e,t,n,r){return q_.apply(this,arguments)}function q_(){return q_=pe(de().mark((function e(t,n,r,i){var a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Mh(t)).da){e.next=3;break}return e.abrupt("return",void Nh("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Jb(a.localStore,zv(o[0]));case 10:return u=e.sent,s=Bm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,I_(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Qb(a.localStore,n,!0);case 17:return b_(a,n,i),e.abrupt("break",20);case 19:Dh();case 20:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function z_(e,t,n){return W_.apply(this,arguments)}function W_(){return W_=pe(de().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=G_(t)).da){e.next=45;break}a=fe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return Nh("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Xb(i.localStore,u);case 12:return s=e.sent,e.next=15,Kb(i.localStore,s);case 15:return c=e.sent,e.next=18,e_(i,U_(s),c.targetId,!1);case 18:Wk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=fe(r),e.prev=30,d=de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,Qb(i.localStore,t,!1).then((function(){Gk(i.remoteStore,t),b_(i,t)})).catch(db);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),W_.apply(this,arguments)}function G_(e){var t=Mh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=o_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=C_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=c_.bind(null,t),t.sa.zo=jw.bind(null,t.eventManager),t.sa.wa=Uw.bind(null,t.eventManager),t}function H_(e){var t=Mh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=f_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h_.bind(null,t),t}function K_(e,t,n){var r=Mh(e);(function(){var e=pe(de().mark((function e(t,n,r){var i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Mh(e),r=tg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Gw(i)),a=new Ww(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,I_(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Mh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Rh("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Q_=function(){function e(){ve(this,e),this.synchronizeTabs=!1}return ge(e,[{key:"initialize",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Pk(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return Ub(this.persistence,new Fb,e.initialUser,this.M)}},{key:"ya",value:function(e){return new dk(pk.Yi,this.M)}},{key:"ga",value:function(e){return new Ik}},{key:"terminate",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Y_=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ge(n,[{key:"initialize",value:function(){var e=pe(de().mark((function e(t){var r=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,H_(this.Ta.syncEngine);case 6:return e.next=8,uw(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return Ub(this.persistence,new Fb,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new mb(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=Ob(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Zy.withCacheSize(this.cacheSizeBytes):Zy.DEFAULT;return new Rb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ak(),Rk(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new Ik}}]),n}(Q_),$_=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ge(n,[{key:"initialize",value:function(){var e=pe(de().mark((function e(t){var r,i=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof xk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:D_.bind(null,r),Br:V_.bind(null,r),Lr:z_.bind(null,r),Fs:B_.bind(null,r),Fr:R_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M_(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=Ak();if(!xk.vt(t))throw new Fh(Lh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ob(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Y_),X_=function(){function e(){ve(this,e)}return ge(e,[{key:"initialize",value:function(){var e=pe(de().mark((function e(t,n){var r=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return s_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=E_.bind(null,this.syncEngine),e.next=12,xw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Dw}},{key:"createDatastore",value:function(e){var t,n=Pk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Nk(t));return function(e,t,n,r){return new Fk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return s_(o.syncEngine,e,0)},a=Ek.vt()?new Ek:new Sk,new Uk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Xw(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mh(t),Nh("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,qk(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function J_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return pe(de().mark((function r(){var i;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Z_=function(){function e(t){ve(this,e),this.observer=t,this.muted=!1}return ge(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ex=function(){function e(t,n){var r=this;ve(this,e),this.Ra=t,this.M=n,this.metadata=new jh,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ge(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=pe(de().mark((function e(){var t,n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new qw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=pe(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=pe(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tx=function(){function e(t){ve(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ge(e,[{key:"lookup",value:function(){var e=pe(de().mark((function e(t){var n,r=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Fh(Lh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=pe(de().mark((function e(t,n){var r,i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(t),i=sg(r.M)+"/documents",a={documents:n.map((function(e){return ig(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=dg(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Oh(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Im(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=pe(de().mark((function e(){var t,n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_p.fromPath(t);n.mutations.push(new Sm(r,n.precondition(r)))})),e.next=7,function(){var e=pe(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(t),i=sg(r.M)+"/documents",a={writes:n.map((function(e){return hg(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dh();t=ep.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fh(Lh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?cm.updateTime(t):cm.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ep.min()))throw new Fh(Lh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cm.updateTime(t)}return cm.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),nx=function(){function e(t,n,r,i,a){ve(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new Dk(this.asyncQueue,"transaction_retry")}return ge(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(pe(de().mark((function t(){var n,r;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new tx(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!bp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Tm(t)}return!1}}]),e}(),rx=function(){function e(t,n,r,i){var a=this;ve(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sh.UNAUTHENTICATED,this.clientId=Yh.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Nh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ge(e,[{key:"getConfiguration",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fh(Lh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(pe(de().mark((function n(){var r;return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Cw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=pe(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Nh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Bb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=pe(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sx(t);case 3:return r=e.sent,Nh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ww(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ww(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e){return cx.apply(this,arguments)}function cx(){return cx=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Nh("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ix(t,new Q_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e){return fx.apply(this,arguments)}function fx(){return fx=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Nh("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ox(t,new X_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function dx(e){return sx(e).then((function(e){return e.persistence}))}function hx(e){return sx(e).then((function(e){return e.localStore}))}function px(e){return lx(e).then((function(e){return e.remoteStore}))}function vx(e){return lx(e).then((function(e){return e.syncEngine}))}function mx(e){return gx.apply(this,arguments)}function gx(){return gx=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Jw.bind(null,n.syncEngine),r.onUnlisten=n_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function yx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new jh;return e.asyncQueue.enqueueAndForget(pe(de().mark((function i(){return de().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Z_({next:function(a){t.enqueueAndForget((function(){return Lw(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Fh(Lh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Fh(Lh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Vw(Pv(n.path),a,{includeMetadataChanges:!0,ku:!0});return Ow(e,o)},i.next=3,mx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function bx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new jh;return e.asyncQueue.enqueueAndForget(pe(de().mark((function i(){return de().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Z_({next:function(n){t.enqueueAndForget((function(){return Lw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Fh(Lh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Vw(n,a,{includeMetadataChanges:!0,ku:!0});return Ow(e,o)},i.next=3,mx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var kx=new Map;function wx(e,t,n){if(!n)throw new Fh(Lh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _x(e,t,n,r){if(!0===t&&!0===r)throw new Fh(Lh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function xx(e){if(!_p.isDocumentKey(e))throw new Fh(Lh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ix(e){if(_p.isDocumentKey(e))throw new Fh(Lh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Dh()}function Ex(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fh(Lh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sx(e);throw new Fh(Lh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Tx(e,t){if(t<=0)throw new Fh(Lh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Cx=function(){function e(t){var n;if(ve(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fh(Lh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fh(Lh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,_x("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ge(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Nx=function(){function e(t,n,r){ve(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cx({}),this._settingsFrozen=!1,t instanceof yp?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fh(Lh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yp(e.options.projectId)}(t))}return ge(e,[{key:"app",get:function(){if(!this._app)throw new Fh(Lh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fh(Lh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bh;switch(e.type){case"gapi":var t=e.client;return Oh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Wh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Fh(Lh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=kx.get(e);t&&(Nh("ComponentProvider","Removing Datastore"),kx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ax(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ex(e,Nx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Rh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Sh.MOCK_USER;else{o=Me(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Fh(Lh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sh(s)}e._authCredentials=new Vh(new Uh(o,u))}}var Rx=function(){function e(t,n,r){ve(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ge(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Dx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Px=function(){function e(t,n,r){ve(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ge(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Dx=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this,e,r,Pv(i)))._path=i,a.type="collection",a}return ge(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Rx(this.firestore,null,new _p(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Px);function Ox(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=dt(e),wx("collection","path",t),e instanceof Nx){var a=ap.fromString.apply(ap,[t].concat(r));return Ix(a),new Dx(e,null,a)}if(!(e instanceof Rx||e instanceof Dx))throw new Fh(Lh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ap.fromString.apply(ap,[t].concat(r)));return Ix(o),new Dx(e.firestore,null,o)}function Mx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=dt(e),1===arguments.length&&(t=Yh.R()),wx("doc","path",t),e instanceof Nx){var a=ap.fromString.apply(ap,[t].concat(r));return xx(a),new Rx(e,null,new _p(a))}if(!(e instanceof Rx||e instanceof Dx))throw new Fh(Lh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ap.fromString.apply(ap,[t].concat(r)));return xx(o),new Rx(e.firestore,e instanceof Dx?e.converter:null,new _p(o))}function Lx(e,t){return e=dt(e),t=dt(t),(e instanceof Rx||e instanceof Dx)&&(t instanceof Rx||t instanceof Dx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fx(e,t){return e=dt(e),t=dt(t),e instanceof Px&&t instanceof Px&&e.firestore===t.firestore&&Uv(e._query,t._query)&&e.converter===t.converter}var jx=function(){function e(){var t=this;ve(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Dk(this,"async_queue_retry"),this.Qa=function(){var e=Rk();e&&Nh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Rk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return ge(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Rk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new jh;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=pe(de().mark((function e(){var t=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),oy(e.t0)){e.next=12;break}throw e.t0;case 12:Nh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ah("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Tw.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Dh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=fe(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=fe(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function Ux(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=fe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Bx=function(){function e(){ve(this,e),this._progressObserver={},this._taskCompletionResolver=new jh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ge(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Vx=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new jx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ge(n,[{key:"_terminate",value:function(){return this._firestoreClient||zx(this),this._firestoreClient.terminate()}}]),n}(Nx);function qx(e){return e._firestoreClient||zx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new gp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new rx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Wx(e,t,n){var r=new jh;return e.asyncQueue.enqueue(pe(de().mark((function i(){return de().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ix(e,n);case 3:return i.next=5,ox(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Lh.FAILED_PRECONDITION||e.code===Lh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Gx(e){return function(e){return e.asyncQueue.enqueue(pe(de().mark((function t(){var n,r;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dx(e);case 2:return n=t.sent,t.next=5,px(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Mh(e);return t.wu.delete(0),Bk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(qx(e=Ex(e,Vx)))}function Hx(e){return function(e){return e.asyncQueue.enqueue(pe(de().mark((function t(){var n,r;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dx(e);case 2:return n=t.sent,t.next=5,px(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mh(t)).wu.add(0),e.next=4,qk(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(qx(e=Ex(e,Vx)))}function Kx(e,t){var n=qx(e=Ex(e,Vx)),r=new Bx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ex(e,t)}(function(e,t){if(e instanceof Uint8Array)return J_(e,t);if(e instanceof ArrayBuffer)return J_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Pk(t));e.asyncQueue.enqueueAndForget(pe(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=K_,t.next=3,vx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Qx(e,t){return function(e,t){return e.asyncQueue.enqueue(pe(de().mark((function n(){return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Mh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,hx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(qx(e=Ex(e,Vx)),t).then((function(t){return t?new Px(e,null,t.query):null}))}function Yx(e){if(e._initialized||e._terminated)throw new Fh(Lh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $x=function(){function e(){ve(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new up(n)}return ge(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Xx=function(){function e(t){ve(this,e),this._byteString=t}return ge(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(cp.fromBase64String(t))}catch(t){throw new Fh(Lh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(cp.fromUint8Array(t))}}]),e}(),Jx=ge((function e(t){ve(this,e),this._methodName=t})),Zx=function(){function e(t,n){if(ve(this,e),!isFinite(t)||t<-90||t>90)throw new Fh(Lh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fh(Lh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ge(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $h(this._lat,e._lat)||$h(this._long,e._long)}}]),e}(),eI=/^__.*__$/,tI=function(){function e(t,n,r){ve(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ge(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ym(e,this.data,this.fieldMask,t,this.fieldTransforms):new gm(e,this.data,t,this.fieldTransforms)}}]),e}(),nI=function(){function e(t,n,r){ve(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ge(e,[{key:"toMutation",value:function(e,t){return new ym(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function rI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dh()}}var iI=function(){function e(t,n,r,i,a,o){ve(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ge(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return II(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(rI(this.ec)&&eI.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),aI=function(){function e(t,n,r){ve(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Pk(t)}return ge(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new iI({ec:e,methodName:t,hc:n,path:up.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function oI(e){var t=e._freezeSettings(),n=Pk(e._databaseId);return new aI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);kI("Data must be an object, but it was:",o,r);var u,s,c=yI(r,o);if(a.merge)u=new sp(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=fe(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=wI(t,h,n);if(!o.contains(p))throw new Fh(Lh.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));SI(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new sp(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new tI(new Wp(c),u,s)}var sI=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Jx);function cI(e,t,n){return new iI({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var lI=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"_toFieldTransform",value:function(e){return new um(e.path,new Zv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Jx),fI=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e)).fc=r,i}return ge(n,[{key:"_toFieldTransform",value:function(e){var t=cI(this,e,!0),n=this.fc.map((function(e){return gI(e,t)})),r=new em(n);return new um(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Jx),dI=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e)).fc=r,i}return ge(n,[{key:"_toFieldTransform",value:function(e){var t=cI(this,e,!0),n=this.fc.map((function(e){return gI(e,t)})),r=new nm(n);return new um(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Jx),hI=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e)).dc=r,i}return ge(n,[{key:"_toFieldTransform",value:function(e){var t=new im(e.M,Qv(e.M,this.dc));return new um(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Jx);function pI(e,t,n,r){var i=e.lc(1,t,n);kI("Data must be an object, but it was:",i,r);var a=[],o=Wp.empty();np(r,(function(e,r){var u=xI(t,e,n);r=dt(r);var s=i.oc(u);if(r instanceof sI)a.push(u);else{var c=gI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new sp(a);return new nI(o,u,i.fieldTransforms)}function vI(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[wI(t,r,n)],s=[i];if(a.length%2!=0)throw new Fh(Lh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(wI(t,a[c])),s.push(a[c+1]);for(var l=[],f=Wp.empty(),d=u.length-1;d>=0;--d)if(!SI(l,u[d])){var h=u[d],p=s[d];p=dt(p);var v=o.oc(h);if(p instanceof sI)l.push(h);else{var m=gI(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new sp(l);return new nI(f,g,o.fieldTransforms)}function mI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gI(n,e.lc(r?4:3,t))}function gI(e,t){if(bI(e=dt(e)))return kI("Unsupported field value:",t,e),yI(e,t);if(e instanceof Jx)return function(e,t){if(!rI(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=fe(e);try{for(a.s();!(n=a.n()).done;){var o=gI(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qv(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zh.fromDate(e);return{timestampValue:Jm(t.M,n)}}if(e instanceof Zh){var r=new Zh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jm(t.M,r)}}if(e instanceof Zx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xx)return{bytesValue:Zm(t.M,e._byteString)};if(e instanceof Rx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ng(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(Sx(e)))}(e,t)}function yI(e,t){var n={};return rp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):np(e,(function(e,r){var i=gI(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function bI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zh||e instanceof Zx||e instanceof Xx||e instanceof Rx||e instanceof Jx)}function kI(e,t,n){if(!bI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Sx(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function wI(e,t,n){if((t=dt(t))instanceof $x)return t._internalPath;if("string"==typeof t)return xI(e,t);throw II("Field path arguments must be of type string or ",e,!1,void 0,n)}var _I=new RegExp("[~\\*/\\[\\]]");function xI(e,t,n){if(t.search(_I)>=0)throw II("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return we($x,be(t.split(".")))._internalPath}catch(r){throw II("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function II(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Fh(Lh.INVALID_ARGUMENT,u+e+s)}function SI(e,t){return e.some((function(e){return e.isEqual(t)}))}var EI=function(){function e(t,n,r,i,a){ve(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ge(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Rx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(CI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),TI=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"data",value:function(){return re(te(n.prototype),"data",this).call(this)}}]),n}(EI);function CI(e,t){return"string"==typeof t?xI(e,t):t instanceof $x?t._internalPath:t._delegate._internalPath}var NI=function(){function e(t,n){ve(this,e),this.hasPendingWrites=t,this.fromCache=n}return ge(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),AI=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o,u){var s;return ve(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ge(n,[{key:"exists",value:function(){return re(te(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new RI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(CI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(EI),RI=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re(te(n.prototype),"data",this).call(this,e)}}]),n}(AI),PI=function(){function e(t,n,r,i){ve(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new NI(i.hasPendingWrites,i.fromCache),this.query=r}return ge(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new RI(n._firestore,n._userDataWriter,r.key,r,new NI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fh(Lh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new RI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new NI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new RI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new NI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:DI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function DI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dh()}}function OI(e,t){return e instanceof AI&&t instanceof AI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof PI&&t instanceof PI&&e._firestore===t._firestore&&Fx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function MI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fh(Lh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var LI=ge((function e(){ve(this,e)}));function FI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var jI=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return ge(n,[{key:"_apply",value:function(e){var t=oI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){YI(o,a);var s,c=[],l=fe(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(QI(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=QI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||YI(o,a),u=mI(n,"where",o,"in"===a||"not-in"===a);var d=mv.create(i,a,u);return function(e,t){if(t.S()){var n=Ov(e);if(null!==n&&!n.isEqual(t.field))throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Dv(e);null!==r&&$I(e,t.field,r)}var i=function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Fh(Lh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fh(Lh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Px(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(LI);var UI=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return ge(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ev(t,n);return function(e,t){if(null===Dv(e)){var n=Ov(e);null!==n&&$I(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new Px(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Av(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(LI);var BI=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return ge(n,[{key:"_apply",value:function(e){return new Px(e.firestore,e.converter,jv(e._query,this.yc,this.Ic))}}]),n}(LI);var VI=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return ge(n,[{key:"_apply",value:function(e){var t=KI(e,this.type,this.Tc,this.Ec);return new Px(e.firestore,e.converter,function(e,t){return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(LI);function qI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VI("startAt",t,!0)}function zI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VI("startAfter",t,!1)}var WI=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return ve(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return ge(n,[{key:"_apply",value:function(e){var t=KI(e,this.type,this.Tc,this.Ec);return new Px(e.firestore,e.converter,function(e,t){return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(LI);function GI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WI("endBefore",t,!1)}function HI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WI("endAt",t,!0)}function KI(e,t,n,r){if(n[0]=dt(n[0]),n[0]instanceof EI)return function(e,t,n,r,i){if(!r)throw new Fh(Lh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=fe(Lv(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Pp(t,r.key));else{var c=r.data.field(s.field);if(pp(c))throw new Fh(Lh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Sv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=oI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Fh(Lh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Mv(e)&&-1!==c.indexOf("/"))throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ap.fromString(c));if(!_p.isDocumentKey(l))throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _p(l);u.push(Pp(t,f))}else{var d=mI(n,r,c);u.push(d)}}return new Sv(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function QI(e,t,n){if("string"==typeof(n=dt(n))){if(""===n)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mv(t)&&-1!==n.indexOf("/"))throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ap.fromString(n));if(!_p.isDocumentKey(r))throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Pp(e,new _p(r))}if(n instanceof Rx)return Pp(e,n._key);throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Sx(n),"."))}function YI(e,t){if(!Array.isArray(e)||0===e.length)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function $I(e,t,n){if(!n.isEqual(t))throw new Fh(Lh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var XI={maxAttempts:5},JI=function(){function e(){ve(this,e)}return ge(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return np(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Zx(dp(e.latitude),dp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=vp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fp(e);return new Zh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ap.fromString(e);Oh(Eg(n));var r=new yp(n.get(1),n.get(3)),i=new _p(n.popFirst(5));return r.isEqual(t)||Ah("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ZI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eS=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).firestore=e,r}return ge(n,[{key:"convertBytes",value:function(e){return new Xx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rx(this.firestore,null,t)}}]),n}(JI),tS=function(){function e(t,n){ve(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=oI(t)}return ge(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nS(e,this._firestore),i=ZI(r.converter,t,n),a=uI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,cm.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=dt(t))||t instanceof $x?vI(this._dataReader,"WriteBatch.update",i._key,t,n,o):pI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,cm.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nS(e,this._firestore);return this._mutations=this._mutations.concat(new Im(t._key,cm.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Fh(Lh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nS(e,t){if((e=dt(e)).firestore!==t)throw new Fh(Lh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rS=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).firestore=e,r}return ge(n,[{key:"convertBytes",value:function(e){return new Xx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rx(this.firestore,null,t)}}]),n}(JI);function iS(e){e=Ex(e,Rx);var t=Ex(e.firestore,Vx),n=qx(t),r=new rS(t);return function(e,t){var n=new jh;return e.asyncQueue.enqueueAndForget(pe(de().mark((function r(){return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=pe(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Mh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Fh(Lh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Cw(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new AI(t,r,e._key,n,new NI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function aS(e){e=Ex(e,Px);var t=Ex(e.firestore,Vx),n=qx(t),r=new rS(t);return function(e,t){var n=new jh;return e.asyncQueue.enqueueAndForget(pe(de().mark((function r(){return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=pe(de().mark((function e(t,n,r){var i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$b(t,n,!0);case 3:i=e.sent,a=new Qw(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Cw(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new PI(t,r,e,n)}))}function oS(e,t,n){e=Ex(e,Rx);var r=Ex(e.firestore,Vx),i=ZI(e.converter,t,n);return lS(r,[uI(oI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cm.none())])}function uS(e,t,n){e=Ex(e,Rx);for(var r=Ex(e.firestore,Vx),i=oI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return lS(r,[("string"==typeof(t=dt(t))||t instanceof $x?vI(i,"updateDoc",e._key,t,n,o):pI(i,"updateDoc",e._key,t)).toMutation(e._key,cm.exists(!0))])}function sS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=dt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Ux(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(Ux(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof Rx)l=Ex(e.firestore,Vx),f=Pv(e._key.path),c={next:function(t){n[s]&&n[s](fS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Ex(e,Px);l=Ex(p.firestore,Vx),f=p._query;var v=new rS(l);c={next:function(e){n[s]&&n[s](new PI(l,v,p,e))},error:n[s+1],complete:n[s+2]},MI(e._query)}return function(e,t,n,r){var i=new Z_(r),a=new Vw(t,i,n);return e.asyncQueue.enqueueAndForget(pe(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ow,t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(pe(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Lw,t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qx(l),f,d,c)}function cS(e,t){return function(e,t){var n=new Z_(t);return e.asyncQueue.enqueueAndForget(pe(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mh(e).bu.add(t),t.next()},t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(pe(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mh(e).bu.delete(t)},t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qx(e=Ex(e,Vx)),Ux(t)?t:{next:t})}function lS(e,t){return function(e,t){var n=new jh;return e.asyncQueue.enqueueAndForget(pe(de().mark((function r(){return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=i_,r.next=3,vx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(qx(e),t)}function fS(e,t,n){var r=n.docs.get(t._key),i=new rS(e);return new AI(e,i,t._key,r,new NI(n.hasPendingWrites,n.fromCache),t.converter)}var dS=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e,r))._firestore=e,i}return ge(n,[{key:"get",value:function(e){var t=this,r=nS(e,this._firestore),i=new rS(this._firestore);return re(te(n.prototype),"get",this).call(this,e).then((function(e){return new AI(t._firestore,i,r._key,e._document,new NI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ve(this,e),this._firestore=t,this._transaction=n,this._dataReader=oI(t)}return ge(e,[{key:"get",value:function(e){var t=this,n=nS(e,this._firestore),r=new eS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Dh();var i=e[0];if(i.isFoundDocument())return new EI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new EI(t._firestore,r,n._key,null,n.converter);throw Dh()}))}},{key:"set",value:function(e,t,n){var r=nS(e,this._firestore),i=ZI(r.converter,t,n),a=uI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=dt(t))||t instanceof $x?vI(this._dataReader,"Transaction.update",i._key,t,n,o):pI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function hS(e,t,n){e=Ex(e,Vx);var r=Object.assign(Object.assign({},XI),n);return function(e){if(e.maxAttempts<1)throw new Fh(Lh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new jh;return e.asyncQueue.enqueueAndForget(pe(de().mark((function i(){var a;return de().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return lx(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new nx(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(qx(e),(function(n){return t(new dS(e,n))}),r)}function pS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fI("arrayUnion",t)}function vS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Eh=e}(fn),rn(new ht("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Vx(i,new qh(e.getProvider("auth-internal")),new Hh(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),gn(Ih,"3.4.9",e),gn(Ih,"3.4.9","esm2017")}();var mS=function(){return mS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mS.apply(this,arguments)},gS=function(e){return{loading:void 0===e||null===e,value:e}},yS=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return mS(mS({},e),{error:t.error,loading:!1,value:void 0});case"reset":return gS(t.defaultValue);case"value":return mS(mS({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),gS(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},bS=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},kS=function(e,t){var n=!e&&!t,r=!!e&&!!t&&Lx(e,t);return n||r},wS=function(e,t){return bS(e,kS,t)},_S=function(e,t){var n=null===t||void 0===t?void 0:t.snapshotOptions,r=function(e,t){var n=yS(),r=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=wS(e,o);(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?sS(l.current,t.snapshotListenOptions,s,u):sS(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,r];return(0,i.useMemo)((function(){return f}),f)}(e,t),a=r[0],o=r[1],u=r[2],s=[(0,i.useMemo)((function(){return null===a||void 0===a?void 0:a.data(n)}),[a,n]),o,u,a];return(0,i.useMemo)((function(){return s}),s)};function xS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ae(e,t)}function IS(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var SS="function"===typeof Symbol&&Symbol.observable||"@@observable",ES=function(){return Math.random().toString(36).substring(7).split("").join(".")},TS={INIT:"@@redux/INIT"+ES(),REPLACE:"@@redux/REPLACE"+ES(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ES()}};function CS(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function NS(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(IS(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(IS(1));return n(NS)(e,t)}if("function"!==typeof e)throw new Error(IS(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(IS(3));return a}function f(e){if("function"!==typeof e)throw new Error(IS(4));if(s)throw new Error(IS(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(IS(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function d(e){if(!CS(e))throw new Error(IS(7));if("undefined"===typeof e.type)throw new Error(IS(8));if(s)throw new Error(IS(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(IS(10));i=e,d({type:TS.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(IS(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[SS]=function(){return this},e}return d({type:TS.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[SS]=p,r}function AS(e,t){return function(){return t(e.apply(this,arguments))}}function RS(e,t){if("function"===typeof e)return AS(e,t);if("object"!==typeof e||null===e)throw new Error(IS(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=AS(i,t))}return n}function PS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var DS=i.createContext(null);var OS=function(e){e()},MS=function(){return OS};var LS={notify:function(){},get:function(){return[]}};function FS(e,t){var n,r=LS;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=MS(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=LS)},getListeners:function(){return r}};return o}var jS="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect;var US=function(e){var t=e.store,n=e.context,r=e.children,a=(0,i.useMemo)((function(){var e=FS(t);return{store:t,subscription:e}}),[t]),o=(0,i.useMemo)((function(){return t.getState()}),[t]);jS((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=n||DS;return i.createElement(u.Provider,{value:a},r)},BS=n(110),VS=n.n(BS),qS=n(441),zS=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],WS=["reactReduxForwardedRef"],GS=[],HS=[null,null];function KS(e,t){var n=e[1];return[t.payload,n+1]}function QS(e,t,n){jS((function(){return e.apply(void 0,t)}),n)}function YS(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function $S(e,t,n,r,i,a,o,u,s,c){if(e){var l=!1,f=null,d=function(){if(!l){var e,n,d=t.getState();try{e=r(d,i.current)}catch(h){n=h,f=h}n||(f=null),e===a.current?o.current||s():(a.current=e,u.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var XS=function(){return[null,0]};function JS(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,o=n.methodName,u=void 0===o?"connectAdvanced":o,s=n.renderCountProp,c=void 0===s?void 0:s,l=n.shouldHandleStateChanges,f=void 0===l||l,h=n.storeKey,p=void 0===h?"store":h,v=(n.withRef,n.forwardRef),m=void 0!==v&&v,g=n.context,y=void 0===g?DS:g,b=Js(n,zS),k=y;return function(t){var n=t.displayName||t.name||"Component",r=a(n),o=d({},b,{getDisplayName:a,methodName:u,renderCountProp:c,shouldHandleStateChanges:f,storeKey:p,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=b.pure;var l=s?i.useMemo:function(e){return e()};function h(n){var r=(0,i.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Js(n,WS);return[n.context,e,t]}),[n]),a=r[0],u=r[1],s=r[2],c=(0,i.useMemo)((function(){return a&&a.Consumer&&(0,qS.isContextConsumer)(i.createElement(a.Consumer,null))?a:k}),[a,k]),h=(0,i.useContext)(c),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var v=p?n.store:h.store,m=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,o)}(v)}),[v]),g=(0,i.useMemo)((function(){if(!f)return HS;var e=FS(v,p?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,p,h]),y=g[0],b=g[1],w=(0,i.useMemo)((function(){return p?h:d({},h,{subscription:y})}),[p,h,y]),_=(0,i.useReducer)(KS,GS,XS),x=_[0][0],I=_[1];if(x&&x.error)throw x.error;var S=(0,i.useRef)(),E=(0,i.useRef)(s),T=(0,i.useRef)(),C=(0,i.useRef)(!1),N=l((function(){return T.current&&s===E.current?T.current:m(v.getState(),s)}),[v,x,s]);QS(YS,[E,S,C,s,N,T,b]),QS($S,[f,v,y,m,E,S,C,T,b,I],[v,y,m]);var A=(0,i.useMemo)((function(){return i.createElement(t,d({},N,{ref:u}))}),[u,t,N]);return(0,i.useMemo)((function(){return f?i.createElement(c.Provider,{value:w},A):A}),[c,A,w])}var v=s?i.memo(h):h;if(v.WrappedComponent=t,v.displayName=h.displayName=r,m){var g=i.forwardRef((function(e,t){return i.createElement(v,d({},e,{reactReduxForwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,VS()(g,t)}return VS()(v,t)}}function ZS(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function eE(e,t){if(ZS(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ZS(e[n[i]],t[n[i]]))return!1;return!0}function tE(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function nE(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function rE(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=nE(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=nE(i),i=r(t,n)),i},r}}var iE=[function(e){return"function"===typeof e?rE(e):void 0},function(e){return e?void 0:tE((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?tE((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var aE=[function(e){return"function"===typeof e?rE(e):void 0},function(e){return e?void 0:tE((function(){return{}}))}];function oE(e,t,n){return d({},n,e,t)}var uE=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,u){var s=e(t,n,u);return o?i&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return oE}}],sE=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function cE(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function lE(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,h=!1;function p(i,h){var p=!f(h,o),v=!l(i,a);return a=i,o=h,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!d(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return h?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),h=!0,c)}}function fE(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Js(t,sE),o=n(e,a),u=r(e,a),s=i(e,a);return(a.pure?lE:cE)(o,u,s,e,a)}var dE=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function hE(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function pE(e,t){return e===t}function vE(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?JS:n,i=t.mapStateToPropsFactories,a=void 0===i?aE:i,o=t.mapDispatchToPropsFactories,u=void 0===o?iE:o,s=t.mergePropsFactories,c=void 0===s?uE:s,l=t.selectorFactory,f=void 0===l?fE:l;return function(e,t,n,i){void 0===i&&(i={});var o=i,s=o.pure,l=void 0===s||s,h=o.areStatesEqual,p=void 0===h?pE:h,v=o.areOwnPropsEqual,m=void 0===v?eE:v,g=o.areStatePropsEqual,y=void 0===g?eE:g,b=o.areMergedPropsEqual,k=void 0===b?eE:b,w=Js(o,dE),_=hE(e,a,"mapStateToProps"),x=hE(t,u,"mapDispatchToProps"),I=hE(n,c,"mergeProps");return r(f,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:x,initMergeProps:I,pure:l,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:k},w))}}var mE=vE();var gE,yE=n(164);function bE(e,t){var n=(0,i.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,i.useRef)(!0),a=(0,i.useRef)(n),o=r.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return(0,i.useEffect)((function(){r.current=!1,a.current=o}),[o]),o.result}gE=yE.unstable_batchedUpdates,OS=gE;var kE=bE,wE=function(e,t){return bE((function(){return e}),t)},_E="Invariant failed";var xE=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},IE=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},SE=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},EE={top:0,right:0,bottom:0,left:0},TE=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?EE:n,i=e.border,a=void 0===i?EE:i,o=e.padding,u=void 0===o?EE:o,s=xE(IE(t,r)),c=xE(SE(t,a)),l=xE(SE(c,u));return{marginBox:s,borderBox:xE(t),paddingBox:c,contentBox:l,margin:r,border:a,padding:u}},CE=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error(_E)}(!1),n},NE=function(e,t){var n,r,i=e.borderBox,a=e.border,o=e.margin,u=e.padding,s=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return TE({borderBox:s,border:a,margin:o,padding:u})},AE=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),NE(e,t)},RE=function(e,t){var n={top:CE(t.marginTop),right:CE(t.marginRight),bottom:CE(t.marginBottom),left:CE(t.marginLeft)},r={top:CE(t.paddingTop),right:CE(t.paddingRight),bottom:CE(t.paddingBottom),left:CE(t.paddingLeft)},i={top:CE(t.borderTopWidth),right:CE(t.borderRightWidth),bottom:CE(t.borderBottomWidth),left:CE(t.borderLeftWidth)};return TE({borderBox:e,margin:n,padding:r,border:i})},PE=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return RE(t,n)},DE=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function OE(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||DE(r)&&DE(i)))return!1;var r,i;return!0}var ME=function(e,t){var n;void 0===t&&(t=OE);var r,i=[],a=!1;return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}},LE=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function FE(e,t){}FE.bind(null,"warn"),FE.bind(null,"error");function jE(){}function UE(e,t,n){var r=t.map((function(t){var r=function(e,t){return d({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var BE="Invariant failed";function VE(e){this.message=e}function qE(e,t){if(!e)throw new VE(BE)}VE.prototype.toString=function(){return this.message};var zE=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=jE,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof VE&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}xS(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=UE(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof VE))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),WE=function(e){return e+1},GE=function(e,t){var n=e.droppableId===t.droppableId,r=WE(e.index),i=WE(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},HE=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},KE=function(e){return"\n  The item has returned to its starting position\n  of "+WE(e.index)+"\n"},QE="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",YE=function(e){return"\n  You have lifted an item in position "+WE(e.source.index)+"\n"},$E=function(e){var t=e.destination;if(t)return GE(e.source,t);var n=e.combine;return n?HE(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},XE=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+KE(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+GE(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+HE(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+KE(e.source)+"\n  "},JE={x:0,y:0},ZE=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},eT=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},tT=function(e,t){return e.x===t.x&&e.y===t.y},nT=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},rT=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},iT=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},aT=function(e,t){return Math.min.apply(Math,t.map((function(t){return iT(e,t)})))},oT=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},uT=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},sT=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},cT=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=xE({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):xE(e)},lT=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,a=function(e,t){return t?uT(e,t.scroll.diff.displacement):e}(t.marginBox,i),o=function(e,t,n){var r;return n&&n.increasedBy?d({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(a,r,n);return{page:t,withPlaceholder:n,active:cT(o,i)}},fT=function(e,t){e.frame||qE(!1);var n=e.frame,r=eT(t,n.scroll.initial),i=nT(r),a=d({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return d({},e,{frame:a,subject:lT({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a})})};function dT(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function hT(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function pT(e,t){if(e.find)return e.find(t);var n=hT(e,t);return-1!==n?e[n]:void 0}function vT(e){return Array.prototype.slice.call(e)}var mT=ME((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),gT=ME((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),yT=ME((function(e){return dT(e)})),bT=ME((function(e){return dT(e)})),kT=ME((function(e,t){var n=bT(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function wT(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function _T(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var xT=ME((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),IT=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ST={point:JE,value:0},ET={invisible:{},visible:{},all:[]},TT={displaced:ET,displacedBy:ST,at:null},CT=function(e,t){return function(n){return e<=n&&n<=t}},NT=function(e){var t=CT(e.top,e.bottom),n=CT(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;var o=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return!(!o||!u)||(o&&a||u&&i)}},AT=function(e){var t=CT(e.top,e.bottom),n=CT(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},RT={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},PT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},DT=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,o=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:JE;return uT(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,a)&&function(e,t,n){return n(t)(e)}(o,r,a)},OT=function(e){return DT(d({},e,{isVisibleThroughFrameFn:NT}))},MT=function(e){return DT(d({},e,{isVisibleThroughFrameFn:AT}))};function LT(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,o=e.last;return t.reduce((function(e,t){var u=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return xE(IE(n,r))}(t,r),s=t.descriptor.id;if(e.all.push(s),!OT({target:u,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var a=i[e];return!a||a.shouldAnimate}(s,o,a),l={draggableId:s,shouldAnimate:c};return e.visible[s]=l,e}),{all:[],visible:{},invisible:{}})}function FT(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,a=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:ET,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function jT(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,a=e.displacedBy,o=e.last,u=e.index,s=e.forceShouldAnimate,c=IT(t,r);if(null==u)return FT({insideDestination:n,inHomeList:c,displacedBy:a,destination:r});var l=pT(n,(function(e){return e.descriptor.index===u}));if(!l)return FT({insideDestination:n,inHomeList:c,displacedBy:a,destination:r});var f=xT(t,n),d=n.indexOf(l);return{displaced:LT({afterDragging:f.slice(d),destination:r,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:s}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:u}}}}function UT(e,t){return Boolean(t.effected[e])}var BT=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,a=e.destination,o=e.insideDestination,u=e.previousImpact,s=e.viewport,c=e.afterCritical,l=u.at;if(l||qE(!1),"REORDER"===l.type){var f=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var a=i.index,o=t?a+1:a-1,u=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return o<u||o>(n?s:s+1)?null:o}({isMovingForward:t,isInHomeList:n,location:l.destination,insideDestination:o});return null==f?null:jT({draggable:r,insideDestination:o,destination:a,viewport:s,last:u.displaced,displacedBy:u.displacedBy,index:f})}var d=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,a=e.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,u=r[o].descriptor.index;return UT(o,a)?t?u:u-1:t?u+1:u}({isMovingForward:t,destination:a,displaced:u.displaced,draggables:i,combine:l.combine,afterCritical:c});return null==d?null:jT({draggable:r,insideDestination:o,destination:a,viewport:s,last:u.displaced,displacedBy:u.displacedBy,index:d})},VT=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=_T(n);i||qE(!1);var a=i.draggableId,o=r[a].page.borderBox.center,u=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,a=Boolean(t.visible[r]||t.invisible[r]);return UT(r,n)?a?JE:nT(i.point):a?i.point:JE}({displaced:n.displaced,afterCritical:t,combineWith:a,displacedBy:n.displacedBy});return ZE(o,u)},qT=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},zT=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},WT=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return rT(t.line,n.marginBox[t.end]+qT(t,r),zT(t,n.marginBox,r))},GT=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return rT(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),zT(t,n.marginBox,r))},HT=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,a=e.afterCritical,o=kT(i.descriptor.id,r),u=n.page,s=i.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return rT(t.line,n.contentBox[t.start]+qT(t,r),zT(t,n.contentBox,r))}({axis:s,moveInto:i.page,isMoving:u});var c=t.displaced,l=t.displacedBy,f=c.all[0];if(f){var d=r[f];if(UT(f,a))return GT({axis:s,moveRelativeTo:d.page,isMoving:u});var h=NE(d.page,l.point);return GT({axis:s,moveRelativeTo:h,isMoving:u})}var p=o[o.length-1];if(p.descriptor.id===n.descriptor.id)return u.borderBox.center;if(UT(p.descriptor.id,a)){var v=NE(p.page,nT(a.displacedBy.point));return WT({axis:s,moveRelativeTo:v,isMoving:u})}return WT({axis:s,moveRelativeTo:p.page,isMoving:u})},KT=function(e,t){var n=e.frame;return n?ZE(t,n.scroll.diff.displacement):t},QT=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.afterCritical,o=n.page.borderBox.center,u=t.at;return r&&u?"REORDER"===u.type?HT({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a}):VT({impact:t,draggables:i,afterCritical:a}):o}(e),n=e.droppable;return n?KT(n,t):t},YT=function(e,t){var n=eT(t,e.scroll.initial),r=nT(n);return{frame:xE({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function $T(e,t){return e.map((function(e){return t[e]}))}var XT=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return ZE(e.scroll.diff.displacement,t)}(e.viewport,t),i=eT(r,n.page.borderBox.center);return ZE(n.client.borderBox.center,i)},JT=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,o=e.onlyOnMainAxis,u=void 0!==o&&o,s=eT(r,t.page.borderBox.center),c={target:uT(t.page.borderBox,s),destination:n,withDroppableDisplacement:a,viewport:i};return u?function(e){return DT(d({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=CT(e.top,e.bottom),r=CT(e.left,e.right);return function(e){return t===RT?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):MT(c)},ZT=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,a=e.previousImpact,o=e.viewport,u=e.previousPageBorderBoxCenter,s=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var l=kT(r.descriptor.id,i),f=IT(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.previousImpact;if(!r.isCombineEnabled)return null;if(!wT(a))return null;function o(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return d({},a,{at:t})}var u=a.displaced.all,s=u.length?u[0]:null;if(t)return s?o(s):null;var c=xT(n,i);if(!s)return c.length?o(c[c.length-1].descriptor.id):null;var l=hT(c,(function(e){return e.descriptor.id===s}));-1===l&&qE(!1);var f=l-1;return f<0?null:o(c[f].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:l,previousImpact:a})||BT({isMovingForward:t,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:l,previousImpact:a,viewport:o,afterCritical:c});if(!h)return null;var p=QT({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(JT({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:XT({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null};var v=eT(p,u),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,a=e.maxScrollChange,o=YT(n,ZE(n.scroll.current,a)),u=r.frame?fT(r,ZE(r.frame.scroll.current,a)):r,s=t.displaced,c=LT({afterDragging:$T(s.all,i),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:s,forceShouldAnimate:!1}),l=LT({afterDragging:$T(s.all,i),destination:u,displacedBy:t.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),f={},h={},p=[s,c,l];return s.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,p);t?h[e]=t:f[e]=!0})),d({},t,{displaced:{all:s.all,invisible:f,visible:h}})}({impact:h,viewport:o,destination:r,draggables:i,maxScrollChange:v});return{clientSelection:s,impact:m,scrollJumpRequest:v}},eC=function(e){var t=e.subject.active;return t||qE(!1),t},tC=function(e,t){var n=e.page.borderBox.center;return UT(e.descriptor.id,t)?eT(n,t.displacedBy.point):n},nC=function(e,t){var n=e.page.borderBox;return UT(e.descriptor.id,t)?uT(n,nT(t.displacedBy.point)):n},rC=ME((function(e,t){var n=t[e.line];return{value:n,point:rT(e.line,n)}})),iC=function(e,t){return d({},e,{scroll:d({},e.scroll,{max:t})})},aC=function(e,t,n){var r=e.frame;IT(t,e)&&qE(!1),e.subject.withPlaceholder&&qE(!1);var i=rC(e.axis,t.displaceBy).point,a=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return rT(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],a=kT(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return a<=0?null:rT(r.line,a)}(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return d({},e,{subject:lT({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame})});var u=a?ZE(r.scroll.max,a):r.scroll.max,s=iC(r,u);return d({},e,{subject:lT({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:s}),frame:s})},oC=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,a=e.draggables,o=e.droppables,u=e.viewport,s=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,a=e.viewport,o=r.subject.active;if(!o)return null;var u=r.axis,s=CT(o[u.start],o[u.end]),c=yT(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return NT(a.frame)(eC(e))})).filter((function(e){var n=eC(e);return t?o[u.crossAxisEnd]<n[u.crossAxisEnd]:n[u.crossAxisStart]<o[u.crossAxisStart]})).filter((function(e){var t=eC(e),n=CT(t[u.start],t[u.end]);return s(t[u.start])||s(t[u.end])||n(o[u.start])||n(o[u.end])})).sort((function(e,n){var r=eC(e)[u.crossAxisStart],i=eC(n)[u.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return eC(e)[u.crossAxisStart]===eC(n[0])[u.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var l=c.filter((function(e){return CT(eC(e)[u.start],eC(e)[u.end])(n[u.line])}));return 1===l.length?l[0]:l.length>1?l.sort((function(e,t){return eC(e)[u.start]-eC(t)[u.start]}))[0]:c.sort((function(e,t){var r=aT(n,sT(eC(e))),i=aT(n,sT(eC(t)));return r!==i?r-i:eC(e)[u.start]-eC(t)[u.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:o,viewport:u});if(!c)return null;var l=kT(c.descriptor.id,a),f=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,a=e.afterCritical,o=i.filter((function(e){return MT({target:nC(e,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=iT(t,KT(r,tC(e,a))),o=iT(t,KT(r,tC(n,a)));return i<o?-1:o<i?1:e.descriptor.index-n.descriptor.index}));return o[0]||null}({pageBorderBoxCenter:n,viewport:u,destination:c,insideDestination:l,afterCritical:s}),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,a=e.draggables,o=e.destination,u=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:ET,displacedBy:ST,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},l=QT({impact:c,draggable:i,droppable:o,draggables:a,afterCritical:s}),f=IT(i,o)?o:aC(o,i,a);return JT({draggable:i,destination:f,newPageBorderBoxCenter:l,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var d=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),h=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||d?e:e+1}(),p=rC(o.axis,i.displaceBy);return jT({draggable:i,insideDestination:r,destination:o,viewport:u,displacedBy:p,last:ET,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:a,moveRelativeTo:f,insideDestination:l,viewport:u,afterCritical:s});if(!d)return null;var h=QT({impact:d,draggable:r,droppable:c,draggables:a,afterCritical:s});return{clientSelection:XT({pageBorderBoxCenter:h,draggable:r,viewport:u}),impact:d,scrollJumpRequest:null}},uC=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},sC=function(e){var t=e.state,n=e.type,r=function(e,t){var n=uC(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),a=t.dimensions.droppables[t.critical.droppable.id],o=r||a,u=o.axis.direction,s="vertical"===u&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===u&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(s&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,l=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,d=t.dimensions,h=d.draggables,p=d.droppables;return s?ZT({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:l,destination:o,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):oC({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:l,isOver:o,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function cC(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function lC(e){var t=CT(e.top,e.bottom),n=CT(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function fC(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=yT(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(lC(i)(t.center))return!0;var a=e.axis,o=i.center[a.crossAxisLine],u=t[a.crossAxisStart],s=t[a.crossAxisEnd],c=CT(i[a.crossAxisStart],i[a.crossAxisEnd]),l=c(u),f=c(s);return!l&&!f||(l?u<o:s>o)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,a=r.map((function(e){var n=e.axis,r=rT(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:iT(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var dC=function(e,t){return xE(uT(e,t))};function hC(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var pC=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,a=e.previousImpact,o=e.viewport,u=e.afterCritical,s=dC(n.page.borderBox,t),c=fC({pageBorderBox:s,draggable:n,droppables:i});if(!c)return TT;var l=i[c],f=kT(l.descriptor.id,r),d=function(e,t){var n=e.frame;return n?dC(t,n.scroll.diff.value):t}(l,s);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,a=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var u=i.axis,s=rC(i.axis,t.displaceBy),c=s.value,l=n[u.start],f=n[u.end],d=pT(xT(t,a),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[u.size]/4,a=UT(t,o),s=hC({displaced:r.displaced,id:t});return a?s?f>n[u.start]+i&&f<n[u.end]-i:l>n[u.start]-c+i&&l<n[u.end]-c-i:s?f>n[u.start]+c+i&&f<n[u.end]+c-i:l>n[u.start]+i&&l<n[u.end]-i}));return d?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:d,draggable:n,previousImpact:a,destination:l,insideDestination:f,afterCritical:u})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.last,o=e.viewport,u=e.afterCritical,s=r.axis,c=rC(r.axis,n.displaceBy),l=c.value,f=t[s.start],d=t[s.end],h=pT(xT(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=UT(t,u),i=hC({displaced:a,id:t});return r?i?d<=n:f<n-l:i?d<=n+l:f<n})),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:h,inHomeList:IT(n,r)});return jT({draggable:n,insideDestination:i,destination:r,viewport:o,last:a,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:d,draggable:n,destination:l,insideDestination:f,last:a.displaced,viewport:o,afterCritical:u})},vC=function(e,t){var n;return d({},e,((n={})[t.descriptor.id]=t,n))},mC=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=uC(t),a=uC(n);if(!i)return r;if(i===a)return r;var o=r[i];if(!o.subject.withPlaceholder)return r;var u=function(e){var t=e.subject.withPlaceholder;t||qE(!1);var n=e.frame;if(!n)return d({},e,{subject:lT({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||qE(!1);var i=iC(n,r);return d({},e,{subject:lT({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(o);return vC(r,u)},gC=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,a=e.impact,o=e.scrollJumpRequest,u=i||t.viewport,s=r||t.dimensions,c=n||t.current.client.selection,l=eT(c,t.initial.client.selection),f={offset:l,selection:c,borderBoxCenter:ZE(t.initial.client.borderBoxCenter,l)},h={selection:ZE(f.selection,u.scroll.current),borderBoxCenter:ZE(f.borderBoxCenter,u.scroll.current),offset:ZE(f.offset,u.scroll.diff.value)},p={client:f,page:h};if("COLLECTING"===t.phase)return d({phase:"COLLECTING"},t,{dimensions:s,viewport:u,current:p});var v=s.draggables[t.critical.draggable.id],m=a||pC({pageOffset:h.offset,draggable:v,draggables:s.draggables,droppables:s.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,a=e.impact,o=mC({previousImpact:i,impact:a,droppables:r}),u=uC(a);if(!u)return o;var s=r[u];if(IT(t,s))return o;if(s.subject.withPlaceholder)return o;var c=aC(s,t,n);return vC(o,c)}({draggable:v,impact:m,previousImpact:t.impact,draggables:s.draggables,droppables:s.droppables});return d({},t,{current:p,dimensions:{draggables:s.draggables,droppables:g},impact:m,viewport:u,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})};var yC=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,a=e.forceShouldAnimate,o=t.displaced,u=function(e,t){return e.map((function(e){return t[e]}))}(o.all,r);return d({},t,{displaced:LT({afterDragging:u,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:a,last:o})})},bC=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.viewport,o=e.afterCritical,u=QT({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o});return XT({pageBorderBoxCenter:u,draggable:n,viewport:a})},kC=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&qE(!1);var i=t.impact,a=r||t.viewport,o=n||t.dimensions,u=o.draggables,s=o.droppables,c=u[t.critical.draggable.id],l=uC(i);l||qE(!1);var f=s[l],d=yC({impact:i,viewport:a,destination:f,draggables:u}),h=bC({impact:d,draggable:c,droppable:f,draggables:u,viewport:a,afterCritical:t.afterCritical});return gC({impact:d,clientSelection:h,state:t,dimensions:o,viewport:a})},wC=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,a=rC(n.axis,t.displaceBy),o=kT(n.descriptor.id,r),u=o.indexOf(t);-1===u&&qE(!1);var s,c=o.slice(u+1),l=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),f={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:a,effected:l};return{impact:{displaced:LT({afterDragging:c,destination:n,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(s=t.descriptor,{index:s.index,droppableId:s.droppableId})}},afterCritical:f}},_C=function(e){0},xC=function(e){0},IC=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,a=function(e){var t=e.frame;return t||qE(!1),t}(n[t]),o=a.scroll.diff.value,u=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=NE(t.client,n),a=AE(i,r);return d({},t,{placeholder:d({},t.placeholder,{client:i}),client:i,page:a})}({draggable:e,offset:ZE(i,o),initialWindowScroll:r.scroll.initial});return u}))},SC=function(e){return"SNAP"===e.movementMode},EC=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:vC(e.droppables,t)}}(e.dimensions,t);return!SC(e)||n?gC({state:e,dimensions:r}):kC({state:e,dimensions:r})};function TC(e){return e.isDragging&&"SNAP"===e.movementMode?d({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var CC={phase:"IDLE",completed:null,shouldFlush:!1},NC=function(e,t){if(void 0===e&&(e=CC),"FLUSH"===t.type)return d({},CC,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&qE(!1);var n=t.payload,r=n.critical,i=n.clientSelection,a=n.viewport,o=n.dimensions,u=n.movementMode,s=o.draggables[r.draggable.id],c=o.droppables[r.droppable.id],l={selection:i,borderBoxCenter:s.client.borderBox.center,offset:JE},f={client:l,page:{selection:ZE(l.selection,a.scroll.initial),borderBoxCenter:ZE(l.selection,a.scroll.initial),offset:ZE(l.selection,a.scroll.diff.value)}},h=yT(o.droppables).every((function(e){return!e.isFixedOnPage})),p=wC({draggable:s,home:c,draggables:o.draggables,viewport:a}),v=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:u,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:v,afterCritical:p.afterCritical,onLiftImpact:v,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&qE(!1),d({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&qE(!1),function(e){var t=e.state,n=e.published;_C();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return fT(n,e.scroll)})),i=d({},t.dimensions.droppables,{},mT(r)),a=gT(IC({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),o=d({},t.dimensions.draggables,{},a);n.removals.forEach((function(e){delete o[e]}));var u={droppables:i,draggables:o},s=uC(t.impact),c=s?u.droppables[s]:null,l=u.draggables[t.critical.draggable.id],f=u.droppables[t.critical.droppable.id],h=wC({draggable:l,home:f,draggables:o,viewport:t.viewport}),p=h.impact,v=h.afterCritical,m=c&&c.isCombineEnabled?t.impact:p,g=pC({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:m,viewport:t.viewport,afterCritical:v});xC();var y=d({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:p,dimensions:u,afterCritical:v,forceShouldAnimate:!1});return"COLLECTING"===t.phase?y:d({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;cC(e)||qE(!1);var m=t.payload.client;return tT(m,e.current.client.selection)?e:gC({state:e,clientSelection:m,impact:SC(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return TC(e);if("COLLECTING"===e.phase)return TC(e);cC(e)||qE(!1);var g=t.payload,y=g.id,b=g.newScroll,k=e.dimensions.droppables[y];if(!k)return e;var w=fT(k,b);return EC(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;cC(e)||qE(!1);var _=t.payload,x=_.id,I=_.isEnabled,S=e.dimensions.droppables[x];S||qE(!1),S.isEnabled===I&&qE(!1);var E=d({},S,{isEnabled:I});return EC(e,E,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;cC(e)||qE(!1);var T=t.payload,C=T.id,N=T.isCombineEnabled,A=e.dimensions.droppables[C];A||qE(!1),A.isCombineEnabled===N&&qE(!1);var R=d({},A,{isCombineEnabled:N});return EC(e,R,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;cC(e)||qE(!1),e.isWindowScrollAllowed||qE(!1);var P=t.payload.newScroll;if(tT(e.viewport.scroll.current,P))return TC(e);var D=YT(e.viewport,P);return SC(e)?kC({state:e,viewport:D}):gC({state:e,viewport:D})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!cC(e))return e;var O=t.payload.maxScroll;if(tT(O,e.viewport.scroll.max))return e;var M=d({},e.viewport,{scroll:d({},e.viewport.scroll,{max:O})});return d({phase:"DRAGGING"},e,{viewport:M})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&qE(!1);var L=sC({state:e,type:t.type});return L?gC({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var F=t.payload.reason;return"COLLECTING"!==e.phase&&qE(!1),d({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:F})}if("DROP_ANIMATE"===t.type){var j=t.payload,U=j.completed,B=j.dropDuration,V=j.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&qE(!1),{phase:"DROP_ANIMATING",completed:U,dropDuration:B,newHomeClientOffset:V,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},AC=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},RC=function(){return{type:"COLLECTION_STARTING",payload:null}},PC=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},DC=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},OC=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},MC=function(e){return{type:"MOVE",payload:e}},LC=function(){return{type:"MOVE_UP",payload:null}},FC=function(){return{type:"MOVE_DOWN",payload:null}},jC=function(){return{type:"MOVE_RIGHT",payload:null}},UC=function(){return{type:"MOVE_LEFT",payload:null}},BC=function(e){return{type:"DROP_COMPLETE",payload:e}},VC=function(e){return{type:"DROP",payload:e}},qC=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var zC="cubic-bezier(.2,1,.1,1)",WC={drop:0,combining:.7},GC={drop:.75},HC=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",KC={fluid:"opacity "+HC,snap:"transform "+HC+", opacity "+HC,drop:function(e){var t=e+"s "+zC;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+HC,placeholder:"height "+HC+", width "+HC+", margin "+HC},QC=function(e){return tT(e,JE)?null:"translate("+e.x+"px, "+e.y+"px)"},YC=QC,$C=function(e,t){var n=QC(e);return n?t?n+" scale("+GC.drop+")":n:null},XC=.33,JC=.55,ZC=JC-XC,eN=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),a=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&qE(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&qE(!1);var o=i.critical,u=i.dimensions,s=u.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,a=e.viewport,o=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:d({},r,{displaced:ET}),didDropInsideDroppable:!0}:{impact:yC({draggables:t,impact:o,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),l=c.impact,f=c.didDropInsideDroppable,h=f?wT(l):null,p=f?_T(l):null,v={index:o.draggable.index,droppableId:o.droppable.id},m={draggableId:s.descriptor.id,type:s.descriptor.type,source:v,reason:a,mode:i.movementMode,destination:h,combine:p},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,a=e.afterCritical,o=r.draggables,u=r.droppables,s=uC(t),c=s?u[s]:null,l=u[n.descriptor.droppableId],f=bC({impact:t,draggable:n,draggables:o,afterCritical:a,droppable:c||l,viewport:i});return eT(f,n.client.borderBox.center)}({impact:l,draggable:s,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:l};if(!tT(i.current.client.offset,g)||Boolean(m.combine)){var b=function(e){var t=e.current,n=e.destination,r=e.reason,i=iT(t,n);if(i<=0)return XC;if(i>=1500)return JC;var a=XC+ZC*(i/1500);return Number(("CANCEL"===r?.6*a:a).toFixed(2))}({current:i.current.client.offset,destination:g,reason:a});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:b,completed:y}))}else n(BC({completed:y}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:a}))}else e(r)}}},tN=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function nN(e){var t=e.onWindowScroll;var n=LE((function(){t(tN())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=jE;function a(){return i!==jE}return{start:function(){a()&&qE(!1),i=UE(window,[r])},stop:function(){a()||qE(!1),n.cancel(),i(),i=jE},isActive:a}}var rN=function(e){var t=nN({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},iN=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=hT(e,(function(e){return e.timerId===t}));-1===n&&qE(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},aN=function(e,t){_C(),t(),xC()},oN=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},uN=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},sN=function(e,t){var n=function(e,t){var n=iN(),r=null,i=function(n){r||qE(!1),r=null,aN(0,(function(){return uN(e().onDragEnd,n,t,XE)}))};return{beforeCapture:function(t,n){r&&qE(!1),aN(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&qE(!1),aN(0,(function(){var r=e().onBeforeDragStart;r&&r(oN(t,n))}))},start:function(i,a){r&&qE(!1);var o=oN(i,a);r={mode:a,lastCritical:i,lastLocation:o.source,lastCombine:null},n.add((function(){aN(0,(function(){return uN(e().onDragStart,o,t,YE)}))}))},update:function(i,a){var o=wT(a),u=_T(a);r||qE(!1);var s=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);s&&(r.lastCritical=i);var c,l,f=(l=o,!(null==(c=r.lastLocation)&&null==l||null!=c&&null!=l&&c.droppableId===l.droppableId&&c.index===l.index));f&&(r.lastLocation=o);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,u);if(h&&(r.lastCombine=u),s||f||h){var p=d({},oN(i,r.mode),{combine:u,destination:o});n.add((function(){aN(0,(function(){return uN(e().onDragUpdate,p,t,$E)}))}))}},flush:function(){r||qE(!1),n.flush()},drop:i,abort:function(){if(r){var e=d({},oN(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var a=r.payload.completed.result;return n.flush(),t(r),void n.drop(a)}if(t(r),"FLUSH"!==r.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},cN=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&qE(!1),e.dispatch(BC({completed:r.completed}))}else t(n)}}},lN=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=UE(window,[a])}))}}}},fN=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(VC({reason:r.reason})))}}}},dN=PS,hN=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,a=e.getResponders,o=e.announce,u=e.autoScroller;return NS(NC,dN(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(IS(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=PS.apply(void 0,a)(n.dispatch),Tt(Tt({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var a=i.payload,o=a.id,u=a.clientSelection,s=a.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(BC({completed:c.completed})),"IDLE"!==n().phase&&qE(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});var l={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},f=e.startPublishing(l),d=f.critical,h=f.dimensions,p=f.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:h,clientSelection:u,movementMode:s,viewport:p}})}else t(i)}}}}(n),eN,cN,lN,fN,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&qE(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(u),rN,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),sN(a,o))))};var pN=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,a=eT({x:n,y:t},{x:i,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},vN=function(){var e=document.documentElement;return e||qE(!1),e},mN=function(){var e=vN();return pN({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},gN=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;_C();var i=function(){var e=tN(),t=mN(),n=e.y,r=e.x,i=vN(),a=i.clientWidth,o=i.clientHeight;return{frame:xE({top:n,left:r,right:r+a,bottom:n+o}),scroll:{initial:e,current:e,max:t,diff:{value:JE,displacement:JE}}}}(),a=i.scroll.current,o=t.droppable,u=r.droppable.getAllByType(o.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(a,n)})),s=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(a)})),c={draggables:gT(s),droppables:mT(u)};return xC(),{dimensions:c,critical:t,viewport:i}};function yN(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var bN=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,a=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,_C();var e=r,a=e.additions,o=e.removals,u=e.modified,s=Object.keys(a).map((function(e){return t.draggable.getById(e).getDimension(JE)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(u).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),l={additions:s,removals:Object.keys(o),modified:c};r={additions:{},removals:{},modified:{}},xC(),n.publish(l)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],a()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],a()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||qE(!1);var i=n.critical.draggable;"ADDITION"===t.type&&yN(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&yN(e,i,t.value)&&r.remove(t.value)},a={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||qE(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||qE(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||qE(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&qE(!1);var r=e.draggable.getById(t.draggableId),a=e.droppable.getById(r.descriptor.droppableId),o={draggable:r.descriptor,droppable:a.descriptor},u=e.subscribe(i);return n={critical:o,unsubscribe:u},gN({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return a},kN=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},wN=function(e){window.scrollBy(e.x,e.y)},_N=ME((function(e){return yT(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),xN=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var a=function(e,t){var n=pT(_N(t),(function(t){return t.frame||qE(!1),lC(t.frame.pageMarginBox)(e)}));return n}(t,r);return a},IN=.25,SN=.05,EN=28,TN=function(e){return Math.pow(e,2)},CN={stopDampeningAt:1200,accelerateAt:360},NN=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},AN=CN.accelerateAt,RN=CN.stopDampeningAt,PN=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,a=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return EN;if(e===t.startScrollingFrom)return 1;var n=NN({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=EN*TN(1-n);return Math.ceil(r)}(t,n);return 0===a?0:i?Math.max(function(e,t){var n=t,r=RN,i=Date.now()-n;if(i>=RN)return e;if(i<AN)return 1;var a=NN({startOfRange:AN,endOfRange:r,current:i}),o=e*TN(a);return Math.ceil(o)}(a,r),1):a},DN=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*IN,maxScrollValueAt:e[t.size]*SN}}(t,i);return n[i.end]<n[i.start]?PN({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a}):-1*PN({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a})},ON=oT((function(e){return 0===e?0:e})),MN=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,a=e.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},u=DN({container:n,distanceToEdges:o,dragStartTime:t,axis:RT,shouldUseTimeDampening:a}),s=DN({container:n,distanceToEdges:o,dragStartTime:t,axis:PT,shouldUseTimeDampening:a}),c=ON({x:s,y:u});if(tT(c,JE))return null;var l=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,a=n.width>t.width;return a||i?a&&i?null:{x:a?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return l?tT(l,JE)?null:l:null},LN=oT((function(e){return 0===e?0:e>0?1:-1})),FN=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,a=ZE(n,i),o={x:e(a.x,r.x),y:e(a.y,r.y)};return tT(o,JE)?null:o}}(),jN=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},a=LN(r),o=FN({max:i,current:n,change:a});return!o||(0!==a.x&&0===o.x||0!==a.y&&0===o.y)},UN=function(e,t){return jN({current:e.scroll.current,max:e.scroll.max,change:t})},BN=function(e,t){var n=e.frame;return!!n&&jN({current:n.scroll.current,max:n.scroll.max,change:t})},VN=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,o=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var s=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=MN({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a});return o&&UN(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:u,center:o,shouldUseTimeDampening:r});if(s)return void i(s)}var c=xN({center:o,destination:uC(t.impact),droppables:t.dimensions.droppables});if(c){var l=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var u=MN({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:a});return u&&BN(t,u)?u:null}({dragStartTime:n,droppable:c,subject:u,center:o,shouldUseTimeDampening:r});l&&a(c.descriptor.id,l)}},qN=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!BN(e,t))return t;var r=function(e,t){var n=e.frame;return n&&BN(e,t)?FN({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=eT(t,r);return n(e.descriptor.id,i),eT(t,i)},a=function(e,t,n){if(!e)return n;if(!UN(t,n))return n;var i=function(e,t){if(!UN(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return FN({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var a=eT(n,i);return r(a),eT(n,a)};return function(e){var n=e.scrollJumpRequest;if(n){var r=uC(e.impact);r||qE(!1);var o=i(e.dimensions.droppables[r],n);if(o){var u=e.viewport,s=a(e.isWindowScrollAllowed,u,o);s&&function(e,n){var r=ZE(e.current.client.selection,n);t({client:r})}(e,s)}}}},zN=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=LE(t),i=LE(n),a=null,o=function(e){a||qE(!1);var t=a,n=t.shouldUseTimeDampening,o=t.dragStartTime;VN({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:o,shouldUseTimeDampening:n})};return{start:function(e){_C(),a&&qE(!1);var t=Date.now(),n=!1,r=function(){n=!0};VN({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),a={dragStartTime:t,shouldUseTimeDampening:n},xC(),n&&o(e)},stop:function(){a&&(r.cancel(),i.cancel(),a=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),a=qN({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):i.scroll(e))},start:i.start,stop:i.stop}},WN=function(){var e="data-rbd-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),GN=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),HN=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),KN={contextId:"data-rbd-scroll-container-context-id"},QN=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},YN="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,$N=function(){var e=document.querySelector("head");return e||qE(!1),e},XN=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function JN(e,t){var n=kE((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(WN.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: "+KC.outOfTheWay+";\n    ";return{selector:n(GN.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(HN.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:QN(i,"always"),resting:QN(i,"resting"),dragging:QN(i,"dragging"),dropAnimating:QN(i,"dropAnimating"),userCancel:QN(i,"userCancel")}}(e)}),[e]),r=(0,i.useRef)(null),a=(0,i.useRef)(null),o=wE(ME((function(e){var t=a.current;t||qE(!1),t.textContent=e})),[]),u=wE((function(e){var t=r.current;t||qE(!1),t.textContent=e}),[]);YN((function(){(r.current||a.current)&&qE(!1);var i=XN(t),s=XN(t);return r.current=i,a.current=s,i.setAttribute("data-rbd-always",e),s.setAttribute("data-rbd-dynamic",e),$N().appendChild(i),$N().appendChild(s),u(n.always),o(n.resting),function(){var e=function(e){var t=e.current;t||qE(!1),$N().removeChild(t),e.current=null};e(r),e(a)}}),[t,u,o,n.always,n.resting,e]);var s=wE((function(){return o(n.dragging)}),[o,n.dragging]),c=wE((function(e){o("DROP"!==e?n.userCancel:n.dropAnimating)}),[o,n.dropAnimating,n.userCancel]),l=wE((function(){a.current&&o(n.resting)}),[o,n.resting]);return kE((function(){return{dragging:s,dropping:c,resting:l}}),[s,c,l])}var ZN=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function eA(e){return e instanceof ZN(e).HTMLElement}function tA(e,t){var n="["+WN.contextId+'="'+e+'"]',r=vT(document.querySelectorAll(n));if(!r.length)return null;var i=pT(r,(function(e){return e.getAttribute(WN.draggableId)===t}));return i&&eA(i)?i:null}function nA(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}var i={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,a=r(i);a&&t.uniqueId===a.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||qE(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return dT(e.draggables).filter((function(e){return e.descriptor.type===t}))}};function a(t){return e.droppables[t]||null}var o={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||qE(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return dT(e.droppables).filter((function(e){return e.descriptor.type===t}))}};return{draggable:i,droppable:o,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var rA=i.createContext(null),iA=function(){var e=document.body;return e||qE(!1),e},aA={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var oA=0,uA={separator:"::"};function sA(e,t){return void 0===t&&(t=uA),kE((function(){return""+e+t.separator+oA++}),[t.separator,e])}var cA=i.createContext(null);function lA(e){0}function fA(e,t){lA()}function dA(){fA()}function hA(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e})),t}var pA,vA=((pA={})[13]=!0,pA[9]=!0,pA),mA=function(e){vA[e.keyCode]&&e.preventDefault()},gA=function(){var e="visibilitychange";return"undefined"===typeof document?e:pT([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var yA,bA={type:"IDLE"};function kA(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,a=e.clientY;if(0===t){var o={x:n,y:a},u=r();if("DRAGGING"===u.type)return e.preventDefault(),void u.actions.move(o);"PENDING"!==u.type&&qE(!1);var s=u.point;if(c=s,l=o,Math.abs(l.x-c.x)>=5||Math.abs(l.y-c.y)>=5){var c,l;e.preventDefault();var f=u.actions.fluidLift(o);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void mA(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&qE(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:gA,fn:t}]}function wA(){}var _A=((yA={})[34]=!0,yA[33]=!0,yA[36]=!0,yA[35]=!0,yA);function xA(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(_A[r.keyCode]?r.preventDefault():mA(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:gA,fn:n}]}var IA={type:"IDLE"};var SA={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function EA(e,t){if(null==t)return!1;if(Boolean(SA[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&EA(e,t.parentElement)}function TA(e,t){var n=t.target;return!!eA(n)&&EA(e,n)}var CA=function(e){return xE(e.getBoundingClientRect()).center};var NA=function(){var e="matches";return"undefined"===typeof document?e:pT([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function AA(e,t){return null==e?null:e[NA](t)?e:AA(e.parentElement,t)}function RA(e,t){return e.closest?e.closest(t):AA(e,t)}function PA(e,t){var n=t.target;if(!function(e){return e instanceof ZN(e).Element}(n))return null;var r=function(e){return"["+WN.contextId+'="'+e+'"]'}(e),i=RA(n,r);return i&&eA(i)?i:null}function DA(e){e.preventDefault()}function OA(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function MA(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=r.draggable.findById(i);return!!a&&(!!a.options.isEnabled&&!!kN(n.getState(),i))}function LA(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,a=e.draggableId,o=e.forceSensorStop,u=e.sourceEvent;if(!MA({lockAPI:t,store:r,registry:i,draggableId:a}))return null;var s=i.draggable.getById(a),c=function(e,t){var n="["+GN.contextId+'="'+e+'"]',r=pT(vT(document.querySelectorAll(n)),(function(e){return e.getAttribute(GN.id)===t}));return r&&eA(r)?r:null}(n,s.descriptor.id);if(!c)return null;if(u&&!s.options.canDragInteractiveElements&&TA(c,u))return null;var l=t.claim(o||jE),f="PRE_DRAG";function h(){return s.options.shouldRespectForcePress}function p(){return t.isActive(l)}var v=function(e,t){OA({expected:e,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),f="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var a=UE(window,[{eventName:"click",fn:DA,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(a)}n(),r.dispatch(VC({reason:t}))}return"PRE_DRAG"!==f&&(n(),"PRE_DRAG"!==f&&qE(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),f="DRAGGING",d({isActive:function(){return OA({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var g={isActive:function(){return OA({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=LE((function(e){v((function(){return MC({client:e})}))}));return d({},m({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return v(LC)},moveRight:function(){return v(jC)},moveDown:function(){return v(FC)},moveLeft:function(){return v(UC)}};return m({liftActionArgs:{id:a,clientSelection:CA(c),movementMode:"SNAP"},cleanup:jE,actions:e})},abort:function(){OA({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0})&&t.release()}};return g}var FA=[function(e){var t=(0,i.useRef)(bA),n=(0,i.useRef)(jE),r=kE((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,u,{sourceEvent:t});if(i){t.preventDefault();var a={x:t.clientX,y:t.clientY};n.current(),l(i,a)}}}}}}),[e]),a=kE((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),o=wE((function(){n.current=UE(window,[a,r],{passive:!1,capture:!0})}),[a,r]),u=wE((function(){"IDLE"!==t.current.type&&(t.current=bA,n.current(),o())}),[o]),s=wE((function(){var e=t.current;u(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[u]),c=wE((function(){var e=kA({cancel:s,completed:u,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=UE(window,e,{capture:!0,passive:!1})}),[s,u]),l=wE((function(e,n){"IDLE"!==t.current.type&&qE(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);YN((function(){return o(),function(){n.current()}}),[o])},function(e){var t=(0,i.useRef)(wA),n=kE((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var a=e.tryGetLock(i,s,{sourceEvent:n});if(a){n.preventDefault();var o=!0,u=a.snapLift();t.current(),t.current=UE(window,xA(u,s),{capture:!0,passive:!1})}}}function s(){o||qE(!1),o=!1,t.current(),r()}}}}),[e]),r=wE((function(){t.current=UE(window,[n],{passive:!1,capture:!0})}),[n]);YN((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,i.useRef)(IA),n=(0,i.useRef)(jE),r=wE((function(){return t.current}),[]),a=wE((function(e){t.current=e}),[]),o=kE((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){var a=t.touches[0],o={x:a.clientX,y:a.clientY};n.current(),d(i,o)}}}}}}),[e]),u=wE((function(){n.current=UE(window,[o],{capture:!0,passive:!1})}),[o]),s=wE((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(IA),n.current(),u())}),[u,a]),c=wE((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),l=wE((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:s,getPhase:r},i=UE(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],a={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(a)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&qE(!1);var i=e.touches[0];if(i&&i.force>=.15){var a=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return a?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();a&&t()}}},{eventName:gA,fn:t}]}(t),e),a=UE(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:gA,fn:t}]}(t),e);n.current=function(){i(),a()}}),[c,r,s]),f=wE((function(){var e=r();"PENDING"!==e.type&&qE(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,a]),d=wE((function(e,t){"IDLE"!==r().type&&qE(!1);var n=setTimeout(f,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),l()}),[l,r,a,f]);YN((function(){return u(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(IA))}}),[r,u,a]),YN((function(){return UE(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function jA(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,o=e.enableDefaultSensors,u=[].concat(o?FA:[],a||[]),s=(0,i.useState)((function(){return function(){var e=null;function t(){e||qE(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&qE(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=wE((function(e,t){e.isDragging&&!t.isDragging&&s.tryAbandon()}),[s]);YN((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[s,n,c]),YN((function(){return s.tryAbandon}),[s.tryAbandon]);var l=wE((function(e){return MA({lockAPI:s,registry:r,store:n,draggableId:e})}),[s,r,n]),f=wE((function(e,i,a){return LA({lockAPI:s,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:a&&a.sourceEvent?a.sourceEvent:null})}),[t,s,r,n]),d=wE((function(e){return function(e,t){var n=PA(e,t);return n?n.getAttribute(WN.draggableId):null}(t,e)}),[t]),h=wE((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=wE((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[s,n]),v=wE(s.isClaimed,[s]),m=kE((function(){return{canGetLock:l,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:v}}),[l,f,d,h,p,v]);lA();for(var g=0;g<u.length;g++)u[g](m)}function UA(e){return e.current||qE(!1),e.current}function BA(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,o=e.dragHandleUsageInstructions,u=(0,i.useRef)(null);dA();var s=hA(e),c=wE((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(s.current)}),[s]),l=function(e){var t=kE((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,i.useRef)(null);(0,i.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),d(e.style,aA),iA().appendChild(e),function(){setTimeout((function(){var t=iA();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]);var r=wE((function(e){var t=n.current;t&&(t.textContent=e)}),[]);return r}(t),f=function(e){var t=e.contextId,n=e.text,r=sA("hidden-text",{separator:"-"}),a=kE((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,i.useEffect)((function(){var e=document.createElement("div");return e.id=a,e.textContent=n,e.style.display="none",iA().appendChild(e),function(){var t=iA();t.contains(e)&&t.removeChild(e)}}),[a,n]),a}({contextId:t,text:o}),h=JN(t,a),p=wE((function(e){UA(u).dispatch(e)}),[]),v=kE((function(){return RS({publishWhileDragging:AC,updateDroppableScroll:PC,updateDroppableIsEnabled:DC,updateDroppableIsCombineEnabled:OC,collectionStarting:RC},p)}),[p]),m=function(){var e=kE(nA,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=kE((function(){return bN(m,v)}),[m,v]),y=kE((function(){return zN(d({scrollWindow:wN,scrollDroppable:g.scrollDroppable},RS({move:MC},p)))}),[g.scrollDroppable,p]),b=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),a=(0,i.useRef)(!1),o=wE((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),u=wE((function(t){var n=tA(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),s=wE((function(e,t){n.current===e&&(n.current=t)}),[]),c=wE((function(){r.current||a.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&u(e)})))}),[u]),l=wE((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(WN.draggableId)===e&&(n.current=e)}),[]);return YN((function(){return a.current=!0,function(){a.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),kE((function(){return{register:o,tryRecordFocus:l,tryRestoreFocusRecorded:c,tryShiftRecord:s}}),[o,l,c,s])}(t),k=kE((function(){return hN({announce:l,autoScroller:y,dimensionMarshal:g,focusMarshal:b,getResponders:c,styleMarshal:h})}),[l,y,g,b,c,h]);u.current=k;var w=wE((function(){var e=UA(u);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),_=wE((function(){var e=UA(u).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(kE((function(){return{isDragging:_,tryAbort:w}}),[_,w]));var x=wE((function(e){return kN(UA(u).getState(),e)}),[]),I=wE((function(){return cC(UA(u).getState())}),[]),S=kE((function(){return{marshal:g,focus:b,contextId:t,canLift:x,isMovementAllowed:I,dragHandleUsageInstructionsId:f,registry:m}}),[t,g,f,b,x,I,m]);return jA({contextId:t,store:k,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((function(){return w}),[w]),i.createElement(cA.Provider,{value:S},i.createElement(US,{context:rA,store:k},e.children))}var VA=0;function qA(e){var t=kE((function(){return""+VA++}),[]),n=e.dragHandleUsageInstructions||QE;return i.createElement(zE,null,(function(r){return i.createElement(BA,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var zA=function(e){return function(t){return e===t}},WA=zA("scroll"),GA=zA("auto"),HA=(zA("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),KA=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return HA(n,WA)||HA(n,GA)},QA=function e(t){return null==t||t===document.body||t===document.documentElement?null:KA(t)?t:e(t.parentElement)},YA=function(e){return{x:e.scrollLeft,y:e.scrollTop}},$A=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},XA=function(e){return{closestScrollable:QA(e),isFixedOnPage:$A(e)}},JA=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,a=e.direction,o=e.isDropDisabled,u=e.isCombineEnabled,s=e.shouldClipSubject,c=r.closestScrollable,l=function(e,t){var n=PE(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=IE({top:r,right:o,bottom:a,left:i},n.border);return TE({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})}(t,c),f=AE(l,i),d=function(){if(!c)return null;var e=PE(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:AE(e,i),scroll:YA(c),scrollSize:t,shouldClipSubject:s}}(),h=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,o=e.client,u=e.page,s=e.closest,c=function(){if(!s)return null;var e=s.scrollSize,t=s.client,n=pN({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:JE,displacement:JE}}}}(),l="vertical"===a?RT:PT;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:l,isEnabled:n,client:o,page:u,frame:c,subject:lT({page:u,withPlaceholder:null,axis:l,frame:c})}}({descriptor:n,isEnabled:!o,isCombineEnabled:u,isFixedOnPage:r.isFixedOnPage,direction:a,client:l,page:f,closest:d});return h},ZA={passive:!1},eR={passive:!0},tR=function(e){return e.shouldPublishImmediately?ZA:eR};function nR(e){var t=(0,i.useContext)(e);return t||qE(!1),t}var rR=function(e){return e&&e.env.closestScrollable||null};function iR(){}var aR={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},oR=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?aR:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?KC.placeholder:null}};var uR=i.memo((function(e){var t=(0,i.useRef)(null),n=wE((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,a=e.onTransitionEnd,o=e.onClose,u=e.contextId,s=(0,i.useState)("open"===e.animate),c=s[0],l=s[1];(0,i.useEffect)((function(){return c?"open"!==r?(n(),l(!1),iR):t.current?iR:(t.current=setTimeout((function(){t.current=null,l(!1)})),n):iR}),[r,c,n]);var f=wE((function(e){"height"===e.propertyName&&(a(),"close"===r&&o())}),[r,o,a]),d=oR({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":u,onTransitionEnd:f,ref:e.innerRef})})),sR=i.createContext(null);var cR=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return xS(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),lR=5e3,fR=4500,dR=function(e,t){return t?KC.drop(t.duration):e?KC.snap:KC.fluid},hR=function(e,t){return e?t?WC.drop:WC.combining:null};function pR(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,a=Boolean(r),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),u=Boolean(i),s=u?$C(n,a):YC(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:dR(o,i),transform:s,opacity:hR(a,u),zIndex:u?fR:lR,pointerEvents:"none"}}(e):{transform:YC((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function vR(e){var t=sA("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,o=e.canDragInteractiveElements,u=e.shouldRespectForcePress,s=e.isEnabled,c=kE((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:u,isEnabled:s}}),[o,s,u]),l=wE((function(e){var t=a();return t||qE(!1),function(e,t,n){void 0===n&&(n=JE);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=RE(i,r),o=AE(a,n);return{descriptor:e,placeholder:{client:a,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:a.marginBox.width,y:a.marginBox.height},client:a,page:o}}(n,t,e)}),[n,a]),f=kE((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:l}}),[n,l,c,t]),d=(0,i.useRef)(f),h=(0,i.useRef)(!0);YN((function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}}),[r.draggable]),YN((function(){if(h.current)h.current=!1;else{var e=d.current;d.current=f,r.draggable.update(f,e)}}),[f,r.draggable])}function mR(e,t,n){fA()}function gR(e){e.preventDefault()}var yR=function(e,t){return e===t},bR=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function kR(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var wR={mapped:{type:"SECONDARY",offset:JE,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:kR(null)}};var _R=mE((function(){var e=function(){var e=ME((function(e,t){return{x:e,y:t}})),t=ME((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=ME((function(e,n,r,i,a,o,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:o,mode:n,offset:e,dimension:r,forceShouldAnimate:u,snapshot:t(n,i,a,o,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var a=r.current.client.offset,o=r.dimensions.draggables[i.draggableId],u=uC(r.impact),s=(l=r.impact).at&&"COMBINE"===l.at.type?l.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(a.x,a.y),r.movementMode,o,i.isClone,u,s,c)}var l;if("DROP_ANIMATING"===r.phase){var f=r.completed;if(f.result.draggableId!==i.draggableId)return null;var d=i.isClone,h=r.dimensions.draggables[i.draggableId],p=f.result,v=p.mode,m=bR(p),g=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:zC,moveTo:r.newHomeClientOffset,opacity:g?WC.drop:null,scale:g?GC.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:h,dropping:y,draggingOver:m,combineWith:g,mode:v,forceShouldAnimate:null,snapshot:t(v,d,m,g,y)}}}return null}}(),t=function(){var e=ME((function(e,t){return{x:e,y:t}})),t=ME(kR),n=ME((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(JE,e,!0):null},i=function(t,i,a,o){var u=a.displaced.visible[t],s=Boolean(o.inVirtualList&&o.effected[t]),c=_T(a),l=c&&c.draggableId===t?i:null;if(!u){if(!s)return r(l);if(a.displaced.invisible[t])return null;var f=nT(o.displacedBy.point),d=e(f.x,f.y);return n(d,l,!0)}if(s)return r(l);var h=a.displacedBy.point,p=e(h.x,h.y);return n(p,l,u.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||wR}}),{dropAnimationFinished:qC},null,{context:rA,pure:!0,areStatePropsEqual:yR})((function(e){var t=(0,i.useRef)(null),n=wE((function(e){t.current=e}),[]),r=wE((function(){return t.current}),[]),a=nR(cA),o=a.contextId,u=a.dragHandleUsageInstructionsId,s=a.registry,c=nR(sR),l=c.type,f=c.droppableId,d=kE((function(){return{id:e.draggableId,index:e.index,type:l,droppableId:f}}),[e.draggableId,e.index,l,f]),h=e.children,p=e.draggableId,v=e.isEnabled,m=e.shouldRespectForcePress,g=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,k=e.dropAnimationFinished;mR(),lA(),y||vR(kE((function(){return{descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:v}}),[d,s,r,g,m,v]));var w=kE((function(){return v?{tabIndex:0,role:"button","aria-describedby":u,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:gR}:null}),[o,u,p,v]),_=wE((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&k()}),[k,b]),x=kE((function(){var e=pR(b),t="DRAGGING"===b.type&&b.dropping?_:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:w}}),[o,w,p,b,_,n]),I=kE((function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}}),[d.droppableId,d.id,d.index,d.type]);return h(x,b.snapshot,I)}));function xR(e){return nR(sR).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(_R,e):null}function IR(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(xR,d({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var SR=function(e,t){return e===t.droppable.type},ER=function(e,t){return t.draggables[e.draggable.id]};var TR={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||qE(!1),document.body}},CR=mE((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=d({},e,{shouldAnimatePlaceholder:!1}),n=ME((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=ME((function(r,i,a,o,u,s){var c=u.descriptor.id;if(u.descriptor.droppableId===r){var l=s?{render:s,dragging:n(u.descriptor)}:null,f={isDraggingOver:a,draggingOverWith:a?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:f,useClone:l}}if(!i)return t;if(!o)return e;var d={isDraggingOver:a,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(n,i){var a=i.droppableId,o=i.type,u=!i.isDropDisabled,s=i.renderClone;if(n.isDragging){var c=n.critical;if(!SR(o,c))return t;var l=ER(c,n.dimensions),f=uC(n.impact)===a;return r(a,u,f,f,l,s)}if("DROP_ANIMATING"===n.phase){var d=n.completed;if(!SR(o,d.critical))return t;var h=ER(d.critical,n.dimensions);return r(a,u,bR(d.result)===a,uC(d.impact)===a,h,s)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!SR(o,p.critical))return t;var v=uC(p.impact)===a,m=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),g=p.critical.droppable.id===a;return v?m?e:t:g?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:rA,pure:!0,areStatePropsEqual:yR})((function(e){var t=(0,i.useContext)(cA);t||qE(!1);var n=t.contextId,r=t.isMovementAllowed,a=(0,i.useRef)(null),o=(0,i.useRef)(null),u=e.children,s=e.droppableId,c=e.type,l=e.mode,f=e.direction,d=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,v=e.snapshot,m=e.useClone,g=e.updateViewportMaxScroll,y=e.getContainerForClone,b=wE((function(){return a.current}),[]),k=wE((function(e){a.current=e}),[]),w=(wE((function(){return o.current}),[]),wE((function(e){o.current=e}),[]));fA();var _=wE((function(){r()&&g({maxScroll:mN()})}),[r,g]);!function(e){var t=(0,i.useRef)(null),n=nR(cA),r=sA("droppable"),a=n.registry,o=n.marshal,u=hA(e),s=kE((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(s),l=kE((function(){return ME((function(e,n){t.current||qE(!1);var r={x:e,y:n};o.updateDroppableScroll(s.id,r)}))}),[s.id,o]),f=wE((function(){var e=t.current;return e&&e.env.closestScrollable?YA(e.env.closestScrollable):JE}),[]),d=wE((function(){var e=f();l(e.x,e.y)}),[f,l]),h=kE((function(){return LE(d)}),[d]),p=wE((function(){var e=t.current,n=rR(e);e&&n||qE(!1),e.scrollOptions.shouldPublishImmediately?d():h()}),[h,d]),v=wE((function(e,r){t.current&&qE(!1);var i=u.current,a=i.getDroppableRef();a||qE(!1);var o=XA(a),c={ref:a,descriptor:s,env:o,scrollOptions:r};t.current=c;var l=JA({ref:a,descriptor:s,env:o,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),f=o.closestScrollable;return f&&(f.setAttribute(KN.contextId,n.contextId),f.addEventListener("scroll",p,tR(c.scrollOptions))),l}),[n.contextId,s,p,u]),m=wE((function(){var e=t.current,n=rR(e);return e&&n||qE(!1),YA(n)}),[]),g=wE((function(){var e=t.current;e||qE(!1);var n=rR(e);t.current=null,n&&(h.cancel(),n.removeAttribute(KN.contextId),n.removeEventListener("scroll",p,tR(e.scrollOptions)))}),[p,h]),y=wE((function(e){var n=t.current;n||qE(!1);var r=rR(n);r||qE(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=kE((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:m,dragStopped:g,scroll:y}}),[g,v,m,y]),k=kE((function(){return{uniqueId:r,descriptor:s,callbacks:b}}),[b,s,r]);YN((function(){return c.current=k.descriptor,a.droppable.register(k),function(){t.current&&g(),a.droppable.unregister(k)}}),[b,s,g,k,o,a.droppable]),YN((function(){t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),YN((function(){t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}({droppableId:s,type:c,mode:l,direction:f,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:b});var x=i.createElement(cR,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,a=e.animate;return i.createElement(uR,{placeholder:r,onClose:t,innerRef:w,animate:a,contextId:n,onTransitionEnd:_})})),I=kE((function(){return{innerRef:k,placeholder:x,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}}),[n,s,x,k]),S=m?m.dragging.draggableId:null,E=kE((function(){return{droppableId:s,type:c,isUsingCloneFor:S}}),[s,S,c]);return i.createElement(sR.Provider,{value:E},u(I,v),function(){if(!m)return null;var e=m.dragging,t=m.render,n=i.createElement(xR,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return yE.createPortal(n,y())}())}));CR.defaultProps=TR;var NR="Edit_edit__lTreb",AR=function(e){var t=e.handleEdit,n=e.color;return(0,sc.jsx)("button",{className:NR,onClick:t,children:(0,sc.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,children:(0,sc.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:n,fillOpacity:.78039},d:"M12.031 2.023c-.496 0-.965.247-1.355.633l-8.114 8.07-1.355 4.06 4.059-1.352.086-.082 8.035-7.985c.386-.39.629-.86.629-1.355 0-.496-.243-.965-.63-1.356-.39-.386-.859-.633-1.355-.633Zm-2.004 2.688 1.293 1.297-6.593 6.554-1.938.645.648-1.941Zm0 0"})})})},RR=["setEditingTaskNumber","children","tasks","task","step","handleDelete","checkClickHandler","editingTaskNumber","firebaseRef"],PR=function(e){var t=e.setEditingTaskNumber,n=e.children,r=(e.tasks,e.task),a=e.step,o=e.handleDelete,u=e.checkClickHandler,s=e.editingTaskNumber,c=(e.firebaseRef,Zs(e,RR),(0,i.useRef)()),l=(0,sc.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,sc.jsx)("path",{fill:"#494C6B",fillRule:"evenodd",d:"M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z"})}),d=(0,i.useContext)(CY),h=d.auth,p=d.firestore,v=f($s(h),1)[0],m=f((0,i.useState)(""),2),g=m[0],y=m[1],b=function(e){if(s===e){t("");var n=be(_.tasks);n[e].text=g;var r=Tt(Tt({},_),{},{tasks:n});oS(w,r)}else t(e),console.log(c.current)},k=v.uid,w=Mx(p,"users","".concat(k)),_=f(_S(w),1)[0];(0,i.useEffect)((function(){y(n)}),[s]);return(0,sc.jsx)(IR,{draggableId:"".concat(r.id),index:a,children:function(e){return(0,sc.jsxs)("div",Tt(Tt(Tt({className:tc},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[(0,sc.jsx)(lc,{isActive:r.isActive,onClick:function(){return u(a)},className:oc}),s!==a?(0,sc.jsx)("div",{style:r.isActive?{}:{textDecoration:"solid line-through grey 1.5px"},className:ic,children:n}):(0,sc.jsx)("input",{ref:c,autoFocus:!0,style:{display:s!==a?"none":"block"},className:ic,value:g,onChange:function(e){return y(e.target.value)},onKeyDown:function(e){return function(e,t){console.log(e),"Enter"===e.code&&b(t)}(e,a)}}),(0,sc.jsx)(AR,{color:s!==a?"#7480a4":"#32CD32",handleEdit:function(){return b(a)}}),(0,sc.jsx)("button",{className:ac,onClick:function(){return o(a)},children:l})]}))}})},DR=["isDarkTheme","userData"],OR=function(e){var t=e.isDarkTheme,n=e.userData,r=(Zs(e,DR),(0,i.useContext)(CY)),a=r.auth,o=r.firestore,u=f($s(a),1)[0],s=f((0,i.useState)(""),2),c=s[0],l=s[1];function d(){return h.apply(this,arguments)}function h(){return h=pe(de().mark((function e(){var t,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=c.length){e.next=5;break}return alert("0!"),e.abrupt("return");case 5:return t=Tt(Tt({},n),{},{tasks:[{id:Date.now(),text:c,isActive:!0}].concat(be(n.tasks))}),r=u.uid,i=Mx(o,"users","".concat(r)),l(""),e.next=11,oS(i,t);case 11:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}return(0,sc.jsxs)("div",{className:t?nc:nc+" "+rc,style:{marginBottom:"20px"},children:[(0,sc.jsx)("input",{onChange:function(e){l(e.target.value)},value:c,onKeyDown:function(e){"Enter"===e.code&&d()}}),(0,sc.jsx)(lc,{className:oc,onClick:function(){return d()}})]})},MR=n(248),LR=n(327);var FR=function(e){e()},jR=i.createContext(null);var UR=function(){throw new Error("uSES not initialized!")};var BR=n(900),VR=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function qR(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,h=!1;function p(i,h){var p=!f(h,o),v=!l(i,a);return a=i,o=h,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!d(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return h?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),h=!0,c)}}function zR(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Js(t,VR);return qR(n(e,a),r(e,a),i(e,a),e,a)}function WR(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function GR(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function HR(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=GR(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=GR(i),i=r(t,n)),i},r}}function KR(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function QR(e){return e&&"object"===typeof e?WR((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?HR(e):KR(e,"mapDispatchToProps"):WR((function(e){return{dispatch:e}}))}function YR(e){return e?"function"===typeof e?HR(e):KR(e,"mapStateToProps"):WR((function(){return{}}))}function $R(e,t,n){return d({},n,e,t)}function XR(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var u=e(t,n,o);return a?i(u,r)||(r=u):(a=!0,r=u),r}}}(e):KR(e,"mergeProps"):function(){return $R}}function JR(){var e=FR,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ZR={notify:function(){},get:function(){return[]}};function eP(e,t){var n,r=ZR;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=JR())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ZR)},getListeners:function(){return r}};return o}var tP=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?i.useLayoutEffect:i.useEffect;function nP(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function rP(e,t){if(nP(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!nP(e[n[i]],t[n[i]]))return!1;return!0}var iP=["reactReduxForwardedRef"],aP=UR,oP=[null,null];function uP(e,t,n){tP((function(){return e.apply(void 0,be(t))}),n)}function sP(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function cP(e,t,n,r,i,a,o,u,s,c,l){if(!e)return function(){};var f=!1,d=null,h=function(){if(!f&&u.current){var e,n,h=t.getState();try{e=r(h,i.current)}catch(p){n=p,d=p}n||(d=null),e===a.current?o.current||c():(a.current=e,s.current=e,o.current=!0,l())}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}function lP(e,t){return e===t}var fP=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(r.pure,r.areStatesEqual),o=void 0===a?lP:a,u=r.areOwnPropsEqual,s=void 0===u?rP:u,c=r.areStatePropsEqual,l=void 0===c?rP:c,h=r.areMergedPropsEqual,p=void 0===h?rP:h,v=r.forwardRef,m=void 0!==v&&v,g=r.context,y=void 0===g?jR:g,b=y,k=YR(e),w=QR(t),_=XR(n),x=Boolean(e),I=function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:x,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:k,initMapDispatchToProps:w,initMergeProps:_,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:s,areMergedPropsEqual:p};function a(t){var n=(0,i.useMemo)((function(){var e=t.reactReduxForwardedRef,n=Js(t,iP);return[t.context,e,n]}),[t]),a=f(n,3),o=a[0],u=a[1],s=a[2],c=(0,i.useMemo)((function(){return o&&o.Consumer&&(0,BR.isContextConsumer)(i.createElement(o.Consumer,null))?o:b}),[o,b]),l=(0,i.useContext)(c),h=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),p=Boolean(l)&&Boolean(l.store);var v=h?t.store:l.store,m=p?l.getServerState:v.getState,g=(0,i.useMemo)((function(){return zR(v.dispatch,r)}),[v]),y=(0,i.useMemo)((function(){if(!x)return oP;var e=eP(v,h?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,h,l]),k=f(y,2),w=k[0],_=k[1],I=(0,i.useMemo)((function(){return h?l:d({},l,{subscription:w})}),[h,l,w]),S=(0,i.useRef)(),E=(0,i.useRef)(s),T=(0,i.useRef)(),C=(0,i.useRef)(!1),N=((0,i.useRef)(!1),(0,i.useRef)(!1)),A=(0,i.useRef)();tP((function(){return N.current=!0,function(){N.current=!1}}),[]);var R,P=(0,i.useMemo)((function(){return function(){return T.current&&s===E.current?T.current:g(v.getState(),s)}}),[v,s]),D=(0,i.useMemo)((function(){return function(e){return w?cP(x,v,w,g,E,S,C,N,T,_,e):function(){}}}),[w]);uP(sP,[E,S,C,s,T,_]);try{R=aP(D,P,m?function(){return g(m(),s)}:P)}catch(M){throw A.current&&(M.message+="\nThe error may be correlated with this previous error:\n".concat(A.current.stack,"\n\n")),M}tP((function(){A.current=void 0,T.current=void 0,S.current=R}));var O=(0,i.useMemo)((function(){return i.createElement(e,d({},R,{ref:u}))}),[u,e,R]);return(0,i.useMemo)((function(){return x?i.createElement(c.Provider,{value:I},O):O}),[c,O,I])}var u=i.memo(a);if(u.WrappedComponent=e,u.displayName=a.displayName=n,m){var c=i.forwardRef((function(e,t){return i.createElement(u,d({},e,{reactReduxForwardedRef:t}))})),h=c;return h.displayName=n,h.WrappedComponent=e,VS()(h,e)}return VS()(u,e)};return I};var dP=function(e){var t=e.store,n=e.context,r=e.children,a=e.serverState,o=(0,i.useMemo)((function(){var e=eP(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),u=(0,i.useMemo)((function(){return t.getState()}),[t]);tP((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=n||jR;return i.createElement(s.Provider,{value:o},r)};!function(e){e}(LR.useSyncExternalStoreWithSelector),function(e){aP=e}(MR.useSyncExternalStore),function(e){FR=e}(yE.unstable_batchedUpdates);var hP="Loader_loaderContainer__TddIx",pP="Loader_ldio-q7pgiuqi4y8__FTY15",vP="Loader_loadingio-spinner-dual-ball-rhjg227ofs__HfdqA",mP=function(){return(0,sc.jsx)("div",{className:hP,children:(0,sc.jsx)("div",{className:vP,children:(0,sc.jsx)("div",{className:pP})})})},gP="ModalDialog_modalDialog__FnbF+",yP="ModalDialog_visible__CybqB",bP="ModalDialog_content__eiwJE",kP="ModalDialog_btns__MJSxE",wP=["modalVisible","setModalVisible","clearCompleted","eng"],_P=function(e){var t=e.modalVisible,n=e.setModalVisible,r=e.clearCompleted,i=e.eng;Zs(e,wP);return(0,sc.jsx)("div",{className:t?gP+" "+yP:gP,onClick:function(){return n((function(e){return!e}))},children:(0,sc.jsxs)("div",{className:bP,onClick:function(e){e.stopPropagation()},children:[(0,sc.jsx)("div",{children:i?"Are you sure?":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b"}),(0,sc.jsxs)("div",{className:kP,children:[(0,sc.jsx)("button",{onClick:function(){n(!1),r()},children:i?"Yes":"\u0414\u0430"}),(0,sc.jsx)("button",{onClick:function(){n(!1)},children:i?"No":"\u041d\u0435\u0442"})]})]})})};var xP,IP=fP((function(e){return{lang:e.lang.lang,isDarkTheme:e.theme.isDarkTheme}}))((function(e){var t=(0,i.useContext)(CY),n=t.auth,r=t.firestore,a=f((0,i.useState)(""),2),o=a[0],u=a[1],s=f($s(n),1)[0].uid,c=f((0,i.useState)([]),2),l=(c[0],c[1],Mx(r,"users","".concat(s))),d=f(_S(l),4),h=d[0],p=(d[1],d[2],d[3],f((0,i.useState)("all"),2)),v=p[0],m=p[1],g=function(e){var t=be(h.tasks);t.splice(e,1);var n=Tt(Tt({},h),{},{tasks:t});oS(l,n),console.log(n)},y={};e.isDarkTheme||(y={backgroundColor:"white",color:"hsl(235, 24%, 19%)"});var b=f((0,i.useState)(!1),2),k=b[0],w=b[1];return h?(0,sc.jsxs)("div",{className:Xs.tasks,children:[(0,sc.jsx)(_P,{clearCompleted:function(){var e=Tt(Tt({},h),{},{tasks:h.tasks.filter((function(e){return e.isActive}))});oS(l,e)},eng:e.lang,modalVisible:k,setModalVisible:w}),(0,sc.jsx)(OR,{isDarkTheme:e.isDarkTheme,userData:h}),(0,sc.jsx)("div",{style:y,className:Xs.tasksWindow,children:(0,sc.jsx)(qA,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var r=Array.from(e),i=f(r.splice(t,1),1)[0];return r.splice(n,0,i),r}(h.tasks,e.source.index,e.destination.index),n=Tt(Tt({},h),{},{tasks:t});oS(l,n)}},children:(0,sc.jsx)(CR,{droppableId:"0",children:function(e){return(0,sc.jsxs)("div",Tt(Tt({style:y,className:Xs.tasksList,ref:e.innerRef},e.droppableProps),{},{children:[h.tasks.filter((function(e){return"active"==v?e.isActive:"completed"!=v||!e.isActive})).map((function(e,t){return(0,sc.jsx)(PR,{firebaseRef:l,setEditingTaskNumber:u,editingTaskNumber:o,checkClickHandler:function(){return function(e,t){var n=be(h.tasks);console.log(n),n[e]=Tt(Tt({},t),{},{isActive:!t.isActive});var r=Tt(Tt({},h),{},{tasks:n});oS(l,r)}(t,e)},step:t,handleDelete:g,tasks:h.tasks,task:e,children:e.text},e.id)})),e.placeholder]}))}})})}),(0,sc.jsxs)("div",{style:y,className:Xs.queries,children:[h.tasks!=={}?(0,sc.jsxs)("div",{children:[h.tasks.filter((function(e){return e.isActive})).length," ",e.lang?"items left":"\u0437\u0430\u0434\u0430\u043d\u0438(\u0439/\u044f/\u0435)"]}):"",(0,sc.jsxs)("div",{className:Xs.activity,children:[(0,sc.jsx)("button",{style:y,onClick:function(){return m("all")},children:e.lang?"All":"\u0412\u0441\u0435"}),(0,sc.jsx)("button",{style:y,onClick:function(){return m("active")},children:e.lang?"Active":"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435"}),(0,sc.jsx)("button",{style:y,onClick:function(){return m("completed")},children:e.lang?"Completed":"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0435"})]}),(0,sc.jsx)("button",{onClick:function(){return w(!0)},style:y,children:e.lang?"Clear completed":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0435"})]})]}):(0,sc.jsx)(mP,{})})),SP={loginContainer:"Login_loginContainer__R3q0o",login:"Login_login__z24MN",title:"Login_title__1MgD2",next:"Login_next__CmYMl",content:"Login_content__pcMw7",active:"Login_active__7-01s",contentInner:"Login_contentInner__jV8Xq"},EP=function(){function e(t,n){var r=this;ve(this,e),this._delegate=t,this.firebase=n,tn(t,new ht("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ge(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),vn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){tn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){nn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),TP=(ke(xP={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ke(xP,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),xP),CP=new Ge("app-compat","Firebase",TP);var NP=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Xe(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:gn,setLogLevel:bn,onLog:yn,apps:null,SDK_VERSION:fn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(rn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw CP.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&De(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Xe(n,e=e||Xt))throw CP.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(EP);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){De(n,e)},createSubscribe:ut,ErrorFactory:Ge,deepExtend:De}),n}(),AP=new St("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){AP.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var RP=self.firebase.SDK_VERSION;RP&&RP.indexOf("LITE")>=0&&AP.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var PP=NP;!function(e){gn("@firebase/app-compat","0.1.26",e)}();PP.registerVersion("firebase","9.8.2","app-compat");var DP={myinput:"signInSignUpInput_myinput__acwJP",clicked:"signInSignUpInput_clicked__9hL6i"},OP=["visible","label"],MP=function(e){e.visible;var t=e.label,n=Zs(e,OP),r=f((0,i.useState)(!0),2),a=r[0],o=r[1],u=[DP.myinput];return a&&u.push(DP.clicked),(0,sc.jsxs)("div",{className:u.join(" "),children:[(0,sc.jsx)("label",{htmlFor:DP.idd,children:t}),(0,sc.jsx)("input",Tt(Tt({},n),{},{id:DP.idd,onFocus:function(e){return o(!0)},onBlur:function(e){e.target.value||o(!1)}}))]})};function LP(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=LP(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var FP=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=LP(e))&&(r&&(r+=" "),r+=t);return r};function jP(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function UP(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function BP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function VP(e){if(e.type)return e;if("#"===e.charAt(0))return VP(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(UP(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(UP(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function qP(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function zP(e){var t="hsl"===(e=VP(e)).type?VP(function(e){var t=(e=VP(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),qP({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function WP(e,t){return e=VP(e),t=BP(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,qP(e)}function GP(e,t){if(e=VP(e),t=BP(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return qP(e)}function HP(e,t){if(e=VP(e),t=BP(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return qP(e)}var KP=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},QP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,YP=KP((function(e){return QP.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var $P=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),XP=Math.abs,JP=String.fromCharCode,ZP=Object.assign;function eD(e){return e.trim()}function tD(e,t,n){return e.replace(t,n)}function nD(e,t){return e.indexOf(t)}function rD(e,t){return 0|e.charCodeAt(t)}function iD(e,t,n){return e.slice(t,n)}function aD(e){return e.length}function oD(e){return e.length}function uD(e,t){return t.push(e),e}var sD=1,cD=1,lD=0,fD=0,dD=0,hD="";function pD(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:sD,column:cD,length:o,return:""}}function vD(e,t){return ZP(pD("",null,null,"",null,null,0),e,{length:-e.length},t)}function mD(){return dD=fD>0?rD(hD,--fD):0,cD--,10===dD&&(cD=1,sD--),dD}function gD(){return dD=fD<lD?rD(hD,fD++):0,cD++,10===dD&&(cD=1,sD++),dD}function yD(){return rD(hD,fD)}function bD(){return fD}function kD(e,t){return iD(hD,e,t)}function wD(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _D(e){return sD=cD=1,lD=aD(hD=e),fD=0,[]}function xD(e){return hD="",e}function ID(e){return eD(kD(fD-1,TD(91===e?e+2:40===e?e+1:e)))}function SD(e){for(;(dD=yD())&&dD<33;)gD();return wD(e)>2||wD(dD)>3?"":" "}function ED(e,t){for(;--t&&gD()&&!(dD<48||dD>102||dD>57&&dD<65||dD>70&&dD<97););return kD(e,bD()+(t<6&&32==yD()&&32==gD()))}function TD(e){for(;gD();)switch(dD){case e:return fD;case 34:case 39:34!==e&&39!==e&&TD(dD);break;case 40:41===e&&TD(e);break;case 92:gD()}return fD}function CD(e,t){for(;gD()&&e+dD!==57&&(e+dD!==84||47!==yD()););return"/*"+kD(t,fD-1)+"*"+JP(47===e?e:gD())}function ND(e){for(;!wD(yD());)gD();return kD(e,fD)}var AD="-ms-",RD="-moz-",PD="-webkit-",DD="comm",OD="rule",MD="decl",LD="@keyframes";function FD(e,t){for(var n="",r=oD(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function jD(e,t,n,r){switch(e.type){case"@import":case MD:return e.return=e.return||e.value;case DD:return"";case LD:return e.return=e.value+"{"+FD(e.children,r)+"}";case OD:e.value=e.props.join(",")}return aD(n=FD(e.children,r))?e.return=e.value+"{"+n+"}":""}function UD(e,t){switch(function(e,t){return(((t<<2^rD(e,0))<<2^rD(e,1))<<2^rD(e,2))<<2^rD(e,3)}(e,t)){case 5103:return PD+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return PD+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return PD+e+RD+e+AD+e+e;case 6828:case 4268:return PD+e+AD+e+e;case 6165:return PD+e+AD+"flex-"+e+e;case 5187:return PD+e+tD(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return PD+e+AD+"flex-item-"+tD(e,/flex-|-self/,"")+e;case 4675:return PD+e+AD+"flex-line-pack"+tD(e,/align-content|flex-|-self/,"")+e;case 5548:return PD+e+AD+tD(e,"shrink","negative")+e;case 5292:return PD+e+AD+tD(e,"basis","preferred-size")+e;case 6060:return PD+"box-"+tD(e,"-grow","")+PD+e+AD+tD(e,"grow","positive")+e;case 4554:return PD+tD(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return tD(tD(tD(e,/(zoom-|grab)/,PD+"$1"),/(image-set)/,PD+"$1"),e,"")+e;case 5495:case 3959:return tD(e,/(image-set\([^]*)/,PD+"$1$`$1");case 4968:return tD(tD(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+PD+e+e;case 4095:case 3583:case 4068:case 2532:return tD(e,/(.+)-inline(.+)/,PD+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(aD(e)-1-t>6)switch(rD(e,t+1)){case 109:if(45!==rD(e,t+4))break;case 102:return tD(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+RD+(108==rD(e,t+3)?"$3":"$2-$3"))+e;case 115:return~nD(e,"stretch")?UD(tD(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==rD(e,t+1))break;case 6444:switch(rD(e,aD(e)-3-(~nD(e,"!important")&&10))){case 107:return tD(e,":",":"+PD)+e;case 101:return tD(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+PD+(45===rD(e,14)?"inline-":"")+"box$3$1"+PD+"$2$3$1"+AD+"$2box$3")+e}break;case 5936:switch(rD(e,t+11)){case 114:return PD+e+AD+tD(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return PD+e+AD+tD(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return PD+e+AD+tD(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return PD+e+AD+e+e}return e}function BD(e){return function(t){t.root||(t=t.return)&&e(t)}}function VD(e){return xD(qD("",null,null,null,[""],e=_D(e),0,[0],e))}function qD(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,g=1,y=0,b="",k=i,w=a,_=r,x=b;m;)switch(p=y,y=gD()){case 40:if(108!=p&&58==x.charCodeAt(f-1)){-1!=nD(x+=tD(ID(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:x+=ID(y);break;case 9:case 10:case 13:case 32:x+=SD(p);break;case 92:x+=ED(bD()-1,7);continue;case 47:switch(yD()){case 42:case 47:uD(WD(CD(gD(),bD()),t,n),s);break;default:x+="/"}break;case 123*v:u[c++]=aD(x)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:h>0&&aD(x)-f&&uD(h>32?GD(x+";",r,n,f-1):GD(tD(x," ","")+";",r,n,f-2),s);break;case 59:x+=";";default:if(uD(_=zD(x,t,n,c,l,i,u,b,k=[],w=[],f),a),123===y)if(0===l)qD(x,t,_,_,k,a,f,u,w);else switch(d){case 100:case 109:case 115:qD(e,_,_,r&&uD(zD(e,_,_,0,0,i,u,b,i,k=[],f),w),i,w,f,u,r?k:w);break;default:qD(x,_,_,_,[""],w,0,u,w)}}c=l=h=0,v=g=1,b=x="",f=o;break;case 58:f=1+aD(x),h=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==mD())continue;switch(x+=JP(y),y*v){case 38:g=l>0?1:(x+="\f",-1);break;case 44:u[c++]=(aD(x)-1)*g,g=1;break;case 64:45===yD()&&(x+=ID(gD())),d=yD(),l=f=aD(b=x+=ND(bD())),y++;break;case 45:45===p&&2==aD(x)&&(v=0)}}return a}function zD(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=oD(d),p=0,v=0,m=0;p<r;++p)for(var g=0,y=iD(e,f+1,f=XP(v=o[p])),b=e;g<h;++g)(b=eD(v>0?d[g]+" "+y:tD(y,/&\f/g,d[g])))&&(s[m++]=b);return pD(e,t,n,0===i?OD:u,s,c,l)}function WD(e,t,n){return pD(e,t,n,DD,JP(dD),iD(e,2,-2),0)}function GD(e,t,n,r){return pD(e,t,n,MD,iD(e,0,r),iD(e,r+1,-1),r)}var HD=function(e,t,n){for(var r=0,i=0;r=i,i=yD(),38===r&&12===i&&(t[n]=1),!wD(i);)gD();return kD(e,fD)},KD=function(e,t){return xD(function(e,t){var n=-1,r=44;do{switch(wD(r)){case 0:38===r&&12===yD()&&(t[n]=1),e[n]+=HD(fD-1,t,n);break;case 2:e[n]+=ID(r);break;case 4:if(44===r){e[++n]=58===yD()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=JP(r)}}while(r=gD());return e}(_D(e),t))},QD=new WeakMap,YD=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||QD.get(n))&&!r){QD.set(e,!0);for(var i=[],a=KD(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},$D=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},XD=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case MD:e.return=UD(e.value,e.length);break;case LD:return FD([vD(e,{value:tD(e.value,"@","@"+PD)})],r);case OD:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return FD([vD(e,{props:[tD(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return FD([vD(e,{props:[tD(t,/:(plac\w+)/,":-webkit-input-$1")]}),vD(e,{props:[tD(t,/:(plac\w+)/,":-moz-$1")]}),vD(e,{props:[tD(t,/:(plac\w+)/,AD+"input-$1")]})],r)}return""}))}}],JD=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||XD;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s=[YD,$D];var c,l=[jD,BD((function(e){c.insert(e)}))],f=function(e){var t=oD(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}(s.concat(r,l));a=function(e,t,n,r){c=n,FD(VD(e?e+"{"+t.styles+"}":t.styles),f),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new $P({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var ZD=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},eO={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tO=/[A-Z]|^ms/g,nO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rO=function(e){return 45===e.charCodeAt(1)},iO=function(e){return null!=e&&"boolean"!==typeof e},aO=KP((function(e){return rO(e)?e:e.replace(tO,"-$&").toLowerCase()})),oO=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(nO,(function(e,t,n){return sO={name:t,styles:n,next:sO},t}))}return 1===eO[e]||rO(e)||"number"!==typeof t||0===t?t:t+"px"};function uO(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return sO={name:n.name,styles:n.styles,next:sO},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)sO={name:r.name,styles:r.styles,next:sO},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=uO(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":iO(o)&&(r+=aO(a)+":"+oO(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=uO(e,t,o);switch(a){case"animation":case"animationName":r+=aO(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)iO(o[s])&&(r+=aO(a)+":"+oO(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=sO,a=n(e);return sO=i,uO(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var sO,cO=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var lO=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";sO=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=uO(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=uO(n,t,e[o]),r&&(i+=a[o]);cO.lastIndex=0;for(var u,s="";null!==(u=cO.exec(i));)s+="-"+u[1];return{name:ZD(i)+s,styles:i,next:sO}},fO=(0,i.createContext)("undefined"!==typeof HTMLElement?JD({key:"css"}):null);fO.Provider;var dO=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(fO);return e(t,r,n)}))},hO=(0,i.createContext)({});a.useInsertionEffect&&a.useInsertionEffect;function pO(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var vO=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},mO=YP,gO=function(e){return"theme"!==e},yO=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?mO:gO},bO=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},kO=a.useInsertionEffect?a.useInsertionEffect:function(e){e()};var wO=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;vO(t,n,r);!function(e){kO(e)}((function(){return function(e,t,n){vO(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},_O=function e(t,n){var r,a,o=t.__emotion_real===t,u=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var s=bO(t,n,o),c=s||yO(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var p=f.length,v=1;v<p;v++)h.push(f[v],f[0][v])}var m=dO((function(e,t,n){var r=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,i.useContext)(hO)}"string"===typeof e.className?o=pO(t.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=lO(h.concat(f),t.registered,d);o+=t.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?yO(r):c,g={};for(var y in e)l&&"as"===y||m(y)&&(g[y]=e[y]);return g.className=o,g.ref=n,(0,i.createElement)(i.Fragment,null,(0,i.createElement)(wO,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,i.createElement)(r,g))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,r){return e(t,d({},n,r,{shouldForwardProp:bO(m,r,!0)})).apply(void 0,h)},m}},xO=_O.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){xO[e]=xO(e)}));var IO=xO;function SO(e,t){return IO(e,t)}function EO(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function TO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?d({},e):e;return EO(e)&&EO(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(EO(t[i])&&i in e&&EO(e[i])?r[i]=TO(e[i],t[i],n):r[i]=t[i])})),r}var CO=["values","unit","step"];function NO(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=Js(e,CO),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return d({},e,ke({},t.key,t.val))}),{})}(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return d({keys:c,values:s,up:l,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var AO={borderRadius:4},RO={xs:0,sm:600,md:900,lg:1200,xl:1536},PO={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(RO[e],"px)")}};function DO(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||PO;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||PO;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||RO).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function OO(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function MO(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function LO(e){if("string"!==typeof e)throw new Error(UP(7));return e.charAt(0).toUpperCase()+e.slice(1)}function FO(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function jO(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:FO(e,n)||i,t&&(r=t(r)),r}var UO=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=FO(e.theme,i)||{};return DO(e,n,(function(e){var n=jO(o,a,e);return e===n&&"string"===typeof e&&(n=jO(o,a,"".concat(t).concat("default"===e?"":LO(e)),e)),!1===r?n:ke({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var BO=function(e,t){return t?TO(e,t,{clone:!1}):e};var VO={m:"margin",p:"padding"},qO={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zO={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},WO=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!zO[e])return[e];e=zO[e]}var t=f(e.split(""),2),n=t[0],r=t[1],i=VO[n],a=qO[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),GO=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],HO=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],KO=[].concat(GO,HO);function QO(e,t,n,r){var i,a=null!=(i=FO(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function YO(e){return QO(e,"spacing",8)}function $O(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function XO(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=$O(t,n),e}),{})}}(WO(n),r);return DO(e,e[n],i)}function JO(e,t){var n=YO(e.theme);return Object.keys(e).map((function(r){return XO(e,t,r,n)})).reduce(BO,{})}function ZO(e){return JO(e,GO)}function eM(e){return JO(e,HO)}function tM(e){return JO(e,KO)}ZO.propTypes={},ZO.filterProps=GO,eM.propTypes={},eM.filterProps=HO,tM.propTypes={},tM.filterProps=KO;var nM=tM;function rM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=YO({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var iM=["breakpoints","palette","spacing","shape"];var aM=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=Js(e,iM),c=NO(n),l=rM(a),f=TO({breakpoints:c,direction:"ltr",components:{},palette:d({mode:"light"},i),spacing:l,shape:d({},AO,u)},s),h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return f=p.reduce((function(e,t){return TO(e,t)}),f)},oM=["variant"];function uM(e){return 0===e.length}function sM(e){var t=e.variant,n=Js(e,oM),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?uM(r)?e[t]:LO(e[t]):"".concat(uM(r)?t:LO(t)).concat(LO(e[t].toString()))})),r}var cM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?BO(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function lM(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var fM=UO({prop:"border",themeKey:"borders",transform:lM}),dM=UO({prop:"borderTop",themeKey:"borders",transform:lM}),hM=UO({prop:"borderRight",themeKey:"borders",transform:lM}),pM=UO({prop:"borderBottom",themeKey:"borders",transform:lM}),vM=UO({prop:"borderLeft",themeKey:"borders",transform:lM}),mM=UO({prop:"borderColor",themeKey:"palette"}),gM=UO({prop:"borderTopColor",themeKey:"palette"}),yM=UO({prop:"borderRightColor",themeKey:"palette"}),bM=UO({prop:"borderBottomColor",themeKey:"palette"}),kM=UO({prop:"borderLeftColor",themeKey:"palette"}),wM=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=QO(e.theme,"shape.borderRadius",4);return DO(e,e.borderRadius,(function(e){return{borderRadius:$O(t,e)}}))}return null};wM.propTypes={},wM.filterProps=["borderRadius"];var _M=cM(fM,dM,hM,pM,vM,mM,gM,yM,bM,kM,wM),xM=cM(UO({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),UO({prop:"display"}),UO({prop:"overflow"}),UO({prop:"textOverflow"}),UO({prop:"visibility"}),UO({prop:"whiteSpace"})),IM=cM(UO({prop:"flexBasis"}),UO({prop:"flexDirection"}),UO({prop:"flexWrap"}),UO({prop:"justifyContent"}),UO({prop:"alignItems"}),UO({prop:"alignContent"}),UO({prop:"order"}),UO({prop:"flex"}),UO({prop:"flexGrow"}),UO({prop:"flexShrink"}),UO({prop:"alignSelf"}),UO({prop:"justifyItems"}),UO({prop:"justifySelf"})),SM=function(e){if(void 0!==e.gap&&null!==e.gap){var t=QO(e.theme,"spacing",8);return DO(e,e.gap,(function(e){return{gap:$O(t,e)}}))}return null};SM.propTypes={},SM.filterProps=["gap"];var EM=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=QO(e.theme,"spacing",8);return DO(e,e.columnGap,(function(e){return{columnGap:$O(t,e)}}))}return null};EM.propTypes={},EM.filterProps=["columnGap"];var TM=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=QO(e.theme,"spacing",8);return DO(e,e.rowGap,(function(e){return{rowGap:$O(t,e)}}))}return null};TM.propTypes={},TM.filterProps=["rowGap"];var CM=cM(SM,EM,TM,UO({prop:"gridColumn"}),UO({prop:"gridRow"}),UO({prop:"gridAutoFlow"}),UO({prop:"gridAutoColumns"}),UO({prop:"gridAutoRows"}),UO({prop:"gridTemplateColumns"}),UO({prop:"gridTemplateRows"}),UO({prop:"gridTemplateAreas"}),UO({prop:"gridArea"})),NM=cM(UO({prop:"position"}),UO({prop:"zIndex",themeKey:"zIndex"}),UO({prop:"top"}),UO({prop:"right"}),UO({prop:"bottom"}),UO({prop:"left"})),AM=cM(UO({prop:"color",themeKey:"palette"}),UO({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),UO({prop:"backgroundColor",themeKey:"palette"})),RM=UO({prop:"boxShadow",themeKey:"shadows"});function PM(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var DM=UO({prop:"width",transform:PM}),OM=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return DO(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||RO[t]||PM(t)}}))}return null};OM.filterProps=["maxWidth"];var MM=UO({prop:"minWidth",transform:PM}),LM=UO({prop:"height",transform:PM}),FM=UO({prop:"maxHeight",transform:PM}),jM=UO({prop:"minHeight",transform:PM}),UM=(UO({prop:"size",cssProperty:"width",transform:PM}),UO({prop:"size",cssProperty:"height",transform:PM}),cM(DM,OM,MM,LM,FM,jM,UO({prop:"boxSizing"}))),BM=UO({prop:"fontFamily",themeKey:"typography"}),VM=UO({prop:"fontSize",themeKey:"typography"}),qM=UO({prop:"fontStyle",themeKey:"typography"}),zM=UO({prop:"fontWeight",themeKey:"typography"}),WM=UO({prop:"letterSpacing"}),GM=UO({prop:"textTransform"}),HM=UO({prop:"lineHeight"}),KM=UO({prop:"textAlign"}),QM=cM(UO({prop:"typography",cssProperty:!1,themeKey:"typography"}),BM,VM,qM,zM,WM,HM,KM,GM),YM={borders:_M.filterProps,display:xM.filterProps,flexbox:IM.filterProps,grid:CM.filterProps,positions:NM.filterProps,palette:AM.filterProps,shadows:RM.filterProps,sizing:UM.filterProps,spacing:nM.filterProps,typography:QM.filterProps},$M={borders:_M,display:xM,flexbox:IM,grid:CM,positions:NM,palette:AM,shadows:RM,sizing:UM,spacing:nM,typography:QM};Object.keys(YM).reduce((function(e,t){return YM[t].forEach((function(n){e[n]=$M[t]})),e}),{});function XM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function JM(e,t){return"function"===typeof e?e(t):e}var ZM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$M,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(ke(i={},e,n),ke(i,"theme",r),i),o=t[e];return o?o(a):ke({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=OO(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=JM(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=BO(s,n(e,a,u));else{var o=DO({theme:u},a,(function(t){return ke({},e,t)}));XM(o,a)?s[e]=r({sx:a,theme:u}):s=BO(s,o)}else s=BO(s,n(e,a,u))})),MO(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();ZM.filterProps=["sx"];var eL=ZM,tL=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],nL=["theme"],rL=["theme"];function iL(e){return 0===Object.keys(e).length}var aL=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},oL=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=sM(e.props);r[t]=e.style})),r},uL=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[sM(n.props)])})),s};function sL(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var cL=aM();function lL(e,t){var n;return d({toolbar:(n={minHeight:56},ke(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),ke(n,e.up("sm"),{minHeight:64}),n)},t)}var fL={black:"#000",white:"#fff"},dL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hL={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},pL={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},vL={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},mL={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},gL={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},yL={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},bL=["mode","contrastThreshold","tonalOffset"],kL={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:fL.white,default:fL.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},wL={text:{primary:fL.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:fL.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _L(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=HP(e.main,i):"dark"===t&&(e.dark=GP(e.main,a)))}function xL(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=Js(e,bL),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:mL[200],light:mL[50],dark:mL[400]}:{main:mL[700],light:mL[400],dark:mL[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hL[200],light:hL[50],dark:hL[400]}:{main:hL[500],light:hL[300],dark:hL[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pL[500],light:pL[300],dark:pL[700]}:{main:pL[700],light:pL[400],dark:pL[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gL[400],light:gL[300],dark:gL[700]}:{main:gL[700],light:gL[500],dark:gL[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:yL[400],light:yL[300],dark:yL[700]}:{main:yL[800],light:yL[500],dark:yL[900]}}(n),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:vL[400],light:vL[300],dark:vL[700]}:{main:"#ed6c02",light:vL[500],dark:vL[900]}}(n);function v(e){var t=function(e,t){var n=zP(e),r=zP(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,wL.text.primary)>=i?wL.text.primary:kL.text.primary;return t}var m=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=d({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(UP(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(UP(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return _L(t,"light",u,o),_L(t,"dark",c,o),t.contrastText||(t.contrastText=v(t.main)),t},g={dark:wL,light:kL};return TO(d({common:d({},fL),mode:n,primary:m({color:s,name:"primary"}),secondary:m({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:f,name:"info"}),success:m({color:h,name:"success"}),grey:dL,contrastThreshold:i,getContrastText:v,augmentColor:m,tonalOffset:o},g[n]),u)}var IL=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var SL={textTransform:"uppercase"},EL='"Roboto", "Helvetica", "Arial", sans-serif';function TL(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?EL:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,g=void 0===m?16:m,y=n.allVariants,b=n.pxToRem,k=Js(n,IL);var w=o/14,_=b||function(e){return"".concat(e/g*w,"rem")},x=function(e,t,n,r,a){return d({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===EL?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},I={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(h,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(h,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(h,14,1.75,.4,SL),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,SL)};return TO(d({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:v},I),k,{clone:!1})}function CL(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var NL=["none",CL(0,2,1,-1,0,1,1,0,0,1,3,0),CL(0,3,1,-2,0,2,2,0,0,1,5,0),CL(0,3,3,-2,0,3,4,0,0,1,8,0),CL(0,2,4,-1,0,4,5,0,0,1,10,0),CL(0,3,5,-1,0,5,8,0,0,1,14,0),CL(0,3,5,-1,0,6,10,0,0,1,18,0),CL(0,4,5,-2,0,7,10,1,0,2,16,1),CL(0,5,5,-3,0,8,10,1,0,3,14,2),CL(0,5,6,-3,0,9,12,1,0,3,16,2),CL(0,6,6,-3,0,10,14,1,0,4,18,3),CL(0,6,7,-4,0,11,15,1,0,4,20,3),CL(0,7,8,-4,0,12,17,2,0,5,22,4),CL(0,7,8,-4,0,13,19,2,0,5,24,4),CL(0,7,9,-4,0,14,21,2,0,5,26,4),CL(0,8,9,-5,0,15,22,2,0,6,28,5),CL(0,8,10,-5,0,16,24,2,0,6,30,5),CL(0,8,11,-5,0,17,26,2,0,6,32,5),CL(0,9,11,-5,0,18,28,2,0,7,34,6),CL(0,9,12,-6,0,19,29,2,0,7,36,6),CL(0,10,13,-6,0,20,31,3,0,8,38,7),CL(0,10,13,-6,0,21,33,3,0,8,40,7),CL(0,10,14,-6,0,22,35,3,0,8,42,7),CL(0,11,14,-7,0,23,36,3,0,9,44,8),CL(0,11,15,-7,0,24,38,3,0,9,46,8)],AL=["duration","easing","delay"],RL={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},PL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function DL(e){return"".concat(Math.round(e),"ms")}function OL(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function ML(e){var t=d({},RL,e.easing),n=d({},PL,e.duration);return d({getAutoHeightDuration:OL,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;Js(r,AL);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:DL(a)," ").concat(u," ").concat("string"===typeof c?c:DL(c))})).join(",")}},e,{easing:t,duration:n})}var LL={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},FL=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function jL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=Js(e,FL),l=xL(i),f=aM(e),h=TO(f,{mixins:lL(f.breakpoints,n),palette:l,shadows:NL.slice(),typography:TL(l,s),transitions:ML(o),zIndex:d({},LL)});h=TO(h,c);for(var p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return h=v.reduce((function(e,t){return TO(e,t)}),h)}var UL=jL(),BL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?cL:t,r=e.rootShouldForwardProp,i=void 0===r?sL:r,a=e.slotShouldForwardProp,o=void 0===a?sL:a,u=e.styleFunctionSx,s=void 0===u?eL:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,c=r.skipVariantsResolver,l=r.skipSx,h=r.overridesResolver,p=Js(r,tL),v=void 0!==c?c:u&&"Root"!==u||!1,m=l||!1;var g=sL;"Root"===u?g=i:u&&(g=o);var y=SO(e,d({shouldForwardProp:g,label:t},p)),b=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=Js(t,nL);return e(d({theme:iL(r)?n:r},i))}:e})):[],u=e;a&&h&&o.push((function(e){var t=iL(e.theme)?n:e.theme,r=aL(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=f(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(d({},e,{theme:t})):o})),h(e,i)}return null})),a&&!v&&o.push((function(e){var t=iL(e.theme)?n:e.theme;return uL(e,oL(a,t),t,a)})),m||o.push((function(e){var t=iL(e.theme)?n:e.theme;return s(d({},e,{theme:t}))}));var c=o.length-r.length;if(Array.isArray(e)&&c>0){var l=new Array(c).fill("");(u=[].concat(be(e),be(l))).raw=[].concat(be(e.raw),be(l))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=Js(t,rL);return e(d({theme:iL(r)?n:r},i))});var p=y.apply(void 0,[u].concat(be(o)));return p};return y.withConfig&&(b.withConfig=y.withConfig),b}}({defaultTheme:UL,rootShouldForwardProp:function(e){return sL(e)&&"classes"!==e}}),VL=BL;function qL(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=d({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}var zL=i.createContext(null);function WL(){return i.useContext(zL)}function GL(e){return 0===Object.keys(e).length}var HL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=WL();return!t||GL(t)?e:t},KL=aM();var QL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KL;return HL(e)};function YL(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return qL({theme:QL(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:UL})}var $L=LO,XL=function(e){return e},JL=function(){var e=XL;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=XL}}}(),ZL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function eF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=ZL[t];return r?"".concat(n,"-").concat(r):"".concat(JL.generate(e),"-").concat(t)}function tF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=eF(e,t,n)})),r}function nF(e){return eF("MuiPaper",e)}tF("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var rF=["className","component","elevation","square","variant"],iF=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},aF=VL("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return d({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&d({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(WP("#fff",iF(r.elevation)),", ").concat(WP("#fff",iF(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),oF=i.forwardRef((function(e,t){var n=YL({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,f=void 0===l?"elevation":l,h=Js(n,rF),p=d({},n,{component:a,elevation:u,square:c,variant:f}),v=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return jP({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},nF,i)}(p);return(0,sc.jsx)(aF,d({as:a,ownerState:p,className:FP(v.root,r),ref:t},h))})),uF=oF;function sF(e){return eF("MuiAlert",e)}var cF=tF("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function lF(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var fF=function(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){lF(e,n),lF(t,n)}}),[e,t])},dF="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var hF,pF=function(e){var t=i.useRef(e);return dF((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])},vF=!0,mF=!1,gF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function yF(e){e.metaKey||e.altKey||e.ctrlKey||(vF=!0)}function bF(){vF=!1}function kF(){"hidden"===this.visibilityState&&mF&&(vF=!0)}function wF(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return vF||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!gF[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var _F=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",yF,!0),t.addEventListener("mousedown",bF,!0),t.addEventListener("pointerdown",bF,!0),t.addEventListener("touchstart",bF,!0),t.addEventListener("visibilitychange",kF,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!wF(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(mF=!0,window.clearTimeout(hF),hF=window.setTimeout((function(){mF=!1}),100),t.current=!1,!0)},ref:e}};function xF(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var IF=i.createContext(null);function SF(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function EF(e,t,n){return null!=n[t]?n[t]:e.props[t]}function TF(e,t,n){var r=SF(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var u=a[o];if((0,i.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=(0,i.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,i.isValidElement)(l)&&(a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:EF(u,"exit",e),enter:EF(u,"enter",e)})):a[o]=(0,i.cloneElement)(u,{in:!1}):a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:EF(u,"exit",e),enter:EF(u,"enter",e)})}})),a}var CF=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},NF=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(ie(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}xS(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,SF(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:EF(e,"appear",n),enter:EF(e,"enter",n),exit:EF(e,"exit",n)})}))):TF(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=SF(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=d({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Js(e,["component","childFactory"]),a=this.state.contextValue,o=CF(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(IF.Provider,{value:a},o):i.createElement(IF.Provider,{value:a},i.createElement(t,r,o))},t}(i.Component);NF.propTypes={},NF.defaultProps={component:"div",childFactory:function(e){return e}};var AF=NF;a.useInsertionEffect?a.useInsertionEffect:i.useLayoutEffect;function RF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lO(t)}var PF=function(){var e=RF.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var DF=function(e){var t=e.className,n=e.classes,r=e.pulsate,a=void 0!==r&&r,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,d=e.timeout,h=f(i.useState(!1),2),p=h[0],v=h[1],m=FP(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},y=FP(n.child,p&&n.childLeaving,a&&n.childPulsate);return c||p||v(!0),i.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,d);return function(){clearTimeout(e)}}}),[l,c,d]),(0,sc.jsx)("span",{className:m,style:g,children:(0,sc.jsx)("span",{className:y})})};var OF,MF,LF,FF,jF,UF,BF,VF,qF=tF("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zF=["center","classes","className"],WF=PF(jF||(jF=OF||(OF=xF(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),GF=PF(UF||(UF=MF||(MF=xF(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),HF=PF(BF||(BF=LF||(LF=xF(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),KF=VL("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),QF=VL(DF,{name:"MuiTouchRipple",slot:"Ripple"})(VF||(VF=FF||(FF=xF(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),qF.rippleVisible,WF,550,(function(e){return e.theme.transitions.easing.easeInOut}),qF.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),qF.child,qF.childLeaving,GF,550,(function(e){return e.theme.transitions.easing.easeInOut}),qF.childPulsate,HF,(function(e){return e.theme.transitions.easing.easeInOut})),YF=i.forwardRef((function(e,t){var n=YL({props:e,name:"MuiTouchRipple"}),r=n.center,a=void 0!==r&&r,o=n.classes,u=void 0===o?{}:o,s=n.className,c=Js(n,zF),l=f(i.useState([]),2),h=l[0],p=l[1],v=i.useRef(0),m=i.useRef(null);i.useEffect((function(){m.current&&(m.current(),m.current=null)}),[h]);var g=i.useRef(!1),y=i.useRef(null),b=i.useRef(null),k=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var w=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat(be(e),[(0,sc.jsx)(QF,{classes:{ripple:FP(u.ripple,qF.ripple),rippleVisible:FP(u.rippleVisible,qF.rippleVisible),ripplePulsate:FP(u.ripplePulsate,qF.ripplePulsate),child:FP(u.child,qF.child),childLeaving:FP(u.childLeaving,qF.childLeaving),childPulsate:FP(u.childPulsate,qF.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,m.current=a}),[u]),_=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&g.current)g.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(g.current=!0);var l,f,d,h=c?null:k.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,_=v.clientY;l=Math.round(m-p.left),f=Math.round(_-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var x=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,I=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(x,2)+Math.pow(I,2))}null!=e&&e.touches?null===b.current&&(b.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,w]),x=i.useCallback((function(){_({},{pulsate:!0})}),[_]),I=i.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===(null==e?void 0:e.type)&&b.current)return b.current(),b.current=null,void(y.current=setTimeout((function(){I(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:x,start:_,stop:I}}),[x,_,I]),(0,sc.jsx)(KF,d({className:FP(u.root,qF.root,s),ref:k},c,{children:(0,sc.jsx)(AF,{component:null,exit:!0,children:h})}))})),$F=YF;function XF(e){return eF("MuiButtonBase",e)}var JF,ZF=tF("MuiButtonBase",["root","disabled","focusVisible"]),ej=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],tj=VL("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((ke(JF={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(ZF.disabled),{pointerEvents:"none",cursor:"default"}),ke(JF,"@media print",{colorAdjust:"exact"}),JF)),nj=i.forwardRef((function(e,t){var n=YL({props:e,name:"MuiButtonBase"}),r=n.action,a=n.centerRipple,o=void 0!==a&&a,u=n.children,s=n.className,c=n.component,l=void 0===c?"button":c,h=n.disabled,p=void 0!==h&&h,v=n.disableRipple,m=void 0!==v&&v,g=n.disableTouchRipple,y=void 0!==g&&g,b=n.focusRipple,k=void 0!==b&&b,w=n.LinkComponent,_=void 0===w?"a":w,x=n.onBlur,I=n.onClick,S=n.onContextMenu,E=n.onDragLeave,T=n.onFocus,C=n.onFocusVisible,N=n.onKeyDown,A=n.onKeyUp,R=n.onMouseDown,P=n.onMouseLeave,D=n.onMouseUp,O=n.onTouchEnd,M=n.onTouchMove,L=n.onTouchStart,F=n.tabIndex,j=void 0===F?0:F,U=n.TouchRippleProps,B=n.touchRippleRef,V=n.type,q=Js(n,ej),z=i.useRef(null),W=i.useRef(null),G=fF(W,B),H=_F(),K=H.isFocusVisibleRef,Q=H.onFocus,Y=H.onBlur,$=H.ref,X=f(i.useState(!1),2),J=X[0],Z=X[1];p&&J&&Z(!1),i.useImperativeHandle(r,(function(){return{focusVisible:function(){Z(!0),z.current.focus()}}}),[]);var ee=f(i.useState(!1),2),te=ee[0],ne=ee[1];i.useEffect((function(){ne(!0)}),[]);var re=te&&!m&&!p;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return pF((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}i.useEffect((function(){J&&k&&!m&&te&&W.current.pulsate()}),[m,k,J,te]);var ae=ie("start",R),oe=ie("stop",S),ue=ie("stop",E),se=ie("stop",D),ce=ie("stop",(function(e){J&&e.preventDefault(),P&&P(e)})),le=ie("start",L),fe=ie("stop",O),de=ie("stop",M),he=ie("stop",(function(e){Y(e),!1===K.current&&Z(!1),x&&x(e)}),!1),pe=pF((function(e){z.current||(z.current=e.currentTarget),Q(e),!0===K.current&&(Z(!0),C&&C(e)),T&&T(e)})),ve=function(){var e=z.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},me=i.useRef(!1),ge=pF((function(e){k&&!me.current&&J&&W.current&&" "===e.key&&(me.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&ve()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&ve()&&"Enter"===e.key&&!p&&(e.preventDefault(),I&&I(e))})),ye=pF((function(e){k&&" "===e.key&&W.current&&J&&!e.defaultPrevented&&(me.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),A&&A(e),I&&e.target===e.currentTarget&&ve()&&" "===e.key&&!e.defaultPrevented&&I(e)})),be=l;"button"===be&&(q.href||q.to)&&(be=_);var ke={};"button"===be?(ke.type=void 0===V?"button":V,ke.disabled=p):(q.href||q.to||(ke.role="button"),p&&(ke["aria-disabled"]=p));var we=fF($,z),_e=fF(t,we);var xe=d({},n,{centerRipple:o,component:l,disabled:p,disableRipple:m,disableTouchRipple:y,focusRipple:k,tabIndex:j,focusVisible:J}),Ie=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=jP({root:["root",t&&"disabled",n&&"focusVisible"]},XF,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(xe);return(0,sc.jsxs)(tj,d({as:be,className:FP(Ie.root,s),ownerState:xe,onBlur:he,onClick:I,onContextMenu:oe,onFocus:pe,onKeyDown:ge,onKeyUp:ye,onMouseDown:ae,onMouseLeave:ce,onMouseUp:se,onDragLeave:ue,onTouchEnd:fe,onTouchMove:de,onTouchStart:le,ref:_e,tabIndex:p?-1:j,type:V},ke,q,{children:[u,re?(0,sc.jsx)($F,d({ref:G,center:o},U)):null]}))})),rj=nj;function ij(e){return eF("MuiIconButton",e)}var aj=tF("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),oj=["edge","children","className","color","disabled","disableFocusRipple","size"],uj=VL(rj,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat($L(n.color))],n.edge&&t["edge".concat($L(n.edge))],t["size".concat($L(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return d({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.active," / ").concat(t.vars.palette.action.hoverOpacity,")"):WP(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return d({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&d({color:(t.vars||t).palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):WP(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},ke({},"&.".concat(aj.disabled),{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}))})),sj=i.forwardRef((function(e,t){var n=YL({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,h=void 0!==f&&f,p=n.size,v=void 0===p?"medium":p,m=Js(n,oj),g=d({},n,{edge:i,color:s,disabled:l,disableFocusRipple:h,size:v}),y=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return jP({root:["root",n&&"disabled","default"!==r&&"color".concat($L(r)),i&&"edge".concat($L(i)),"size".concat($L(a))]},ij,t)}(g);return(0,sc.jsx)(uj,d({className:FP(y.root,o),centerRipple:!0,focusRipple:!h,disabled:l,ref:t,ownerState:g},m,{children:a}))})),cj=sj;function lj(e){return eF("MuiSvgIcon",e)}tF("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var fj=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],dj=VL("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat($L(n.color))],t["fontSize".concat($L(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=y.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=y.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=y.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(d=(y.vars||y).palette)||null==(h=d[b.color])?void 0:h.main)?f:{action:null==(p=(y.vars||y).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(y.vars||y).palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),hj=i.forwardRef((function(e,t){var n=YL({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,h=n.inheritViewBox,p=void 0!==h&&h,v=n.titleAccess,m=n.viewBox,g=void 0===m?"0 0 24 24":m,y=Js(n,fj),b=d({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:g}),k={};p||(k.viewBox=g);var w=function(e){var t=e.color,n=e.fontSize,r=e.classes;return jP({root:["root","inherit"!==t&&"color".concat($L(t)),"fontSize".concat($L(n))]},lj,r)}(b);return(0,sc.jsxs)(dj,d({as:s,className:FP(w.root,i),ownerState:b,focusable:"false",color:f,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},k,y,{children:[r,v?(0,sc.jsx)("title",{children:v}):null]}))}));hj.muiName="SvgIcon";var pj=hj;function vj(e,t){var n=function(n,r){return(0,sc.jsx)(pj,d({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=pj.muiName,i.memo(i.forwardRef(n))}var mj,gj=vj((0,sc.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),yj=vj((0,sc.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),bj=vj((0,sc.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),kj=vj((0,sc.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),wj=vj((0,sc.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_j=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],xj=VL(uF,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat($L(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?GP:HP,i="light"===t.palette.mode?HP:GP,a=n.color||n.severity;return d({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===n.variant&&ke({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:i(t.palette[a].light,.9)},"& .".concat(cF.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:"dark"===t.palette.mode?t.palette[a].main:t.palette[a].light}),a&&"outlined"===n.variant&&ke({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),border:"1px solid ".concat((t.vars||t).palette[a].light)},"& .".concat(cF.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:"dark"===t.palette.mode?t.palette[a].main:t.palette[a].light}),a&&"filled"===n.variant&&d({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(a,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(a,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText("dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main)}))})),Ij=VL("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Sj=VL("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ej=VL("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Tj={success:(0,sc.jsx)(gj,{fontSize:"inherit"}),warning:(0,sc.jsx)(yj,{fontSize:"inherit"}),error:(0,sc.jsx)(bj,{fontSize:"inherit"}),info:(0,sc.jsx)(kj,{fontSize:"inherit"})},Cj=i.forwardRef((function(e,t){var n=YL({props:e,name:"MuiAlert"}),r=n.action,i=n.children,a=n.className,o=n.closeText,u=void 0===o?"Close":o,s=n.color,c=n.icon,l=n.iconMapping,f=void 0===l?Tj:l,h=n.onClose,p=n.role,v=void 0===p?"alert":p,m=n.severity,g=void 0===m?"success":m,y=n.variant,b=void 0===y?"standard":y,k=Js(n,_j),w=d({},n,{color:s,severity:g,variant:b}),_=function(e){var t=e.variant,n=e.color,r=e.severity,i=e.classes;return jP({root:["root","".concat(t).concat($L(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},sF,i)}(w);return(0,sc.jsxs)(xj,d({role:v,elevation:0,ownerState:w,className:FP(_.root,a),ref:t},k,{children:[!1!==c?(0,sc.jsx)(Ij,{ownerState:w,className:_.icon,children:c||f[g]||Tj[g]}):null,(0,sc.jsx)(Sj,{ownerState:w,className:_.message,children:i}),null!=r?(0,sc.jsx)(Ej,{ownerState:w,className:_.action,children:r}):null,null==r&&h?(0,sc.jsx)(Ej,{ownerState:w,className:_.action,children:(0,sc.jsx)(cj,{size:"small","aria-label":u,title:u,color:"inherit",onClick:h,children:mj||(mj=(0,sc.jsx)(wj,{fontSize:"small"}))})}):null]}))})),Nj=Cj;var Aj=fP((function(e){return{lang:e.lang.lang,isDarkTheme:e.theme.isDarkTheme}}))((function(e){var t=f((0,i.useState)(!1),2),r=t[0],a=t[1],o=f((0,i.useState)({email:"",password:""}),2),u=o[0],s=o[1],c=(0,i.useContext)(CY),l=c.auth,d=(c.firestore,f((0,i.useState)(!1),2)),h=d[0],p=d[1];return(0,sc.jsx)("div",{className:SP.loginContainer,children:(0,sc.jsxs)("div",{className:SP.login,children:[r?(0,sc.jsx)(Nj,{severity:"warning",children:r}):"",(0,sc.jsxs)("div",{className:SP.title,children:[(0,sc.jsx)("img",{src:n(137)}),(0,sc.jsx)("div",{children:e.lang?"Log in to TODO":"\u0417\u0430\u0439\u0442\u0438"})]}),(0,sc.jsxs)("form",{style:{display:"flex",textAlign:"center",flexDirection:"column",height:"auto",marginTop:"3px",justifyContent:"space-between"},children:[(0,sc.jsx)(MP,{onChange:function(e){return s((function(t){return Tt(Tt({},t),{},{email:e.target.value})}))},label:e.lang?"Email":"\u041f\u043e\u0447\u0442\u0430",type:"text"}),(0,sc.jsx)("div",{className:SP.accordion,children:(0,sc.jsx)("div",{className:SP.accordionItem,children:(0,sc.jsx)("div",{className:h?SP.content+" "+SP.active:SP.content,children:(0,sc.jsx)("div",{className:h?SP.contentInner+" "+SP.active:SP.contentInner,children:(0,sc.jsx)(MP,{onChange:function(e){return s((function(t){return Tt(Tt({},t),{},{password:e.target.value})}))},label:e.lang?"Password":"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"})})})})}),(0,sc.jsx)("button",{onClick:function(e){e.preventDefault(),h?Xa(l,u.email,u.password).then((function(e){e.user})).catch((function(e){e.code,e.message,a(e.message)})):p(!0)},className:SP.next,children:h?e.lang?"Sign In":"\u0417\u0430\u0439\u0442\u0438":e.lang?"Next":"\u0414\u0430\u043b\u044c\u0448\u0435"})]}),(0,sc.jsx)(ee,{style:{margin:"10px auto",fontSize:"12px"},to:"/signup",children:e.lang?"Still don't have an acc?":"\u0414\u043e \u0441\u0438\u0445 \u043f\u043e\u0440 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"})]})})})),Rj="Signup_signUpContainer__6kpo4",Pj="Signup_signup__SwcLr",Dj="Signup_title__l1HbX",Oj="Signup_btn__wZttF";var Mj=fP((function(e){return{lang:e.lang.lang,isDarkTheme:e.theme.isDarkTheme}}))((function(e){var t=f((0,i.useState)({email:"",password:"",login:"",age:""}),2),r=t[0],a=t[1],o=f((0,i.useState)(""),2),u=(o[0],o[1]),s=(0,i.useContext)(CY),c=s.auth,l=s.firestore,d=function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.prev=1,e.next=4,Ya(c,r.email,r.password).then(function(){var e=pe(de().mark((function e(t){var n,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={name:r.login,email:r.email,uid:t.user.uid,age:r.age,phone:"",photo:"https://i.ibb.co/YRHhgDn/ava.png",tasks:[]},console.log(n),i=Mx(l,"users","".concat(t.user.uid)),e.next=6,oS(i,n);case 6:return a=Mx(l,"tasks","".concat(t.user.uid)),e.next=9,oS(a,[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),u(e.t0.message),console.log(e.t0.message);case 10:a({email:"",password:"",login:""});case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return(0,sc.jsx)("div",{className:Rj,children:(0,sc.jsxs)("div",{className:Pj,children:[(0,sc.jsxs)("div",{className:Dj,children:[(0,sc.jsx)("img",{src:n(137)}),(0,sc.jsx)("div",{children:e.lang?"Sign up for TODO":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),(0,sc.jsxs)("form",{style:{display:"flex",textAlign:"center",flexDirection:"column",height:"auto",marginTop:"3px",justifyContent:"space-between"},children:[(0,sc.jsx)(MP,{visible:!0,onChange:function(e){return a((function(t){return Tt(Tt({},t),{},{login:e.target.value})}))},label:e.lang?"Name":"\u0418\u043c\u044f",type:"text"}),(0,sc.jsx)(MP,{visible:!0,onChange:function(e){return a((function(t){return Tt(Tt({},t),{},{age:e.target.value})}))},label:e.lang?"Age":"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",type:"text"}),(0,sc.jsx)(MP,{visible:!0,onChange:function(e){return a((function(t){return Tt(Tt({},t),{},{email:e.target.value})}))},label:e.lang?"Email":"\u041f\u043e\u0447\u0442\u0430",type:"text"}),(0,sc.jsx)(MP,{visible:!0,onChange:function(e){return a((function(t){return Tt(Tt({},t),{},{password:e.target.value})}))},label:e.lang?"Password":"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),(0,sc.jsx)("button",{onClick:function(e){e.preventDefault(),d()},className:Oj,children:e.lang?"Sign Up":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),(0,sc.jsx)(ee,{style:{margin:"10px auto",fontSize:"12px"},to:"/login",children:e.lang?"I already have an acc":"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})})}));var Lj=fP((function(e){return{lang:e.lang.lang,isDarkTheme:e.theme.isDarkTheme}}))((function(e){return(0,sc.jsx)("div",{children:(0,sc.jsxs)("div",{className:e.isDarkTheme?"attribution":"attribution lightAttr",children:[(0,sc.jsxs)("div",{children:["Challenge by ",(0,sc.jsx)("a",{href:"https://www.frontendmentor.io?ref=challenge",target:"_blank",children:"Frontend Mentor"}),". "]}),(0,sc.jsxs)("div",{children:["Coded by ",(0,sc.jsx)("a",{target:"_blank",href:"https://github.com/checkforants",children:"checkforants"})]}),(0,sc.jsxs)("div",{children:["Authentication & Database : ",(0,sc.jsx)("a",{target:"_blank",href:"https://firebase.google.com/",children:" firebase "})]}),(0,sc.jsx)("div",{children:(0,sc.jsx)("a",{target:"_blank",href:"https://www.flaticon.com/ru/free-icon/planner_7195709",title:"\u043f\u0440\u0430\u0432\u0434\u0430 \u0438\u043a\u043e\u043d\u043a\u0438",children:"Icon"})}),(0,sc.jsxs)("div",{children:[" ",(0,sc.jsx)("a",{target:"_blank",href:"https://github.com/atlassian/react-beautiful-dnd",children:"Drag engine"})," "]}),(0,sc.jsxs)("div",{children:[" ",(0,sc.jsx)("a",{target:"_blank",href:"https://jfelix.info/blog/using-react-spring-to-animate-svg-icons-dark-mode-toggle",children:"Dark Mode Toggle"})]}),(0,sc.jsxs)("div",{children:[(0,sc.jsx)("a",{target:"_blank",href:"https://icons8.com/icon/47978/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})," icon by ",(0,sc.jsx)("a",{target:"_blank",href:"https://icons8.com",children:"Icons8"})]})]})})})),Fj=function(e){var t=(0,i.useContext)(CY).auth;return f($s(t),1)[0]?(0,sc.jsxs)(Q,{children:[(0,sc.jsx)(H,{exact:!0,path:"/tasks",element:(0,sc.jsx)(IP,{})}),(0,sc.jsx)(H,{exact:!0,path:"/about",element:(0,sc.jsx)(Lj,{})}),(0,sc.jsx)(H,{path:"*",element:(0,sc.jsx)(G,{replace:!0,to:"/tasks"})})]}):(0,sc.jsxs)(Q,{children:[(0,sc.jsx)(H,{exact:!0,path:"/login",element:(0,sc.jsx)(Aj,{})}),(0,sc.jsx)(H,{exact:!0,path:"/signup",element:(0,sc.jsx)(Mj,{})}),(0,sc.jsx)(H,{exact:!0,path:"/about",element:(0,sc.jsx)(Lj,{})}),(0,sc.jsx)(H,{path:"*",element:(0,sc.jsx)(G,{replace:!0,to:"/login"})})]})},jj="UpTitle_block__bg4JP",Uj="UpTitle_title__Zv5mL",Bj="UpTitle_exitBtn__8j8pr",Vj=rU(),qj=function(e){return Zj(e,Vj)},zj=rU();qj.write=function(e){return Zj(e,zj)};var Wj=rU();qj.onStart=function(e){return Zj(e,Wj)};var Gj=rU();qj.onFrame=function(e){return Zj(e,Gj)};var Hj=rU();qj.onFinish=function(e){return Zj(e,Hj)};var Kj=[];qj.setTimeout=function(e,t){var n=qj.now()+t,r={time:n,handler:e,cancel:function e(){var t=Kj.findIndex((function(t){return t.cancel==e}));~t&&Kj.splice(t,1),Xj-=~t?1:0}};return Kj.splice(Qj(n),0,r),Xj+=1,eU(),r};var Qj=function(e){return~(~Kj.findIndex((function(t){return t.time>e}))||~Kj.length)};qj.cancel=function(e){Wj.delete(e),Gj.delete(e),Vj.delete(e),zj.delete(e),Hj.delete(e)},qj.sync=function(e){Jj=!0,qj.batchedUpdates(e),Jj=!1},qj.throttle=function(e){var t;function n(){try{e.apply(void 0,be(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,qj.onStart(n)}return r.handler=e,r.cancel=function(){Wj.delete(n),t=null},r};var Yj="undefined"!=typeof window?window.requestAnimationFrame:function(){};qj.use=function(e){return Yj=e},qj.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,qj.batchedUpdates=function(e){return e()},qj.catch=console.error,qj.frameLoop="always",qj.advance=function(){"demand"!==qj.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):nU()};var $j=-1,Xj=0,Jj=!1;function Zj(e,t){Jj?(t.delete(e),e(0)):(t.add(e),eU())}function eU(){$j<0&&($j=0,"demand"!==qj.frameLoop&&Yj(tU))}function tU(){~$j&&(Yj(tU),qj.batchedUpdates(nU))}function nU(){var e=$j;$j=qj.now();var t=Qj($j);t&&(iU(Kj.splice(0,t),(function(e){return e.handler()})),Xj-=t),Wj.flush(),Vj.flush(e?Math.min(64,$j-e):16.667),Gj.flush(),zj.flush(),Hj.flush(),Xj||($j=-1)}function rU(){var e=new Set,t=e;return{add:function(n){Xj+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return Xj-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,Xj-=t.size,iU(t,(function(t){return t(n)&&e.add(t)})),Xj+=e.size,t=e)}}}function iU(e,t){e.forEach((function(e){try{t(e)}catch(n){qj.catch(n)}}))}function aU(){}var oU={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function uU(e,t){if(oU.arr(e)){if(!oU.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var sU=function(e,t){return e.forEach(t)};function cU(e,t,n){if(oU.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var lU=function(e){return oU.und(e)?[]:oU.arr(e)?e:[e]};function fU(e,t){if(e.size){var n=Array.from(e);e.clear(),sU(n,t)}}var dU,hU,pU=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fU(e,(function(e){return e.apply(void 0,n)}))},vU=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},mU=null,gU=!1,yU=aU,bU=Object.freeze({__proto__:null,get createStringInterpolator(){return dU},get to(){return hU},get colors(){return mU},get skipAnimation(){return gU},get willAdvance(){return yU},assign:function(e){e.to&&(hU=e.to),e.now&&(qj.now=e.now),void 0!==e.colors&&(mU=e.colors),null!=e.skipAnimation&&(gU=e.skipAnimation),e.createStringInterpolator&&(dU=e.createStringInterpolator),e.requestAnimationFrame&&qj.use(e.requestAnimationFrame),e.batchedUpdates&&(qj.batchedUpdates=e.batchedUpdates),e.willAdvance&&(yU=e.willAdvance),e.frameLoop&&(qj.frameLoop=e.frameLoop)}}),kU=new Set,wU=[],_U=[],xU=0,IU={get idle(){return!kU.size&&!wU.length},start:function(e){xU>e.priority?(kU.add(e),qj.onStart(SU)):(EU(e),qj(CU))},advance:CU,sort:function(e){if(xU)qj.onFrame((function(){return IU.sort(e)}));else{var t=wU.indexOf(e);~t&&(wU.splice(t,1),TU(e))}},clear:function(){wU=[],kU.clear()}};function SU(){kU.forEach(EU),kU.clear(),qj(CU)}function EU(e){wU.includes(e)||TU(e)}function TU(e){wU.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(wU,(function(t){return t.priority>e.priority})),0,e)}function CU(e){for(var t=_U,n=0;n<wU.length;n++){var r=wU[n];xU=r.priority,r.idle||(yU(r),r.advance(e),r.idle||t.push(r))}return xU=0,(_U=wU).length=0,(wU=t).length>0}var NU="[-+]?\\d*\\.?\\d+",AU=NU+"%";function RU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var PU=new RegExp("rgb"+RU(NU,NU,NU)),DU=new RegExp("rgba"+RU(NU,NU,NU,NU)),OU=new RegExp("hsl"+RU(NU,AU,AU)),MU=new RegExp("hsla"+RU(NU,AU,AU,NU)),LU=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,FU=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,jU=/^#([0-9a-fA-F]{6})$/,UU=/^#([0-9a-fA-F]{8})$/;function BU(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function VU(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=BU(i,r,e+1/3),o=BU(i,r,e),u=BU(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*u)<<8}function qU(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function zU(e){return(parseFloat(e)%360+360)%360/360}function WU(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function GU(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function HU(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=jU.exec(e))?parseInt(t[1]+"ff",16)>>>0:mU&&void 0!==mU[e]?mU[e]:(t=PU.exec(e))?(qU(t[1])<<24|qU(t[2])<<16|qU(t[3])<<8|255)>>>0:(t=DU.exec(e))?(qU(t[1])<<24|qU(t[2])<<16|qU(t[3])<<8|WU(t[4]))>>>0:(t=LU.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=UU.exec(e))?parseInt(t[1],16)>>>0:(t=FU.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=OU.exec(e))?(255|VU(zU(t[1]),GU(t[2]),GU(t[3])))>>>0:(t=MU.exec(e))?(VU(zU(t[1]),GU(t[2]),GU(t[3]))|WU(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var KU=function e(t,n,r){if(oU.fun(t))return t;if(oU.arr(t))return e({range:t,output:n,extrapolate:r});if(oU.str(t.output[0]))return dU(t);var i=t,a=i.output,o=i.range||[0,1],u=i.extrapolateLeft||i.extrapolate||"extend",s=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,u,s){var c=s?s(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===u)return c;"clamp"===u&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],a[t],a[t+1],c,u,s,i.map)}};function QU(){return QU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QU.apply(this,arguments)}var YU=Symbol.for("FluidValue.get"),$U=Symbol.for("FluidValue.observers"),XU=function(e){return Boolean(e&&e[YU])},JU=function(e){return e&&e[YU]?e[YU]():e},ZU=function(e){return e[$U]||null};function eB(e,t){var n=e[$U];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var tB=ge((function e(t){if(ve(this,e),this[YU]=void 0,this[$U]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");nB(this,t)})),nB=function(e,t){return oB(e,YU,t)};function rB(e,t){if(e[YU]){var n=e[$U];n||oB(e,$U,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function iB(e,t){var n=e[$U];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[$U]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var aB,oB=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},uB=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,sB=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,cB=new RegExp("(".concat(uB.source,")(%|[a-z]+)"),"i"),lB=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,fB=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,dB=function e(t){var n=f(hB(t),2),r=n[0],i=n[1];if(!r||vU())return t;var a=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(a)return a.trim();if(i&&i.startsWith("--")){var o=window.getComputedStyle(document.documentElement).getPropertyValue(i);return o||t}return i&&fB.test(i)?e(i):i||t},hB=function(e){var t=fB.exec(e);if(!t)return[,];var n=f(t,3);return[n[1],n[2]]},pB=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},vB=function(e){aB||(aB=mU?new RegExp("(".concat(Object.keys(mU).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return JU(e).replace(fB,dB).replace(sB,HU).replace(aB,HU)})),n=t.map((function(e){return e.match(uB).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})),i=r.map((function(t){return KU(QU({},e,{output:t}))}));return function(e){var n,r=!cB.test(t[0])&&(null==(n=t.find((function(e){return cB.test(e)})))?void 0:n.replace(uB,"")),a=0;return t[0].replace(uB,(function(){return"".concat(i[a++](e)).concat(r||"")})).replace(lB,pB)}},mB="react-spring: ",gB=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(mB,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},yB=gB(console.warn);function bB(){yB("".concat(mB,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var kB=gB(console.warn);function wB(e){return oU.str(e)&&("#"==e[0]||/\d/.test(e)||!vU()&&fB.test(e)||e in(mU||{}))}var _B="undefined"!==typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect;function xB(){var e=(0,i.useState)()[1],t=function(){var e=(0,i.useRef)(!1);return _B((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();return function(){t.current&&e(Math.random())}}var IB=function(e){return(0,i.useEffect)(e,SB)},SB=[];function EB(e){var t=(0,i.useRef)();return(0,i.useEffect)((function(){t.current=e})),t.current}var TB=Symbol.for("Animated:node"),CB=function(e){return e&&e[TB]},NB=function(e,t){return n=e,r=TB,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},AB=function(e){return e&&e[TB]&&e[TB].getPayload()},RB=function(){function e(){ve(this,e),this.payload=void 0,NB(this,this)}return ge(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),PB=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,oU.num(r._value)&&(r.lastPosition=r._value),r}return ge(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return oU.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,oU.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(RB),DB=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=KU({output:[e,e]}),r}return ge(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(oU.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!re(te(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=KU({output:[this.getValue(),e]})),this._value=0,re(te(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(PB),OB={dependencies:null},MB=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return ge(n,[{key:"getValue",value:function(e){var t={};return cU(this.source,(function(n,r){var i;(i=n)&&i[TB]===i?t[r]=n.getValue(e):XU(n)?t[r]=JU(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&sU(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return cU(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;OB.dependencies&&XU(e)&&OB.dependencies.add(e);var n=AB(e);n&&sU(n,(function(e){return t.add(e)}))}}]),n}(RB),LB=function(e){oe(n,e);var t=le(n);function n(e){return ve(this,n),t.call(this,e)}return ge(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(re(te(n.prototype),"setValue",this).call(this,e.map(FB)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(MB);function FB(e){return(wB(e)?DB:PB).create(e)}function jB(e){var t=CB(e);return t?t.constructor:oU.arr(e)?LB:wB(e)?DB:PB}function UB(){return UB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UB.apply(this,arguments)}var BB=function(e,t){var n=!oU.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,i.forwardRef)((function(r,a){var o=(0,i.useRef)(null),u=n&&(0,i.useCallback)((function(e){o.current=function(e,t){e&&(oU.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),s=function(e,t){var n=new Set;OB.dependencies=n,e.style&&(e=UB({},e,{style:t.createAnimatedStyle(e.style)}));return e=new MB(e),OB.dependencies=null,[e,n]}(r,t),c=f(s,2),l=c[0],d=c[1],h=xB(),p=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&h()},v=new VB(p,d),m=(0,i.useRef)();_B((function(){return m.current=v,sU(d,(function(e){return rB(e,v)})),function(){m.current&&(sU(m.current.deps,(function(e){return iB(e,m.current)})),qj.cancel(m.current.update))}})),(0,i.useEffect)(p,[]),IB((function(){return function(){var e=m.current;sU(e.deps,(function(t){return iB(t,e)}))}}));var g=t.getComponentProps(l.getValue());return i.createElement(e,UB({},g,{ref:u}))}))},VB=function(){function e(t,n){ve(this,e),this.update=t,this.deps=n}return ge(e,[{key:"eventObserved",value:function(e){"change"==e.type&&qj.write(this.update)}}]),e}();var qB=Symbol.for("AnimatedComponent"),zB=function(e){return oU.str(e)?e:e&&oU.str(e.displayName)?e.displayName:oU.fun(e)&&e.name||null};function WB(){return WB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WB.apply(this,arguments)}function GB(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oU.fun(e)?e.apply(void 0,n):e}var HB=function(e,t){return!0===e||!!(t&&e&&(oU.fun(e)?e(t):lU(e).includes(t)))},KB=function(e,t){return oU.obj(e)?t&&e[t]:e},QB=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},YB=function(e){return e},$B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YB,n=XB;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=fe(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=t(e[o],o);oU.und(u)||(i[o]=u)}}catch(s){a.e(s)}finally{a.f()}return i},XB=["config","onProps","onStart","onChange","onPause","onResume","onRest"],JB={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ZB(e){var t=function(e){var t={},n=0;if(cU(e,(function(e,r){JB[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return cU(e,(function(e,r){return r in t||(n[r]=e)})),n}return WB({},e)}function eV(e){return e=JU(e),oU.arr(e)?e.map(eV):wB(e)?bU.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function tV(e){for(var t in e)return!0;return!1}function nV(e){return oU.fun(e)||oU.arr(e)&&oU.obj(e[0])}function rV(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function iV(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var aV=1.70158,oV=1.525*aV,uV=aV+1,sV=2*Math.PI/3,cV=2*Math.PI/4.5,lV=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},fV={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return uV*e*e*e-aV*e*e},easeOutBack:function(e){return 1+uV*Math.pow(e-1,3)+aV*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-oV)/2:(Math.pow(2*e-2,2)*((oV+1)*(2*e-2)+oV)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*sV)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*sV)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*cV)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*cV)/2+1},easeInBounce:function(e){return 1-lV(1-e)},easeOutBounce:lV,easeInOutBounce:function(e){return e<.5?(1-lV(1-2*e))/2:(1+lV(2*e-1))/2}},dV=WB({},{tension:170,friction:26},{mass:1,damping:1,easing:fV.linear,clamp:!1}),hV=ge((function e(){ve(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,dV)}));function pV(e,t){if(oU.und(t.decay)){var n=!oU.und(t.tension)||!oU.und(t.friction);!n&&oU.und(t.frequency)&&oU.und(t.damping)&&oU.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var vV=[],mV=ge((function e(){ve(this,e),this.changed=!1,this.values=vV,this.toValues=null,this.fromValues=vV,this.to=void 0,this.from=void 0,this.config=new hV,this.immediate=!1}));function gV(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,u){var s,c,l,f=HB(null!=(s=r.cancel)?s:null==i?void 0:i.cancel,n);if(f)v();else{oU.und(r.pause)||(a.paused=HB(r.pause,n));var d=null==i?void 0:i.pause;!0!==d&&(d=a.paused||HB(d,n)),c=GB(r.delay||0,n),d?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function h(){a.resumeQueue.add(p),a.timeouts.delete(l),l.cancel(),c=l.time-qj.now()}function p(){c>0&&!bU.skipAnimation?(a.delayed=!0,l=qj.setTimeout(v,c),a.pauseQueue.add(h),a.timeouts.add(l)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(h),a.timeouts.delete(l),e<=(a.cancelId||0)&&(f=!0);try{o.start(WB({},r,{callId:e,cancel:f}),t)}catch(n){u(n)}}}))}var yV=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?wV(e.get()):t.every((function(e){return e.noop}))?bV(e.get()):kV(e.get(),t.every((function(e){return e.finished})))},bV=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},kV=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},wV=function(e){return{value:e,cancelled:!0,finished:!1}};function _V(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,u=n.asyncTo,s=n.promise;return a||e!==u||t.reset?n.promise=pe(de().mark((function c(){var l,f,d,h,p,v,m,g;return de().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=$B(t,(function(e,t){return"onRest"===t?void 0:e})),h=new Promise((function(e,t){return f=e,d=t})),p=function(e){var t=i<=(n.cancelId||0)&&wV(r)||i!==n.asyncId&&kV(r,!1);if(t)throw e.result=t,d(e),e},v=function(e,t){var a=new IV,o=new SV;return pe(de().mark((function u(){var s,c;return de().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(!bU.skipAnimation){u.next=5;break}throw xV(n),o.result=kV(r,!1),d(o),o;case 5:return p(a),(s=oU.obj(e)?WB({},e):WB({},t,{to:e})).parentId=i,cU(l,(function(e,t){oU.und(s[t])&&(s[t]=e)})),u.next=11,r.start(s);case 11:if(c=u.sent,p(a),!n.paused){u.next=16;break}return u.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return u.abrupt("return",c);case 17:case"end":return u.stop()}}),u)})))()},!bU.skipAnimation){c.next=9;break}return xV(n),c.abrupt("return",kV(r,!1));case 9:return c.prev=9,g=oU.arr(e)?function(){var e=pe(de().mark((function e(t){var n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fe(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,v(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,r.stop.bind(r))),c.next=13,Promise.all([g.then(f),h]);case 13:m=kV(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof IV)){c.next=22;break}m=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof SV)){c.next=26;break}m=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?u:void 0,n.promise=a?s:void 0),c.finish(27);case 30:return oU.fun(o)&&qj.batchedUpdates((function(){o(m,r,r.item)})),c.abrupt("return",m);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():s}function xV(e,t){fU(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var IV=function(e){oe(n,e);var t=le(n);function n(){var e;return ve(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return ge(n)}(_e(Error)),SV=function(e){oe(n,e);var t=le(n);function n(){var e;return ve(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return ge(n)}(_e(Error)),EV=function(e){return e instanceof CV},TV=1,CV=function(e){oe(n,e);var t=le(n);function n(){var e;ve(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=TV++,e.key=void 0,e._priority=0,e}return ge(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=CB(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bU.to(this,t)}},{key:"interpolate",value:function(){bB();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bU.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eB(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||IU.sort(this),eB(this,{type:"priority",parent:this,priority:e})}}]),n}(tB),NV=Symbol.for("SpringPhase"),AV=function(e){return(1&e[NV])>0},RV=function(e){return(2&e[NV])>0},PV=function(e){return(4&e[NV])>0},DV=function(e,t){return t?e[NV]|=3:e[NV]&=-3},OV=function(e,t){return t?e[NV]|=4:e[NV]&=-5},MV=function(e){oe(n,e);var t=le(n);function n(e,r){var i;if(ve(this,n),(i=t.call(this)).key=void 0,i.animation=new mV,i.queue=void 0,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!oU.und(e)||!oU.und(r)){var a=oU.obj(e)?WB({},e):WB({},r,{from:e});oU.und(a.default)&&(a.default=!0),i.start(a)}return i}return ge(n,[{key:"idle",get:function(){return!(RV(this)||this._state.asyncTo)||PV(this)}},{key:"goal",get:function(){return JU(this.animation.to)}},{key:"velocity",get:function(){var e=CB(this);return e instanceof PB?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return AV(this)}},{key:"isAnimating",get:function(){return RV(this)}},{key:"isPaused",get:function(){return PV(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,u=AB(i.to);!u&&XU(i.to)&&(o=lU(JU(i.to))),i.values.forEach((function(s,c){if(!s.done){var l=s.constructor==DB?1:u?u[c].lastPosition:o[c],f=i.immediate,d=l;if(!f){if(d=s.lastPosition,a.tension<=0)return void(s.done=!0);var h,p=s.elapsedTime+=e,v=i.fromValues[c],m=null!=s.v0?s.v0:s.v0=oU.arr(a.velocity)?a.velocity[c]:a.velocity;if(oU.und(a.duration))if(a.decay){var g=!0===a.decay?.998:a.decay,y=Math.exp(-(1-g)*p);d=v+m/(1-g)*(1-y),f=Math.abs(s.lastPosition-d)<.1,h=m*y}else{h=null==s.lastVelocity?m:s.lastVelocity;for(var b=a.precision||(v==l?.005:Math.min(1,.001*Math.abs(l-v))),k=a.restVelocity||b/10,w=a.clamp?0:a.bounce,_=!oU.und(w),x=v==l?s.v0>0:v<l,I=Math.ceil(e/1),S=0;S<I&&(Math.abs(h)>k||!(f=Math.abs(l-d)<=b));++S){_&&(d==l||d>l==x)&&(h=-h*w,d=l),d+=1*(h+=1*((1e-6*-a.tension*(d-l)+.001*-a.friction*h)/a.mass))}}else{var E=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,s.durationProgress>0&&(s.elapsedTime=a.duration*s.durationProgress,p=s.elapsedTime+=e)),E=(E=(a.progress||0)+p/t._memoizedDuration)>1?1:E<0?0:E,s.durationProgress=E),h=((d=v+a.easing(E)*(l-v))-s.lastPosition)/e,f=1==E}s.lastVelocity=h,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),f=!0)}u&&!u[c].done&&(f=!1),f?s.done=!0:n=!1,s.setValue(d,a.round)&&(r=!0)}}));var s=CB(this),c=s.getValue();if(n){var l=JU(i.to);c===l&&!r||a.decay?r&&a.decay&&this._onChange(c):(s.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return qj.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(RV(this)){var t=this.animation,n=t.to,r=t.config;qj.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return oU.und(e)?(n=this.queue||[],this.queue=[]):n=[oU.obj(e)?e:WB({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return yV(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),xV(this._state,e&&this._lastCallId),qj.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=oU.obj(n)?n[t]:n)||nV(n))&&(n=void 0),null==(r=oU.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!AV(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=JU(r),oU.und(r)?CB(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=WB({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,$B(r,(function(e,t){return/^on/.test(t)?KB(e,i):e}))),qV(this,r,"onProps"),zV(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var u=this._state;return gV(++this._lastCallId,{key:i,props:r,defaultProps:a,state:u,actions:{pause:function(){PV(n)||(OV(n,!0),pU(u.pauseQueue),zV(n,"onPause",kV(n,LV(n,n.animation.to)),n))},resume:function(){PV(n)&&(OV(n,!1),RV(n)&&n._resume(),pU(u.resumeQueue),zV(n,"onResume",kV(n,LV(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=FV(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(wV(this));var i=!oU.und(e.to),a=!oU.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(wV(this));this._lastToId=t.callId}var o=this.key,u=this.defaultProps,s=this.animation,c=s.to,l=s.from,f=e.to,d=void 0===f?c:f,h=e.from,p=void 0===h?l:h;if(!a||i||t.default&&!oU.und(d)||(d=p),t.reverse){var v=[p,d];d=v[0],p=v[1]}var m=!uU(p,l);m&&(s.from=p),p=JU(p);var g=!uU(d,c);g&&this._focus(d);var y=nV(t.to),b=s.config,k=b.decay,w=b.velocity;(i||a)&&(b.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(pV(n=WB({},n),t),t=WB({},n,t)),pV(e,t),Object.assign(e,t),dV)null==e[r]&&(e[r]=dV[r]);var i=e.mass,a=e.frequency,o=e.damping;oU.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(b,GB(t.config,o),t.config!==u.config?GB(u.config,o):void 0);var _=CB(this);if(!_||oU.und(d))return n(kV(this,!0));var x=oU.und(t.reset)?a&&!t.default:!oU.und(p)&&HB(t.reset,o),I=x?p:this.get(),S=eV(d),E=oU.num(S)||oU.arr(S)||wB(S),T=!y&&(!E||HB(u.immediate||t.immediate,o));if(g){var C=jB(d);if(C!==_.constructor){if(!T)throw Error("Cannot animate between ".concat(_.constructor.name," and ").concat(C.name,', as the "to" prop suggests'));_=this._set(S)}}var N=_.constructor,A=XU(d),R=!1;if(!A){var P=x||!AV(this)&&m;(g||P)&&(A=!(R=uU(eV(I),S))),(uU(s.immediate,T)||T)&&uU(b.decay,k)&&uU(b.velocity,w)||(A=!0)}if(R&&RV(this)&&(s.changed&&!x?A=!0:A||this._stop(c)),!y&&((A||XU(c))&&(s.values=_.getPayload(),s.toValues=XU(d)?null:N==DB?[1]:lU(S)),s.immediate!=T&&(s.immediate=T,T||x||this._set(c)),A)){var D=s.onRest;sU(VV,(function(e){return qV(r,t,e)}));var O=kV(this,LV(this,c));pU(this._pendingCalls,O),this._pendingCalls.add(n),s.changed&&qj.batchedUpdates((function(){s.changed=!x,null==D||D(O,r),x?GB(u.onRest,O):null==s.onStart||s.onStart(O,r)}))}x&&this._set(I),y?n(_V(t.to,t,this._state,this)):A?this._start():RV(this)&&!g?this._pendingCalls.add(n):n(bV(I))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(ZU(this)&&this._detach(),t.to=e,ZU(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;XU(t)&&(rB(t,this),EV(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;XU(e)&&iB(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=JU(e);if(!oU.und(r)){var i=CB(this);if(!i||!uU(r,i.getValue())){var a=jB(r);i&&i.constructor==a?i.setValue(r):NB(this,a.create(r)),i&&qj.batchedUpdates((function(){t._onChange(r,n)}))}}return CB(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,zV(this,"onStart",kV(this,LV(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),GB(this.animation.onChange,e,this)),GB(this.defaultProps.onChange,e,this),re(te(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;CB(this).reset(JU(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),RV(this)||(DV(this,!0),PV(this)||this._resume())}},{key:"_resume",value:function(){bU.skipAnimation?this.finish():IU.start(this)}},{key:"_stop",value:function(e,t){if(RV(this)){DV(this,!1);var n=this.animation;sU(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),eB(this,{type:"idle",parent:this});var r=t?wV(this.get()):kV(this.get(),LV(this,null!=e?e:n.to));pU(this._pendingCalls,r),n.changed&&(n.changed=!1,zV(this,"onRest",r,this))}}}]),n}(CV);function LV(e,t){var n=eV(t);return uU(eV(e.get()),n)}function FV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=GB(t);if(r){var i=!0!==r&&ZB(r),a=(i||e).reverse,o=!i||i.reset;return jV(WB({},e,{loop:t,default:!1,pause:void 0,to:!a||nV(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function jV(e){var t=e=ZB(e),n=t.to,r=t.from,i=new Set;return oU.obj(n)&&BV(n,i),oU.obj(r)&&BV(r,i),e.keys=i.size?Array.from(i):null,e}function UV(e){var t=jV(e);return oU.und(t.default)&&(t.default=$B(t)),t}function BV(e,t){cU(e,(function(e,n){return null!=e&&t.add(n)}))}var VV=["onStart","onRest","onChange","onPause","onResume"];function qV(e,t,n){e.animation[n]=t[n]!==QB(t,n)?KB(t[n],e.key):void 0}function zV(e,t){for(var n,r,i,a,o,u,s=arguments.length,c=new Array(s>2?s-2:0),l=2;l<s;l++)c[l-2]=arguments[l];null==(i=(a=e.animation)[t])||(n=i).call.apply(n,[a].concat(c)),null==(o=(u=e.defaultProps)[t])||(r=o).call.apply(r,[u].concat(c))}var WV=["onStart","onChange","onRest"],GV=1,HV=function(){function e(t,n){ve(this,e),this.id=GV++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(WB({default:!0},t))}return ge(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];oU.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(jV(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=lU(e).map(jV):this.queue=[],this._flush?this._flush(this,t):(eq(this,t),KV(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;sU(lU(t),(function(t){return n[t].stop(!!e)}))}else xV(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(oU.und(e))this.start({pause:!0});else{var t=this.springs;sU(lU(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(oU.und(e))this.start({pause:!1});else{var t=this.springs;sU(lU(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){cU(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,a=this._active.size>0,o=this._changed.size>0;(a&&!this._started||o&&!this._started)&&(this._started=!0,fU(n,(function(t){var n=f(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var u=!a&&this._started,s=o||u&&i.size?this.get():null;o&&r.size&&fU(r,(function(t){var n=f(t,2),r=n[0],i=n[1];i.value=s,r(i,e,e._item)})),u&&(this._started=!1,fU(i,(function(t){var n=f(t,2),r=n[0],i=n[1];i.value=s,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}qj.onFrame(this._onFrame)}}]),e}();function KV(e,t){return Promise.all(t.map((function(t){return QV(e,t)}))).then((function(t){return yV(e,t)}))}function QV(e,t,n){return YV.apply(this,arguments)}function YV(){return YV=pe(de().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,u=n.loop,s=n.onRest,c=n.onResolve,l=oU.obj(n.default)&&n.default,u&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(f=oU.arr(a)||oU.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):sU(WV,(function(e){var r=n[e];if(oU.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),d=t._state,n.pause===!d.paused?(d.paused=n.pause,pU(n.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(n.pause=!0),h=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===QB(n,"cancel"),(f||p&&d.asyncId)&&h.push(gV(++t._lastAsyncId,{props:n,state:d,actions:{pause:aU,resume:aU,start:function(e,n){p?(xV(d,t._lastAsyncId),n(wV(t))):(e.onRest=s,n(_V(f,e,d,t)))}}})),!d.paused){e.next=15;break}return e.next=15,new Promise((function(e){d.resumeQueue.add(e)}));case 15:return e.t0=yV,e.t1=t,e.next=19,Promise.all(h);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!u||!v.finished||r&&v.noop){e.next=26;break}if(!(m=FV(n,u,a))){e.next=26;break}return eq(t,[m]),e.abrupt("return",QV(t,m,!0));case 26:return c&&qj.batchedUpdates((function(){return c(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)}))),YV.apply(this,arguments)}function $V(e,t){var n=WB({},e.springs);return t&&sU(lU(t),(function(e){oU.und(e.keys)&&(e=jV(e)),oU.obj(e.to)||(e=WB({},e,{to:void 0})),ZV(n,e,(function(e){return JV(e)}))})),XV(e,n),n}function XV(e,t){cU(t,(function(t,n){e.springs[n]||(e.springs[n]=t,rB(t,e))}))}function JV(e,t){var n=new MV;return n.key=e,t&&rB(n,t),n}function ZV(e,t,n){t.keys&&sU(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function eq(e,t){sU(t,(function(t){ZV(e.springs,t,(function(t){return JV(t,e)}))}))}function tq(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var nq,rq,iq=["children"],aq=function(e){var t=e.children,n=tq(e,iq),r=(0,i.useContext)(oq),a=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=function(e,t){var n=f((0,i.useState)((function(){return{inputs:t,result:e()}})),1)[0],r=(0,i.useRef)(),a=r.current,o=a;if(o){var u=Boolean(t&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.inputs));u||(o={inputs:t,result:e()})}else o=n;return(0,i.useEffect)((function(){r.current=o,a==n&&(n.inputs=n.result=void 0)}),[o]),o.result}((function(){return{pause:a,immediate:o}}),[a,o]);var u=oq.Provider;return i.createElement(u,{value:n},t)},oq=(nq=aq,rq={},Object.assign(nq,i.createContext(rq)),nq.Provider._context=nq,nq.Consumer._context=nq,nq);aq.Provider=oq.Provider,aq.Consumer=oq.Consumer;var uq=function(){var e=[],t=function(t){kB("".concat(mB,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return sU(e,(function(e,i){if(oU.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return sU(e,(function(e){return e.pause.apply(e,be(t))})),this},t.resume=function(){var t=arguments;return sU(e,(function(e){return e.resume.apply(e,be(t))})),this},t.set=function(t){sU(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return sU(e,(function(e,i){if(oU.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return sU(e,(function(e){return e.stop.apply(e,be(t))})),this},t.update=function(t){var n=this;return sU(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return oU.fun(e)?e(n,t):e};return t._getProps=n,t};function sq(e,t,n){var r=arguments,a=oU.fun(t)&&t;a&&!n&&(n=[]);var o=(0,i.useMemo)((function(){return a||3==r.length?uq():void 0}),[]),u=(0,i.useRef)(0),s=xB(),c=(0,i.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=$V(e,t);return u.current>0&&!c.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?KV(e,t):new Promise((function(r){XV(e,n),c.queue.push((function(){r(KV(e,t))})),s()}))}}}),[]),l=(0,i.useRef)(be(c.ctrls)),f=[],d=EB(e)||0;function h(e,n){for(var r=e;r<n;r++){var i=l.current[r]||(l.current[r]=new HV(null,c.flush)),o=a?a(r,i):t[r];o&&(f[r]=UV(o))}}(0,i.useMemo)((function(){sU(l.current.slice(e,d),(function(e){rV(e,o),e.stop(!0)})),l.current.length=e,h(d,e)}),[e]),(0,i.useMemo)((function(){h(0,Math.min(d,e))}),n);var p=l.current.map((function(e,t){return $V(e,f[t])})),v=(0,i.useContext)(aq),m=EB(v),g=v!==m&&tV(v);_B((function(){u.current++,c.ctrls=l.current;var e=c.queue;e.length&&(c.queue=[],sU(e,(function(e){return e()}))),sU(l.current,(function(e,t){null==o||o.add(e),g&&e.start({default:v});var n=f[t];n&&(iV(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),IB((function(){return function(){sU(c.ctrls,(function(e){return e.stop(!0)}))}}));var y=p.map((function(e){return WB({},e)}));return o?[y,o]:y}function cq(e,t){var n=oU.fun(e),r=sq(1,n?e:[e],n?t||[]:t),i=f(r,2),a=f(i[0],1),o=a[0],u=i[1];return n||2==arguments.length?[o,u]:o}var lq;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(lq||(lq={}));var fq=function(e){oe(n,e);var t=le(n);function n(e,r){var i;ve(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=KU.apply(void 0,be(r));var a=i._get(),o=jB(a);return NB(ie(i),o.create(a)),i}return ge(n,[{key:"advance",value:function(e){var t=this._get();uU(t,this.get())||(CB(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&hq(this._active)&&pq(this)}},{key:"_get",value:function(){var e=oU.arr(this.source)?this.source.map(JU):lU(JU(this.source));return this.calc.apply(this,be(e))}},{key:"_start",value:function(){var e=this;this.idle&&!hq(this._active)&&(this.idle=!1,sU(AB(this),(function(e){e.done=!1})),bU.skipAnimation?(qj.batchedUpdates((function(){return e.advance()})),pq(this)):IU.start(this))}},{key:"_attach",value:function(){var e=this,t=1;sU(lU(this.source),(function(n){XU(n)&&rB(n,e),EV(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;sU(lU(this.source),(function(t){XU(t)&&iB(t,e)})),this._active.clear(),pq(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=lU(this.source).reduce((function(e,t){return Math.max(e,(EV(t)?t.priority:0)+1)}),0))}}]),n}(CV);function dq(e){return!1!==e.idle}function hq(e){return!e.size||Array.from(e).every(dq)}function pq(e){e.idle||(e.idle=!0,sU(AB(e),(function(e){e.done=!0})),eB(e,{type:"idle",parent:e}))}bU.assign({createStringInterpolator:vB,to:function(e,t){return new fq(e,t)}});IU.advance;function vq(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var mq=["style","children","scrollTop","scrollLeft"],gq=/^--/;function yq(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||gq.test(e)||kq.hasOwnProperty(e)&&kq[e]?(""+t).trim():t+"px"}var bq={};var kq={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wq=["Webkit","Ms","Moz","O"];kq=Object.keys(kq).reduce((function(e,t){return wq.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),kq);var _q=["x","y","z"],xq=/^(matrix|translate|scale|rotate|skew)/,Iq=/^(translate)/,Sq=/^(rotate|skew)/,Eq=function(e,t){return oU.num(e)&&0!==e?e+t:e},Tq=function e(t,n){return oU.arr(t)?t.every((function(t){return e(t,n)})):oU.num(t)?t===n:parseFloat(t)===n},Cq=function(e){oe(n,e);var t=le(n);function n(e){ve(this,n);var r=e.x,i=e.y,a=e.z,o=vq(e,_q),u=[],s=[];return(r||i||a)&&(u.push([r||0,i||0,a||0]),s.push((function(e){return["translate3d(".concat(e.map((function(e){return Eq(e,"px")})).join(","),")"),Tq(e,0)]}))),cU(o,(function(e,t){if("transform"===t)u.push([e||""]),s.push((function(e){return[e,""===e]}));else if(xq.test(t)){if(delete o[t],oU.und(e))return;var n=Iq.test(t)?"px":Sq.test(t)?"deg":"";u.push(lU(e)),s.push("rotate3d"===t?function(e){var t=f(e,4),r=t[0],i=t[1],a=t[2],o=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(a,",").concat(Eq(o,n),")"),Tq(o,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return Eq(e,n)})).join(","),")"),Tq(e,t.startsWith("scale")?1:0)]})}})),u.length&&(o.transform=new Nq(u,s)),t.call(this,o)}return ge(n)}(MB),Nq=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return ge(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return sU(this.inputs,(function(r,i){var a=JU(r[0]),o=f(e.transforms[i](oU.arr(a)?a:r.map(JU)),2),u=o[0],s=o[1];t+=" "+u,n=n&&s})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&sU(this.inputs,(function(e){return sU(e,(function(e){return XU(e)&&rB(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&sU(this.inputs,(function(e){return sU(e,(function(e){return XU(e)&&iB(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),eB(this,e)}}]),n}(tB),Aq=["scrollTop","scrollLeft"];bU.assign({batchedUpdates:yE.unstable_batchedUpdates,createStringInterpolator:vB,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Rq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new MB(e)}:i,o=t.getComponentProps,u=void 0===o?function(e){return e}:o,s={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:u},c=function e(t){var n=zB(t)||"Anonymous";return(t=oU.str(t)?e[t]||(e[t]=BB(t,s)):t[qB]||(t[qB]=BB(t,s))).displayName="Animated(".concat(n,")"),t};return cU(e,(function(t,n){oU.arr(e)&&(n=zB(t)),c[n]=c(t)})),{animated:c}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,o=r.scrollTop,u=r.scrollLeft,s=vq(r,mq),c=Object.values(s),l=Object.keys(s).map((function(t){return n||e.hasAttribute(t)?t:bq[t]||(bq[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(f)){var d=yq(f,i[f]);gq.test(f)?e.style.setProperty(f,d):e.style[f]=d}l.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==o&&(e.scrollTop=o),void 0!==u&&(e.scrollLeft=u)},createAnimatedStyle:function(e){return new Cq(e)},getComponentProps:function(e){return vq(e,Aq)}}),Pq=Rq.animated;var Dq=fP((function(e){return{lang:e.lang.lang,isDarkTheme:e.theme.isDarkTheme}}))((function(e){var t={dark:{r:9,transform:"rotate(40deg)",cx:12,cy:4,opacity:0},light:{r:5,transform:"rotate(90deg)",cx:30,cy:0,opacity:1},springConfig:{mass:4,tension:250,friction:35}},n=t[e.isDarkTheme?"light":"dark"],r=n.r,i=n.transform,a=n.cx,o=n.cy,u=n.opacity,s=cq({transform:i,config:t.springConfig}),c=cq({r:r,config:t.springConfig}),l=cq({cx:a,cy:o,config:t.springConfig}),f=cq({opacity:u,config:t.springConfig});return(0,sc.jsxs)(Pq.svg,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",onClick:function(){e.dispatch({type:"CHANGE"})},style:Tt({cursor:"pointer"},s),children:[(0,sc.jsxs)("mask",{id:"myMask2",children:[(0,sc.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),(0,sc.jsx)(Pq.circle,{style:l,r:"9",fill:"black"})]}),(0,sc.jsx)(Pq.circle,{cx:"12",cy:"12",style:c,fill:"white",mask:"url(#myMask2)"}),(0,sc.jsxs)(Pq.g,{stroke:"currentColor",style:f,children:[(0,sc.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,sc.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,sc.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,sc.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,sc.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,sc.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,sc.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,sc.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})]})}));var Oq=fP((function(e){return{lang:e.lang.lang,isDarkTheme:e.theme.isDarkTheme}}))((function(e){var t=(0,i.useContext)(CY).auth,n=f($s(t),3),r=n[0],a=n[1],o=n[2];return a?(0,sc.jsx)("div",{children:"...Loading"}):o?(0,sc.jsx)("div",{children:"...Ooops"}):(0,sc.jsxs)("div",{className:jj,children:[r?(0,sc.jsxs)("button",{className:Bj,onClick:function(){return t.signOut()},children:[" ",e.lang?"Sign out":"\u0412\u044b\u0439\u0442\u0438"," "]}):"",(0,sc.jsx)("div",{className:Uj,children:"TODO"}),(0,sc.jsx)(Dq,{})]})})),Mq="DownTools_DT__ymChL",Lq="DownTools_about__ONy0+",Fq="DownTools_light__UB9-1",jq="DownTools_dark__XX4J-";var Uq=fP((function(e){return{lang:e.lang.lang,isDarkTheme:e.theme.isDarkTheme}}))((function(e){var t=V();console.log();var n=e.isDarkTheme?jq:Fq;return console.log("classs",n),(0,sc.jsxs)("div",{className:Mq+" "+n,children:[(0,sc.jsxs)("select",{onChange:function(){e.dispatch({type:"CHANGE_LANG"})},children:[(0,sc.jsx)("option",{children:e.lang?"Eng":"\u0410\u043d\u0433\u043b"}),(0,sc.jsx)("option",{children:e.lang?"Rus":"\u0420\u0443\u0441"})]}),"/tasks"===t.pathname?(0,sc.jsx)("div",{style:{marginLeft:"-10px"},children:e.lang?"drag&drop to reorder list":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0440\u044f\u0434\u043a\u0430"}):"","/about"===t.pathname?(0,sc.jsxs)(ee,{className:Lq,to:"/tasks",children:[" ",e.lang?"To main":"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"]}):(0,sc.jsxs)(ee,{className:Lq,to:"/about",children:[" ",e.lang?"About":"\u041e \u0441\u0430\u0439\u0442\u0435"]})]})}));var Bq=fP((function(e){return{lang:e.lang.lang,isDarkTheme:e.theme.isDarkTheme}}))((function(e){return(0,sc.jsx)("div",{className:e.isDarkTheme?"app dark":"app light",children:(0,sc.jsxs)(Z,{children:[(0,sc.jsx)(Oq,{}),(0,sc.jsx)(Fj,{}),(0,sc.jsx)(Uq,{})]})})}));function Vq(){return window}function qq(e,t,n){return zq.apply(this,arguments)}function zq(){return zq=pe(de().mark((function e(t,n,r){var i,a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vq(),o=a.BuildInfo,or(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Yq(n.sessionId);case 4:return u=e.sent,s={},li()?s.ibi=o.packageName:ui()?s.apn=o.packageName:Zn(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Os(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),zq.apply(this,arguments)}function Wq(){return Wq=pe(de().mark((function e(t){var n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vq(),r=n.BuildInfo,i={},li()?i.iosBundleId=r.packageName:ui()?i.androidPackageName=r.packageName:Zn(t,"operation-not-supported-in-this-environment"),e.next=5,ls(t,i);case 5:case"end":return e.stop()}}),e)}))),Wq.apply(this,arguments)}function Gq(e){var t=Vq().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Hq(e,t,n){return Kq.apply(this,arguments)}function Kq(){return Kq=pe(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vq(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(er(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),ui()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Kq.apply(this,arguments)}function Qq(e){var t,n,r,i,a,o,u,s,c,l,f=Vq();ir("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ir("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ir("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ir("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ir("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Yq(e){return $q.apply(this,arguments)}function $q(){return($q=pe(de().mark((function e(t){var n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xq(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xq(e){if(or(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Jq=function(e){oe(n,e);var t=le(n);function n(){var e;return ve(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ge(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),re(te(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(us);function Zq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:iz(),postBody:null,tenantId:e.tenantId,error:er(e,"no-auth-event")}}function ez(e,t){return az()._set(oz(e),t)}function tz(e){return nz.apply(this,arguments)}function nz(){return nz=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,az()._get(oz(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,az()._remove(oz(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),nz.apply(this,arguments)}function rz(e,t){var n,r,i=function(e){var t=uz(e),n=t.link?decodeURIComponent(t.link):void 0,r=uz(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return uz(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=uz(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?er(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function iz(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function az(){return sr(To)}function oz(e){return ei("authEvent",e.config.apiKey,e.name)}function uz(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=u(t=n)||ye(t)||c(t)||l();r[0];return it(r.slice(1).join("?"))}var sz=function(){function e(){ve(this,e),this._redirectPersistence=No,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rs,this._overrideRedirectResult=Hu}return ge(e,[{key:"_initialize",value:function(){var e=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Jq(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Zn(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=pe(de().mark((function e(t,n,r,i){var a,o,u,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qq(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Bu.clear(),e.next=10,this._originValidation(t);case 10:return o=Zq(t,r,i),e.next=13,ez(t,o);case 13:return e.next=15,qq(t,o,n);case 15:return u=e.sent,e.next=18,Gq(u);case 18:return s=e.sent,e.abrupt("return",Hq(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wq.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Vq(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(pe(de().mark((function n(){return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tz(e);case 2:t.onEvent(lz());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=pe(de().mark((function n(r){var i,a;return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,tz(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=rz(i,r.url)),t.onEvent(a||lz());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Vq().handleOpenURL=function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),cz=sz;function lz(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:er("no-auth-event")}}function fz(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function dz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return!("file:"!==fz()&&"ionic:"!==fz()&&"capacitor:"!==fz()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function hz(){return Ve()&&11===(null===document||void 0===document?void 0:document.documentMode)}function pz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return/Edge\/\d+/.test(e)}function vz(){try{var e=self.localStorage,t=Po();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();return hz()||pz(e)}()||ze()}catch(n){return mz()&&ze()}return!1}function mz(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function gz(){return("http:"===fz()||"https:"===fz()||Ue()||dz())&&!(Be()||je())&&vz()&&!mz()}function yz(){return dz()&&"undefined"!==typeof document}function bz(){return kz.apply(this,arguments)}function kz(){return(kz=pe(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yz()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wz={LOCAL:"local",NONE:"none",SESSION:"session"},_z=ir,xz="persistence";function Iz(e,t){_z(Object.values(wz).includes(t),e,"invalid-persistence-type"),Be()?_z(t!==wz.SESSION,e,"unsupported-persistence-type"):je()?_z(t===wz.NONE,e,"unsupported-persistence-type"):mz()?_z(t===wz.NONE||t===wz.LOCAL&&ze(),e,"unsupported-persistence-type"):_z(t===wz.NONE||vz(),e,"unsupported-persistence-type")}function Sz(e){return Ez.apply(this,arguments)}function Ez(){return Ez=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Tz(),r=ei(xz,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Ez.apply(this,arguments)}function Tz(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Cz=ir,Nz=function(){function e(){ve(this,e),this.browserResolver=sr(Fs),this.cordovaResolver=sr(cz),this.underlyingResolver=null,this._redirectPersistence=No,this._completeRedirectFn=rs,this._overrideRedirectResult=Hu}return ge(e,[{key:"_initialize",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=pe(de().mark((function e(t,n,r,i){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=pe(de().mark((function e(t,n,r,i){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return yz()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Cz(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bz();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Az(e){return e.unwrap()}function Rz(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Lz(e,function(e,t){var n,r=dt(e),i=t;return ir(t.customData.operationType,r,"argument-error"),ir(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bo._fromError(r,i)}(e,t));else if(r){var i=Pz(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Pz(e){var t=(e instanceof We?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof We)&&"temporaryProof"in t&&"phoneNumber"in t)return Su.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Un)return null;switch(r){case jn:n=sa;break;case Ln:n=ua;break;case Fn:n=ca;break;case Bn:n=da;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?la._create(r,u):Qi._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new oa(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof We?n.credentialFromError(e):n.credentialFromResult(e)}function Dz(e,t){return t.catch((function(t){throw t instanceof We&&Rz(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Pz(t)),additionalUserInfo:go(e),user:Fz.getOrCreate(r)}}))}function Oz(e,t){return Mz.apply(this,arguments)}function Mz(){return Mz=pe(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Dz(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Mz.apply(this,arguments)}var Lz=function(){function e(t,n){ve(this,e),this.resolver=n,this.auth=t.wrapped()}return ge(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Dz(Az(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Fz=function(){function e(t){ve(this,e),this._delegate=t,this.multiFactor=function(e){var t=dt(e);return xo.has(t)||xo.set(t,_o._fromUser(t)),xo.get(t)}(t)}return ge(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dz(this.auth,Da(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oz(this.auth,bu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dz(this.auth,Fu(this._delegate,t,Nz)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sz(gi(this.auth));case 2:return e.abrupt("return",Zu(this._delegate,t,Nz));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dz(this.auth,Ma(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Oz(this.auth,function(e,t,n){return wu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Dz(this.auth,function(e,t,n){return Lu.apply(this,arguments)}(this._delegate,e,Nz))}},{key:"reauthenticateWithRedirect",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sz(gi(this.auth));case 2:return e.abrupt("return",Xu(this._delegate,t,Nz));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ro.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return so(dt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return so(dt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Iu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return uo.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return io.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Fz.USER_MAP=new WeakMap;var jz=ir,Uz=function(){function e(t,n){if(ve(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;jz(r,"invalid-api-key",{appName:t.name}),jz(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Nz:void 0;this._delegate=n.initialize({options:{persistence:Vz(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Qn),this.linkUnderlyingAuth()}return ge(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Fz.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){bi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ga.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ha(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Wa.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=pe(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dz(this._delegate,Ya(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return no.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=na.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=pe(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jz(gz(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ts(this._delegate,Nz);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Dz(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){gi(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Bz(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Bz(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ja.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return za.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=pe(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Iz(this._delegate,t),e.t0=t,e.next=e.t0===wz.SESSION?4:e.t0===wz.LOCAL?6:e.t0===wz.NONE?11:13;break;case 4:return n=No,e.abrupt("break",14);case 6:return e.next=8,sr(Jo)._isAvailable();case 8:return r=e.sent,n=r?Jo:To,e.abrupt("break",14);case 11:return n=Zr,e.abrupt("break",14);case 13:return e.abrupt("return",Zn("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Dz(this._delegate,function(e){return ga.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Dz(this._delegate,Ra(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Dz(this._delegate,function(e,t){return Ua.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Dz(this._delegate,Xa(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Dz(this._delegate,function(e,t,n){return Za.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Oz(this._delegate,function(e,t,n){return yu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jz(gz(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Dz(this._delegate,Ou(this._delegate,t,Nz)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=pe(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jz(gz(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Sz(this._delegate);case 3:return e.abrupt("return",Yu(this._delegate,t,Nz));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Qa.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Bz(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Fz.getOrCreate(e))},error:t,complete:n}}function Vz(e,t){var n=function(e,t){var n=Tz();if(!n)return[];var r=ei(xz,e,t);switch(n.getItem(r)){case wz.NONE:return[Zr];case wz.LOCAL:return[Jo,No];case wz.SESSION:return[No];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Jo)||n.push(Jo),"undefined"!==typeof window)for(var r=0,i=[To,No];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Zr)||n.push(Zr),n}Uz.Persistence=wz;var qz=function(){function e(){ve(this,e),this.providerId="phone",this._delegate=new Su(Az(PP.auth()))}return ge(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Su.credential(e,t)}}]),e}();qz.PHONE_SIGN_IN_METHOD=Su.PHONE_SIGN_IN_METHOD,qz.PROVIDER_ID=Su.PROVIDER_ID;var zz,Wz=ir,Gz=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PP.app();ve(this,e),Wz(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vu(t,n,i.auth()),this.type=this._delegate.type}return ge(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(zz=PP).INTERNAL.registerComponent(new ht("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Uz(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vn,PASSWORD_RESET:qn,RECOVER_EMAIL:zn,REVERT_SECOND_FACTOR_ADDITION:Wn,VERIFY_AND_CHANGE_EMAIL:Gn,VERIFY_EMAIL:Hn}},EmailAuthProvider:ra,FacebookAuthProvider:ua,GithubAuthProvider:ca,GoogleAuthProvider:sa,OAuthProvider:oa,SAMLAuthProvider:fa,PhoneAuthProvider:qz,PhoneMultiFactorGenerator:Bs,RecaptchaVerifier:Gz,TwitterAuthProvider:da,Auth:Uz,AuthCredential:_i,Error:We}).setInstantiationMode("LAZY").setMultipleInstances(!1)),zz.registerVersion("@firebase/auth-compat","0.2.15");function Hz(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Kz(){if("undefined"===typeof Uint8Array)throw new Fh("unimplemented","Uint8Arrays are not available in this environment.")}function Qz(){if("undefined"==typeof atob)throw new Fh("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Yz=function(){function e(t){ve(this,e),this._delegate=t}return ge(e,[{key:"toBase64",value:function(){return Qz(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Kz(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Qz(),new e(Xx.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Kz(),new e(Xx.fromUint8Array(t))}}]),e}();function $z(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=fe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Xz=function(){function e(){ve(this,e)}return ge(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Yx(e=Ex(e,Vx));var n=qx(e),r=e._freezeSettings(),i=new X_;return Wx(n,i,new Y_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Yx(e=Ex(e,Vx));var t=qx(e),n=e._freezeSettings(),r=new X_;return Wx(t,r,new $_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Fh(Lh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new jh;return e._queue.enqueueAndForgetEvenWhileRestricted(pe(de().mark((function n(){return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=pe(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ry.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ry.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ob(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Jz=function(){function e(t,n,r){var i=this;ve(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof yp||(this._appCompat=t)}return ge(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Rh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ax(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Gx(this._delegate)}},{key:"disableNetwork",value:function(){return Hx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&_x("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new jh;return e.asyncQueue.enqueueAndForget(pe(de().mark((function n(){return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=v_,n.next=3,vx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(qx(e=Ex(e,Vx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return cS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Fh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new dW(this,Ox(this._delegate,e))}catch(t){throw iW(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new rW(this,Mx(this._delegate,e))}catch(t){throw iW(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new cW(this,function(e,t){if(e=Ex(e,Nx),wx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fh(Lh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Px(e,null,function(e){return new Av(ap.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw iW(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return hS(this._delegate,(function(n){return e(new eW(t,n))}))}},{key:"batch",value:function(){var e=this;return qx(this._delegate),new tW(new tS(this._delegate,(function(t){return lS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Kx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Qx(this._delegate,e).then((function(e){return e?new cW(t,e):null}))}}]),e}(),Zz=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).firestore=e,r}return ge(n,[{key:"convertBytes",value:function(e){return new Yz(new Xx(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rW.forKey(t,this.firestore,null)}}]),n}(JI);var eW=function(){function e(t,n){ve(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Zz(t)}return ge(e,[{key:"get",value:function(e){var t=this,n=hW(e);return this._delegate.get(n).then((function(e){return new uW(t._firestore,new AI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=hW(e);return n?(Hz("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hW(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hW(e);return this._delegate.delete(t),this}}]),e}(),tW=function(){function e(t){ve(this,e),this._delegate=t}return ge(e,[{key:"set",value:function(e,t,n){var r=hW(e);return n?(Hz("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hW(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hW(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),nW=function(){function e(t,n,r){ve(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ge(e,[{key:"fromFirestore",value:function(e,t){var n=new RI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sW(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Zz(t),n),i.set(n,a)),a}}]),e}();nW.INSTANCES=new WeakMap;var rW=function(){function e(t,n){ve(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Zz(t)}return ge(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new dW(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new dW(this.firestore,Ox(this._delegate,e))}catch(t){throw iW(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=dt(e))instanceof Rx&&Lx(this._delegate,e)}},{key:"set",value:function(e,t){t=Hz("DocumentReference.set",t);try{return t?oS(this._delegate,e,t):oS(this._delegate,e)}catch(n){throw iW(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?uS(this._delegate,e):uS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw iW(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return lS(Ex(e.firestore,Vx),[new Im(e._key,cm.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aW(n),a=oW(n,(function(t){return new uW(e.firestore,new AI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return sS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ex(e,Rx);var t=Ex(e.firestore,Vx);return yx(qx(t),e._key,{source:"server"}).then((function(n){return fS(t,e,n)}))}(this._delegate):function(e){e=Ex(e,Rx);var t=Ex(e.firestore,Vx);return yx(qx(t),e._key).then((function(n){return fS(t,e,n)}))}(this._delegate),t.then((function(e){return new uW(n.firestore,new AI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nW.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Fh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Rx(n._delegate,r,new _p(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Rx(n._delegate,r,t))}}]),e}();function iW(e,t,n){return e.message=e.message.replace(t,n),e}function aW(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!$z(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function oW(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=$z(e[0])?e[0]:$z(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var uW=function(){function e(t,n){ve(this,e),this._firestore=t,this._delegate=n}return ge(e,[{key:"ref",get:function(){return new rW(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return OI(this._delegate,e._delegate)}}]),e}(),sW=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Dh()}(void 0!==t),t}}]),n}(uW),cW=function(){function e(t,n){ve(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Zz(t)}return ge(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,FI(this._delegate,function(e,t,n){var r=t,i=CI("where",e);return new jI(i,r,n)}(t,n,r)))}catch(i){throw iW(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,FI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=CI("orderBy",e);return new UI(n,t)}(t,n)))}catch(r){throw iW(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,FI(this._delegate,function(e){return Tx("limit",e),new BI("limit",e,"F")}(t)))}catch(n){throw iW(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,FI(this._delegate,function(e){return Tx("limitToLast",e),new BI("limitToLast",e,"L")}(t)))}catch(n){throw iW(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,FI(this._delegate,qI.apply(void 0,arguments)))}catch(t){throw iW(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,FI(this._delegate,zI.apply(void 0,arguments)))}catch(t){throw iW(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,FI(this._delegate,GI.apply(void 0,arguments)))}catch(t){throw iW(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,FI(this._delegate,HI.apply(void 0,arguments)))}catch(t){throw iW(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Fx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ex(e,Px);var t=Ex(e.firestore,Vx),n=qx(t),r=new rS(t);return bx(n,e._query,{source:"server"}).then((function(n){return new PI(t,r,e,n)}))}(this._delegate):function(e){e=Ex(e,Px);var t=Ex(e.firestore,Vx),n=qx(t),r=new rS(t);return MI(e._query),bx(n,e._query).then((function(n){return new PI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new fW(n.firestore,new PI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aW(n),a=oW(n,(function(t){return new fW(e.firestore,new PI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return sS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nW.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),lW=function(){function e(t,n){ve(this,e),this._firestore=t,this._delegate=n}return ge(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new sW(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),fW=function(){function e(t,n){ve(this,e),this._firestore=t,this._delegate=n}return ge(e,[{key:"query",get:function(){return new cW(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new sW(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lW(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new sW(n._firestore,r))}))}},{key:"isEqual",value:function(e){return OI(this._delegate,e._delegate)}}]),e}(),dW=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ge(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new rW(this.firestore,e):null}},{key:"doc",value:function(e){try{return new rW(this.firestore,void 0===e?Mx(this._delegate):Mx(this._delegate,e))}catch(t){throw iW(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Ex(e.firestore,Vx),r=Mx(e),i=ZI(e.converter,t);return lS(n,[uI(oI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cm.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new rW(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Lx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(nW.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(cW);function hW(e){return Ex(e,Rx)}var pW=function(){function e(){ve(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=we($x,n)}return ge(e,[{key:"isEqual",value:function(e){return(e=dt(e))instanceof $x&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(up.keyField().canonicalString())}}]),e}(),vW=function(){function e(t){ve(this,e),this._delegate=t}return ge(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new lI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new sI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=pS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=vS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new hI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),mW={Firestore:Jz,GeoPoint:Zx,Timestamp:Zh,Blob:Yz,Transaction:eW,WriteBatch:tW,DocumentReference:rW,DocumentSnapshot:uW,Query:cW,QueryDocumentSnapshot:sW,QuerySnapshot:fW,CollectionReference:dW,FieldPath:pW,FieldValue:vW,setLogLevel:function(e){!function(e){Th.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ht("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},mW)))}(e,(function(e,t){return new Jz(e,t,new Xz)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(PP);var gW="@firebase/database",yW="0.13.0",bW="";var kW=function(){function e(t){ve(this,e),this.domStorage_=t,this.prefix_="firebase:"}return ge(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ye(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Qe(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),wW=function(){function e(){ve(this,e),this.cache_={},this.isInMemoryStorage=!0}return ge(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Xe(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),_W=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kW(t)}}catch(n){}return new wW},xW=_W("localStorage"),IW=_W("sessionStorage"),SW=new St("@firebase/database"),EW=function(){var e=1;return function(){return e++}}(),TW=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Ee(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new ot;n.update(t);var r=n.digest();return Ne.encodeByteArray(r)},CW=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ye(r):r,t+=" "}return t},NW=null,AW=!0,RW=function(e,t){Ee(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(SW.logLevel=yt.VERBOSE,NW=SW.log.bind(SW),t&&IW.set("logging_enabled",!0)):"function"===typeof e?NW=e:(NW=null,IW.remove("logging_enabled"))},PW=function(){if(!0===AW&&(AW=!1,null===NW&&!0===IW.get("logging_enabled")&&RW(!0)),NW){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=CW.apply(null,t);NW(r)}},DW=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];PW.apply(void 0,[e].concat(n))}},OW=function(){var e="FIREBASE INTERNAL ERROR: "+CW.apply(void 0,arguments);SW.error(e)},MW=function(){var e="FIREBASE FATAL ERROR: ".concat(CW.apply(void 0,arguments));throw SW.error(e),new Error(e)},LW=function(){var e="FIREBASE WARNING: "+CW.apply(void 0,arguments);SW.warn(e)},FW=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},jW="[MIN_NAME]",UW="[MAX_NAME]",BW=function(e,t){if(e===t)return 0;if(e===jW||t===UW)return-1;if(t===jW||e===UW)return 1;var n=$W(e),r=$W(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},VW=function(e,t){return e===t?0:e<t?-1:1},qW=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ye(t))},zW=function e(t){if("object"!==typeof t||null===t)return Ye(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Ye(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},WW=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function GW(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var HW=function(e){Ee(!FW(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var KW=new RegExp("^-?(0*)\\d{1,10}$"),QW=-2147483648,YW=2147483647,$W=function(e){if(KW.test(e)){var t=Number(e);if(t>=QW&&t<=YW)return t}return null},XW=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw LW("Exception was thrown by user callback.",e),t}),Math.floor(0))}},JW=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},ZW=function(){function e(t,n){var r=this;ve(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return ge(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){LW('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),eG=function(){function e(t,n,r){var i=this;ve(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return ge(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(PW("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',LW(e)}}]),e}(),tG=function(){function e(t){ve(this,e),this.accessToken=t}return ge(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();tG.OWNER="owner";var nG="5",rG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iG="websocket",aG="long_polling",oG=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];ve(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xW.get("host:"+t)||this._host}return ge(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xW.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function uG(e,t,n){var r;if(Ee("string"===typeof t,"typeof type must == string"),Ee("object"===typeof n,"typeof params must == object"),t===iG)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==aG)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return GW(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var sG=function(){function e(){ve(this,e),this.counters_={}}return ge(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Xe(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return De(void 0,this.counters_)}}]),e}(),cG={},lG={};function fG(e){var t=e.toString();return cG[t]||(cG[t]=new sG),cG[t]}var dG=function(){function e(t){ve(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return ge(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&XW((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),hG="start",pG="close",vG=function(){function e(t,n,r,i,a,o,u){var s=this;ve(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=DW(t),this.stats_=fG(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),uG(n,aG,e)}}return ge(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new dG(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(qe()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new mG((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===hG)n.id=a,n.password=o;else{if(i!==pG)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=nG,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&rG.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ye(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Ae(t),r=WW(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!qe()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ye(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!qe()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),mG=function(){function e(t,n,r,i){if(ve(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,qe())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=EW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){PW("frame writing exception"),u.stack&&PW(u.stack),PW(u)}}}return ge(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;qe()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){PW("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||PW("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),gG=null;"undefined"!==typeof MozWebSocket?gG=MozWebSocket:"undefined"!==typeof WebSocket&&(gG=WebSocket);var yG=function(){function e(t,n,r,i,a,o,u){ve(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=DW(this.connId),this.stats_=fG(n),this.connURL=e.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return ge(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xW.set("previous_websocket_failure",!0);try{if(qe()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(nG,"/").concat(bW,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/todo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o})}this.mySock=new gG(this.connURL,[],undefined)}catch(s){this.log_("Error instantiating WebSocket.");var u=s.message||s.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){xW.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Qe(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Ee(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ye(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=WW(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=nG,!qe()&&"undefined"!==typeof location&&location.hostname&&rG.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),uG(e,iG,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==gG&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return xW.isInMemoryStorage||!0===xW.get("previous_websocket_failure")}}]),e}();yG.responsesRequiredToBeHealthy=2,yG.healthyTimeout=3e4;var bG=function(){function e(t){ve(this,e),this.initTransports_(t)}return ge(e,[{key:"initTransports_",value:function(t){var n=yG&&yG.isAvailable(),r=n&&!yG.previouslyFailed();if(t.webSocketOnly&&(n||LW("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yG];else{var i,a=this.transports_=[],o=fe(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[vG,yG]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();bG.globalTransportInitialized_=!1;var kG=function(){function e(t,n,r,i,a,o,u,s,c,l){ve(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=DW("c:"+this.id+":"),this.transportManager_=new bG(n),this.log_("Connection created"),this.start_()}return ge(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=JW((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=qW("t",e),n=qW("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=qW("t",e),n=qW("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=qW("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?OW("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):OW("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),nG!==n&&LW("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),JW((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):JW((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xW.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),wG=function(){function e(){ve(this,e)}return ge(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),_G=function(){function e(t){ve(this,e),this.allowedEvents_=t,this.listeners_={},Ee(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return ge(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=be(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Ee(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),xG=function(e){oe(n,e);var t=le(n);function n(){var e;return ve(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Fe()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return ge(n,[{key:"getInitialEvent",value:function(e){return Ee("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(_G),IG=function(){function e(t,n){if(ve(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return ge(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function SG(){return new IG("")}function EG(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function TG(e){return e.pieces_.length-e.pieceNum_}function CG(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new IG(e.pieces_,t)}function NG(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function AG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function RG(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new IG(t,0)}function PG(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof IG)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new IG(n,0)}function DG(e){return e.pieceNum_>=e.pieces_.length}function OG(e,t){var n=EG(e),r=EG(t);if(null===n)return t;if(n===r)return OG(CG(e),CG(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function MG(e,t){if(TG(e)!==TG(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function LG(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(TG(e)>TG(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var FG=ge((function e(t,n){ve(this,e),this.errorPrefix_=n,this.parts_=AG(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=ft(this.parts_[r]);jG(this)}));function jG(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+UG(e))}function UG(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var BG=function(e){oe(n,e);var t=le(n);function n(){var e,r,i;return ve(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return ge(n,[{key:"getInitialEvent",value:function(e){return Ee("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(_G),VG=1e3,qG=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o,u,s,c){var l;if(ve(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=u,l.appCheckTokenProvider_=s,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=DW("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=VG,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!qe())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return BG.getInstance().on("visible",l.onVisible_,ie(l)),-1===e.host.indexOf("fblocal")&&xG.getInstance().on("online",l.onOnline_,ie(l)),l}return ge(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ye(i)),Ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new Oe,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ee(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=$e(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=$e(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ye(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):OW("Unrecognized action received from server: "+Ye(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=VG,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=VG,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=VG),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=pe(de().mark((function e(){var t,r,i,a,o,u,s,c,l,d,h,p,v,m,g=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,s=null,c=function(){s?s.close():(u=!0,i())},l=function(e){Ee(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:c,sendRequest:l},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:h=e.sent,p=f(h,2),v=p[0],m=p[1],u?PW("getToken() completed but was canceled"):(PW("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,s=new kG(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){LW(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&LW(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){PW("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){PW("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ze(this.interruptReasons_)&&(this.reconnectDelay_=VG,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return zW(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new IG(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){PW("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){PW("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=fe(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=fe(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";qe()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+bW.replace(/\./g,"-")]=1,Fe()?e["framework.cordova"]=1:Be()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=xG.getInstance().currentlyOnline();return Ze(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Xe(e,"w")){var n=Je(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();LW("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(wG);qG.nextPersistentConnectionId_=0,qG.nextConnectionId_=0;var zG,WG=function(){function e(t,n){ve(this,e),this.name=t,this.node=n}return ge(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),GG=function(){function e(){ve(this,e)}return ge(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new WG(jW,e),r=new WG(jW,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return WG.MIN}}]),e}(),HG=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"compare",value:function(e,t){return BW(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Te("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return WG.MIN}},{key:"maxPost",value:function(){return new WG(UW,zG)}},{key:"makePost",value:function(e,t){return Ee("string"===typeof e,"KeyIndex indexValue must always be a string."),new WG(e,zG)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return zG},set:function(e){zG=e}}]),n}(GG),KG=new HG,QG=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;ve(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return ge(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),YG=function(){function e(t,n,r,i,a){ve(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:JG.EMPTY_NODE,this.right=null!=a?a:JG.EMPTY_NODE}return ge(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return JG.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return JG.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();YG.RED=!0,YG.BLACK=!1;var $G,XG=function(){function e(){ve(this,e)}return ge(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new YG(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),JG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;ve(this,e),this.comparator_=t,this.root_=n}return ge(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,YG.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,YG.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new QG(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new QG(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new QG(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new QG(this.root_,null,this.comparator_,!0,e)}}]),e}();function ZG(e,t){return BW(e.name,t.name)}function eH(e,t){return BW(e,t)}JG.EMPTY_NODE=new XG;var tH,nH,rH,iH=function(e){return"number"===typeof e?"number:"+HW(e):"string:"+e},aH=function(e){if(e.isLeafNode()){var t=e.val();Ee("string"===typeof t||"number"===typeof t||"object"===typeof t&&Xe(t,".sv"),"Priority must be a string or number.")}else Ee(e===$G||e.isEmpty(),"priority of unexpected type.");Ee(e===$G||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},oH=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;ve(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ee(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),aH(this.priorityNode_)}return ge(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return DG(t)?this:".priority"===EG(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=EG(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Ee(".priority"!==r||1===TG(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(CG(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+iH(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?HW(this.value_):this.value_,this.lazyHash_=TW(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Ee(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Ee(i>=0,"Unknown leaf type: "+n),Ee(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return tH},set:function(e){tH=e}}]),e}();oH.VALUE_TYPE_ORDER=["object","boolean","number","string"];var uH,sH,cH=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?BW(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return WG.MIN}},{key:"maxPost",value:function(){return new WG(UW,new oH("[PRIORITY-POST]",rH))}},{key:"makePost",value:function(e,t){var n=nH(e);return new WG(t,new oH("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(GG),lH=new cH,fH=Math.log(2),dH=function(){function e(t){ve(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/fH,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return ge(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),hH=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new YG(o,a.node,YG.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new YG(o,a.node,YG.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new YG(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,YG.BLACK):(u(f,YG.BLACK),u(f,YG.RED))}return a}(new dH(e.length));return new JG(r||t,a)},pH={},vH=function(){function e(t,n){ve(this,e),this.indexes_=t,this.indexSet_=n}return ge(e,[{key:"get",value:function(e){var t=Je(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof JG?t:null}},{key:"hasIndex",value:function(e){return Xe(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Ee(t!==KG,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(WG.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?hH(i,t.getCompare()):pH;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=et(this.indexes_,(function(e,i){var a=Je(r.indexSet_,i);if(Ee(a,"Missing index implementation for "+i),e===pH){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(WG.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),hH(o,a.getCompare())}return pH}var c=n.get(t.name),l=e;return c&&(l=l.remove(new WG(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(et(this.indexes_,(function(e){if(e===pH)return e;var r=n.get(t.name);return r?e.remove(new WG(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Ee(pH&&lH,"ChildrenNode.ts has not been loaded"),uH=uH||new e({".priority":pH},{".priority":lH})}}]),e}(),mH=function(){function e(t,n,r){ve(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&aH(this.priorityNode_),this.children_.isEmpty()&&Ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return ge(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||sH}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?sH:t}},{key:"getChild",value:function(e){var t=EG(e);return null===t?this:this.getImmediateChild(t).getChild(CG(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Ee(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new WG(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?sH:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=EG(e);if(null===n)return t;Ee(".priority"!==EG(e)||1===TG(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(CG(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(lH,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+iH(this.getPriority().val())+":"),this.forEachChild(lH,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":TW(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new WG(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new WG(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new WG(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,WG.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,WG.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gH?-1:0}},{key:"withIndex",value:function(t){if(t===KG||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===KG||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(lH),r=t.getIterator(lH),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===KG?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return sH||(sH=new e(new JG(eH),null,vH.Default))}}]),e}();mH.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var gH=new(function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.call(this,new JG(eH),mH.EMPTY_NODE,vH.Default)}return ge(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return mH.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(mH));Object.defineProperties(WG,{MIN:{value:new WG(jW,mH.EMPTY_NODE)},MAX:{value:new WG(UW,gH)}}),HG.__EMPTY_NODE=mH.EMPTY_NODE,oH.__childrenNodeConstructor=mH,$G=gH,function(e){rH=e}(gH);function yH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return mH.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ee(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new oH(n,yH(t))}if(e instanceof Array){var r=mH.EMPTY_NODE;return GW(e,(function(t,n){if(Xe(e,t)&&"."!==t.substring(0,1)){var i=yH(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(yH(t))}var i=[],a=!1,o=e;if(GW(o,(function(e,t){if("."!==e.substring(0,1)){var n=yH(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new WG(e,n)))}})),0===i.length)return mH.EMPTY_NODE;var u=hH(i,ZG,(function(e){return e.name}),eH);if(a){var s=hH(i,lH.getCompare());return new mH(u,yH(t),new vH({".priority":s},{".priority":lH}))}return new mH(u,yH(t),vH.Default)}!function(e){nH=e}(yH);var bH=function(e){oe(n,e);var t=le(n);function n(e){var r;return ve(this,n),(r=t.call(this)).indexPath_=e,Ee(!DG(e)&&".priority"!==EG(e),"Can't create PathIndex with empty path or .priority key"),r}return ge(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?BW(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=yH(e),r=mH.EMPTY_NODE.updateChild(this.indexPath_,n);return new WG(t,r)}},{key:"maxPost",value:function(){var e=mH.EMPTY_NODE.updateChild(this.indexPath_,gH);return new WG(UW,e)}},{key:"toString",value:function(){return AG(this.indexPath_,0).join("/")}}]),n}(GG),kH=function(e){oe(n,e);var t=le(n);function n(){return ve(this,n),t.apply(this,arguments)}return ge(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?BW(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return WG.MIN}},{key:"maxPost",value:function(){return WG.MAX}},{key:"makePost",value:function(e,t){var n=yH(e);return new WG(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(GG),wH=new kH,_H="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function xH(e){return{type:"value",snapshotNode:e}}function IH(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function SH(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function EH(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var TH=function(){function e(){ve(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lH}return ge(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jW}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:UW}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===lH}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function CH(e){var t,n={};return e.isDefault()||(e.index_===lH?t="$priority":e.index_===wH?t="$value":e.index_===KG?t="$key":(Ee(e.index_ instanceof bH,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ye(t),e.startSet_&&(n.startAt=Ye(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ye(e.indexStartName_))),e.endSet_&&(n.endAt=Ye(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ye(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function NH(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==lH&&(t.i=e.index_.toString()),t}var AH=function(e){oe(n,e);var t=le(n);function n(e,r,i,a){var o;return ve(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=DW("p:rest:"),o.listens_={},o}return ge(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=CH(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Je(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=CH(e._queryParams),r=e._path.toString(),i=new Oe;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=f(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+rt(n);t.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Qe(c.responseText)}catch(n){LW("Failed to parse JSON response for "+s+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&LW("Got unsuccessful REST response for "+s+" Status: "+c.status),r(c.status);r=null}},c.open("GET",s,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(wG),RH=function(){function e(){ve(this,e),this.rootNode_=mH.EMPTY_NODE}return ge(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function PH(){return{value:null,children:new Map}}function DH(e,t,n){if(DG(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=EG(t);e.children.has(r)||e.children.set(r,PH()),DH(e.children.get(r),t=CG(t),n)}}function OH(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){OH(r,new IG(t.toString()+"/"+e),n)}))}var MH,LH=function(){function e(t){ve(this,e),this.collection_=t,this.last_=null}return ge(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&GW(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),FH=function(){function e(t,n){ve(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new LH(t);var r=1e4+2e4*Math.random();JW(this.reportStats_.bind(this),Math.floor(r))}return ge(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;GW(t,(function(t,i){i>0&&Xe(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),JW(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function jH(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(MH||(MH={}));var UH,BH=function(){function e(t,n,r){ve(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=MH.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return ge(e,[{key:"operationForChild",value:function(t){if(DG(this.path)){if(null!=this.affectedTree.value)return Ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new IG(t));return new e(SG(),n,this.revert)}return Ee(EG(this.path)===t,"operationForChild called for unrelated child."),new e(CG(this.path),this.affectedTree,this.revert)}}]),e}(),VH=function(){function e(t,n,r){ve(this,e),this.source=t,this.path=n,this.snap=r,this.type=MH.OVERWRITE}return ge(e,[{key:"operationForChild",value:function(t){return DG(this.path)?new e(this.source,SG(),this.snap.getImmediateChild(t)):new e(this.source,CG(this.path),this.snap)}}]),e}(),qH=function(){function e(t,n,r){ve(this,e),this.source=t,this.path=n,this.children=r,this.type=MH.MERGE}return ge(e,[{key:"operationForChild",value:function(t){if(DG(this.path)){var n=this.children.subtree(new IG(t));return n.isEmpty()?null:n.value?new VH(this.source,SG(),n.value):new e(this.source,SG(),n)}return Ee(EG(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,CG(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),zH=function(){function e(t,n,r){ve(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return ge(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(DG(e))return this.isFullyInitialized()&&!this.filtered_;var t=EG(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function WH(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Te("Should only compare child_ events.");var r=new WG(t.childName,t.snapshotNode),i=new WG(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function GH(e,t){return{eventCache:e,serverCache:t}}function HH(e,t,n,r){return GH(new zH(t,n,r),e.serverCache)}function KH(e,t,n,r){return GH(e.eventCache,new zH(t,n,r))}function QH(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function YH(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var $H=function(){return UH||(UH=new JG(VW)),UH},XH=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$H();ve(this,e),this.value=t,this.children=n}return ge(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:SG(),value:this.value};if(DG(e))return null;var n=EG(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(CG(e),t);return null!=i?{path:PG(new IG(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(DG(t))return this;var n=EG(t),r=this.children.get(n);return null!==r?r.subtree(CG(t)):new e(null)}},{key:"set",value:function(t,n){if(DG(t))return new e(n,this.children);var r=EG(t),i=(this.children.get(r)||new e(null)).set(CG(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(DG(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=EG(t),r=this.children.get(n);if(r){var i,a=r.remove(CG(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(DG(e))return this.value;var t=EG(e),n=this.children.get(t);return n?n.get(CG(e)):null}},{key:"setTree",value:function(t,n){if(DG(t))return n;var r,i=EG(t),a=(this.children.get(i)||new e(null)).setTree(CG(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(SG(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(PG(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,SG(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(DG(e))return null;var i=EG(e),a=this.children.get(i);return a?a.findOnPath_(CG(e),PG(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,SG(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(DG(t))return this;this.value&&r(n,this.value);var i=EG(t),a=this.children.get(i);return a?a.foreachOnPath_(CG(t),PG(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(SG(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(PG(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return GW(t,(function(e,t){n=n.set(new IG(e),t)})),n}}]),e}(),JH=function(){function e(t){ve(this,e),this.writeTree_=t}return ge(e,null,[{key:"empty",value:function(){return new e(new XH(null))}}]),e}();function ZH(e,t,n){if(DG(t))return new JH(new XH(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=OG(i,t);return a=a.updateChild(o,n),new JH(e.writeTree_.set(i,a))}var u=new XH(n),s=e.writeTree_.setTree(t,u);return new JH(s)}function eK(e,t,n){var r=e;return GW(n,(function(e,n){r=ZH(r,PG(t,e),n)})),r}function tK(e,t){if(DG(t))return JH.empty();var n=e.writeTree_.setTree(t,new XH(null));return new JH(n)}function nK(e,t){return null!=rK(e,t)}function rK(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(OG(n.path,t)):null}function iK(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(lH,(function(e,n){t.push(new WG(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new WG(e,n.value))})),t}function aK(e,t){if(DG(t))return e;var n=rK(e,t);return new JH(null!=n?new XH(n):e.writeTree_.subtree(t))}function oK(e){return e.writeTree_.isEmpty()}function uK(e,t){return sK(SG(),e.writeTree_,t)}function sK(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Ee(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=sK(PG(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(PG(e,".priority"),r)),n}function cK(e,t){return xK(t,e)}function lK(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function fK(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Ee(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&dK(u,r.path)?i=!1:LG(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=pK(e.allWrites,hK,SG()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=tK(e.visibleWrites,r.path):GW(r.children,(function(t){e.visibleWrites=tK(e.visibleWrites,PG(r.path,t))}));return!0}return!1}function dK(e,t){if(e.snap)return LG(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&LG(PG(e.path,n),t))return!0;return!1}function hK(e){return e.visible}function pK(e,t,n){for(var r=JH.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)LG(n,o)?r=ZH(r,u=OG(n,o),a.snap):LG(o,n)&&(u=OG(o,n),r=ZH(r,SG(),a.snap.getChild(u)));else{if(!a.children)throw Te("WriteRecord should have .snap or .children");if(LG(n,o))r=eK(r,u=OG(n,o),a.children);else if(LG(o,n))if(DG(u=OG(o,n)))r=eK(r,SG(),a.children);else{var s=Je(a.children,EG(u));if(s){var c=s.getChild(CG(u));r=ZH(r,SG(),c)}}}}}return r}function vK(e,t,n,r,i){if(r||i){var a=aK(e.visibleWrites,t);if(!i&&oK(a))return n;if(i||null!=n||nK(a,SG())){return uK(pK(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(LG(e.path,t)||LG(t,e.path))}),t),n||mH.EMPTY_NODE)}return null}var o=rK(e.visibleWrites,t);if(null!=o)return o;var u=aK(e.visibleWrites,t);return oK(u)?n:null!=n||nK(u,SG())?uK(u,n||mH.EMPTY_NODE):null}function mK(e,t,n,r){return vK(e.writeTree,e.treePath,t,n,r)}function gK(e,t){return function(e,t,n){var r=mH.EMPTY_NODE,i=rK(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(lH,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=aK(e.visibleWrites,t);return n.forEachChild(lH,(function(e,t){var n=uK(aK(a,new IG(e)),t);r=r.updateImmediateChild(e,n)})),iK(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return iK(aK(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function yK(e,t,n,r){return function(e,t,n,r,i){Ee(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=PG(t,n);if(nK(e.visibleWrites,a))return null;var o=aK(e.visibleWrites,a);return oK(o)?i.getChild(n):uK(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function bK(e,t){return function(e,t){return rK(e.visibleWrites,t)}(e.writeTree,PG(e.treePath,t))}function kK(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=aK(e.visibleWrites,t),c=rK(s,SG());if(null!=c)u=c;else{if(null==n)return[];u=uK(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),d=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),h=d.getNext();h&&l.length<i;)0!==f(h,r)&&l.push(h),h=d.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function wK(e,t,n){return function(e,t,n,r){var i=PG(t,n),a=rK(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?uK(aK(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function _K(e,t){return xK(PG(e.treePath,t),e.writeTree)}function xK(e,t){return{treePath:e,writeTree:t}}var IK=function(){function e(){ve(this,e),this.changeMap=new Map}return ge(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Ee("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ee(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,EH(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,SH(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,IH(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Te("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,EH(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),SK=new(function(){function e(){ve(this,e)}return ge(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),EK=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ve(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return ge(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new zH(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wK(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:YH(this.viewCache_),i=kK(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function TK(e,t,n,r,i){var a,o,u=new IK;if(n.type===MH.OVERWRITE){var s=n;s.source.fromUser?a=AK(e,t,s.path,s.snap,r,i,u):(Ee(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!DG(s.path),a=NK(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===MH.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=PG(n,r);RK(t,EG(c))&&(u=AK(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=PG(n,r);RK(t,EG(c))||(u=AK(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(Ee(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=DK(e,t,c.path,c.children,r,i,o,u))}else if(n.type===MH.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=bK(r,n))return t;var u,s=new EK(r,t,i),c=t.eventCache.getNode();if(DG(n)||".priority"===EG(n)){var l;if(t.serverCache.isFullyInitialized())l=mK(r,YH(t));else{var f=t.serverCache.getNode();Ee(f instanceof mH,"serverChildren would be complete if leaf node"),l=gK(r,f)}u=e.filter.updateFullNode(c,l,a)}else{var d=EG(n),h=wK(r,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=c.getImmediateChild(d)),(u=null!=h?e.filter.updateChild(c,d,h,CG(n),s,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,mH.EMPTY_NODE,CG(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=mK(r,YH(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=bK(r,SG()),HH(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=bK(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(DG(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return NK(e,t,n,s.getNode().getChild(n),i,a,u,o);if(DG(n)){var c=new XH(null);return s.getNode().forEachChild(KG,(function(e,t){c=c.set(new IG(e),t)})),DK(e,t,n,c,i,a,u,o)}return t}var l=new XH(null);return r.foreach((function(e,t){var r=PG(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),DK(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==MH.LISTEN_COMPLETE)throw Te("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=KH(t,a.getNode(),a.isFullyInitialized()||DG(n),a.isFiltered());return CK(e,o,n,r,SK,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=QH(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(xH(QH(t)))}}(t,a,f),{viewCache:a,changes:f}}function CK(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=bK(r,n))return t;if(DG(n))if(Ee(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=YH(t),l=gK(r,c instanceof mH?c:mH.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=mK(r,YH(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=EG(n);if(".priority"===d){Ee(1===TG(n),"Can't have a priority with additional path components");var h=s.getNode(),p=yK(r,n,h,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):s.getNode()}else{var v,m=CG(n);if(s.isCompleteForChild(d)){u=t.serverCache.getNode();var g=yK(r,n,s.getNode(),u);v=null!=g?s.getNode().getImmediateChild(d).updateChild(m,g):s.getNode().getImmediateChild(d)}else v=wK(r,d,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),d,v,m,i,a):s.getNode()}}return HH(t,o,s.isFullyInitialized()||DG(n),e.filter.filtersNodes())}function NK(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(DG(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var d=EG(n);if(!c.isCompleteForPath(n)&&TG(n)>1)return t;var h=CG(n),p=c.getNode().getImmediateChild(d).updateChild(h,r);s=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,h,SK,null)}var v=KH(t,s,c.isFullyInitialized()||DG(n),l.filtersNodes());return CK(e,v,n,i,new EK(i,v,a),u)}function AK(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new EK(i,t,a);if(DG(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=HH(t,s,!0,e.filter.filtersNodes());else{var f=EG(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=HH(t,s,c.isFullyInitialized(),c.isFiltered());else{var d,h=CG(n),p=c.getNode().getImmediateChild(f);if(DG(h))d=r;else{var v=l.getCompleteChild(f);d=null!=v?".priority"===NG(h)&&v.getChild(RG(h)).isEmpty()?v:v.updateChild(h,r):mH.EMPTY_NODE}if(p.equals(d))u=t;else u=HH(t,e.filter.updateChild(c.getNode(),f,d,h,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function RK(e,t){return e.eventCache.isCompleteForChild(t)}function PK(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function DK(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=DG(n)?r:new XH(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=PK(0,t.serverCache.getNode().getImmediateChild(n),r);c=NK(e,c,new IG(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!s){var f=PK(0,t.serverCache.getNode().getImmediateChild(n),r);c=NK(e,c,new IG(n),f,i,a,o,u)}})),c}var OK;function MK(e,t){var n=YH(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!DG(t)&&!n.getImmediateChild(EG(t)).isEmpty())?n.getChild(t):null}function LK(e,t,n,r){t.type===MH.MERGE&&null!==t.source.queryId&&(Ee(YH(e.viewCache_),"We should always have a full cache before handling merges"),Ee(QH(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=TK(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Ee(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ee(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Ee(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,FK(e,u.changes,u.viewCache.eventCache.getNode(),null)}function FK(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),WH(e,i,"child_removed",t,r,n),WH(e,i,"child_added",t,r,n),WH(e,i,"child_moved",a,r,n),WH(e,i,"child_changed",t,r,n),WH(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var jK;function UK(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Ee(null!=a,"SyncTree gave us an op for an invalid query."),LK(a,t,n,r)}var o,u=[],s=fe(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(LK(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function BK(e,t){var n,r=null,i=fe(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||MK(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var VK=ge((function e(t){ve(this,e),this.listenProvider_=t,this.syncPointTree_=new XH(null),this.pendingWriteTree_={visibleWrites:JH.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function qK(e,t,n,r,i){return function(e,t,n,r,i){Ee(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ZH(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?HK(e,new VH({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function zK(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=lK(e.pendingWriteTree_,t),i=fK(e.pendingWriteTree_,t);if(i){var a=new XH(null);return null!=r.snap?a=a.set(SG(),!0):GW(r.children,(function(e){a=a.set(new IG(e),!0)})),HK(e,new BH(r.path,a,n))}return[]}function WK(e,t,n){return HK(e,new VH({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function GK(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=BK(n,OG(e,t));if(r)return r}));return vK(r,t,i,n,!0)}function HK(e,t){return KK(t,e.syncPointTree_,null,cK(e.pendingWriteTree_,SG()))}function KK(e,t,n,r){if(DG(e.path))return QK(e,t,n,r);var i=t.get(SG());null==n&&null!=i&&(n=BK(i,SG()));var a=[],o=EG(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=_K(r,o);a=a.concat(KK(u,s,c,l))}return i&&(a=a.concat(UK(i,e,r,n))),a}function QK(e,t,n,r){var i=t.get(SG());null==n&&null!=i&&(n=BK(i,SG()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=_K(r,t),s=e.operationForChild(t);s&&(a=a.concat(QK(s,i,o,u)))})),i&&(a=a.concat(UK(i,e,r,n))),a}function YK(e,t){return e.tagToQueryMap.get(t)}function $K(e){var t=e.indexOf("$");return Ee(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new IG(e.substr(0,t))}}function XK(e,t,n){var r=e.syncPointTree_.get(t);return Ee(r,"Missing sync point for query tag that we're tracking"),UK(r,n,cK(e.pendingWriteTree_,t),null)}var JK=function(){function e(t){ve(this,e),this.node_=t}return ge(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),ZK=function(){function e(t,n){ve(this,e),this.syncTree_=t,this.path_=n}return ge(e,[{key:"getImmediateChild",value:function(t){var n=PG(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return GK(this.syncTree_,this.path_)}}]),e}(),eQ=function(e,t,n){return e&&"object"===typeof e?(Ee(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?tQ(e[".sv"],t,n):"object"===typeof e[".sv"]?nQ(e[".sv"],t):void Ee(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},tQ=function(e,t,n){if("timestamp"===e)return n.timestamp;Ee(!1,"Unexpected server value: "+e)},nQ=function(e,t,n){e.hasOwnProperty("increment")||Ee(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Ee(!1,"Unexpected increment value: "+r);var i=t.node();if(Ee(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},rQ=function(e,t,n,r){return aQ(t,new ZK(n,e),r)},iQ=function(e,t,n){return aQ(e,new JK(t),n)};function aQ(e,t,n){var r,i=e.getPriority().val(),a=eQ(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=eQ(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new oH(u,yH(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new oH(a))),s.forEachChild(lH,(function(e,i){var a=aQ(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var oQ=ge((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};ve(this,e),this.name=t,this.parent=n,this.node=r}));function uQ(e,t){for(var n=t instanceof IG?t:new IG(t),r=e,i=EG(n);null!==i;){var a=Je(r.node.children,i)||{children:{},childCount:0};r=new oQ(i,r,a),i=EG(n=CG(n))}return r}function sQ(e){return e.node.value}function cQ(e,t){e.node.value=t,pQ(e)}function lQ(e){return e.node.childCount>0}function fQ(e,t){GW(e.node.children,(function(n,r){t(new oQ(n,e,r))}))}function dQ(e,t,n,r){n&&!r&&t(e),fQ(e,(function(e){dQ(e,t,!0,r)})),n&&r&&t(e)}function hQ(e){return new IG(null===e.parent?e.name:hQ(e.parent)+"/"+e.name)}function pQ(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===sQ(e)&&!lQ(e)}(n),i=Xe(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,pQ(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,pQ(e))}(e.parent,e.name,e)}var vQ=/[\[\].#$\/\u0000-\u001F\u007F]/,mQ=/[\[\].#$\u0000-\u001F\u007F]/,gQ=10485760,yQ=function(e){return"string"===typeof e&&0!==e.length&&!vQ.test(e)},bQ=function(e){return"string"===typeof e&&0!==e.length&&!mQ.test(e)},kQ=function e(t,n,r){var i=r instanceof IG?new FG(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+UG(i));if("function"===typeof n)throw new Error(t+"contains a function "+UG(i)+" with contents = "+n.toString());if(FW(n))throw new Error(t+"contains "+n.toString()+" "+UG(i));if("string"===typeof n&&n.length>gQ/3&&ft(n)>gQ)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+UG(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(GW(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!yQ(n)))throw new Error(t+" contains an invalid key ("+n+") "+UG(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ft(t),jG(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=ft(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+UG(i)+" in addition to actual children.")}},wQ=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!yQ(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bQ(e)}(n))throw new Error(lt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},_Q=ge((function e(){ve(this,e),this.eventLists_=[],this.recursionDepth_=0}));function xQ(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||MG(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function IQ(e,t,n){xQ(e,n),SQ(e,(function(e){return LG(e,t)||LG(t,e)}))}function SQ(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(EQ(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function EQ(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();NW&&PW("event: "+n.toString()),XW(r)}}}var TQ="repo_interrupt",CQ=function(){function e(t,n,r,i){ve(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _Q,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=PH(),this.transactionQueueTree_=new oQ,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return ge(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function NQ(e,t,n){if(e.stats_=fG(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new AH(e.repoInfo_,(function(t,n,r,i){PQ(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return DQ(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ye(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new qG(e.repoInfo_,t,(function(t,n,r,i){PQ(e,t,n,r,i)}),(function(t){DQ(e,t)}),(function(t){!function(e,t){GW(t,(function(t,n){OQ(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return lG[n]||(lG[n]=t()),lG[n]}(e.repoInfo_,(function(){return new FH(e.stats_,e.server_)})),e.infoData_=new RH,e.infoSyncTree_=new VK({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=WK(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),OQ(e,"connected",!1),e.serverSyncTree_=new VK({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);IQ(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function AQ(e){var t=e.infoData_.getNode(new IG(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function RQ(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:AQ(e)})}function PQ(e,t,n,r,i){e.dataUpdateCount++;var a=new IG(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=et(n,(function(e){return yH(e)}));o=function(e,t,n,r){var i=YK(e,r);if(i){var a=$K(i),o=a.path,u=a.queryId,s=OG(o,t),c=XH.fromObject(n);return XK(e,o,new qH(jH(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=yH(n);o=function(e,t,n,r){var i=YK(e,r);if(null!=i){var a=$K(i),o=a.path,u=a.queryId,s=OG(o,t);return XK(e,o,new VH(jH(u),s,n))}return[]}(e.serverSyncTree_,a,s,i)}else if(r){var c=et(n,(function(e){return yH(e)}));o=function(e,t,n){var r=XH.fromObject(n);return HK(e,new qH({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=yH(n);o=WK(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=VQ(e,a)),IQ(e.eventQueue_,f,o)}function DQ(e,t){OQ(e,"connected",t),!1===t&&function(e){FQ(e,"onDisconnectEvents");var t=RQ(e),n=PH();OH(e.onDisconnect_,SG(),(function(r,i){var a=rQ(r,i,e.serverSyncTree_,t);DH(n,r,a)}));var r=[];OH(n,SG(),(function(t,n){r=r.concat(WK(e.serverSyncTree_,t,n));var i=HQ(e,t);VQ(e,i)})),e.onDisconnect_=PH(),IQ(e.eventQueue_,SG(),r)}(e)}function OQ(e,t,n){var r=new IG("/.info/"+t),i=yH(n);e.infoData_.updateSnapshot(r,i);var a=WK(e.infoSyncTree_,r,i);IQ(e.eventQueue_,r,a)}function MQ(e){return e.nextWriteId_++}function LQ(e){e.persistentConnection_&&e.persistentConnection_.interrupt(TQ)}function FQ(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];PW.apply(void 0,[t].concat(r))}function jQ(e,t,n){return GK(e.serverSyncTree_,t,n)||mH.EMPTY_NODE}function UQ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||GQ(e,t),sQ(t)){var n=zQ(e,t);Ee(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&BQ(e,hQ(t),n)}else lQ(t)&&fQ(t,(function(t){UQ(e,t)}))}function BQ(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=jQ(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Ee(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=OG(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){FQ(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(zK(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);GQ(e,uQ(e.transactionQueueTree_,t)),UQ(e,e.transactionQueueTree_),IQ(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)XW(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{LW("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}VQ(e,t)}}),o)}function VQ(e,t){var n=qQ(e,t),r=hQ(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),u=function(a){var u,s=t[a],c=OG(n,s.path),l=!1,f=void 0;if(Ee(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(zK(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(zK(e.serverSyncTree_,s.currentWriteId,!0));else{var d=jQ(e,s.path,o);s.currentInputSnapshot=d;var h=t[a].update(d.val());if(void 0!==h){kQ("transaction failed: Data returned ",h,s.path);var p=yH(h);"object"===typeof h&&null!=h&&Xe(h,".priority")||(p=p.updatePriority(d.getPriority()));var v=s.currentWriteId,m=RQ(e),g=iQ(p,d,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=MQ(e),o.splice(o.indexOf(v),1),i=(i=i.concat(qK(e.serverSyncTree_,s.path,g,s.currentWriteId,s.applyLocally))).concat(zK(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(zK(e.serverSyncTree_,s.currentWriteId,!0))}IQ(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},s=0;s<t.length;s++)u(s);GQ(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)XW(r[c]);UQ(e,e.transactionQueueTree_)}(e,zQ(e,n),r),r}function qQ(e,t){var n,r=e.transactionQueueTree_;for(n=EG(t);null!==n&&void 0===sQ(r);)r=uQ(r,n),n=EG(t=CG(t));return r}function zQ(e,t){var n=[];return WQ(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function WQ(e,t,n){var r=sQ(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);fQ(t,(function(t){WQ(e,t,n)}))}function GQ(e,t){var n=sQ(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,cQ(t,n.length>0?n:void 0)}fQ(t,(function(t){GQ(e,t)}))}function HQ(e,t){var n=hQ(qQ(e,t)),r=uQ(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){KQ(e,t)})),KQ(e,r),dQ(r,(function(t){KQ(e,t)})),n}function KQ(e,t){var n=sQ(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Ee(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Ee(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zK(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?cQ(t,void 0):n.length=a+1,IQ(e.eventQueue_,hQ(t),i);for(var u=0;u<r.length;u++)XW(r[u])}}var QQ=function(e,t){var n=YQ(e),r=n.namespace;"firebase.com"===n.domain&&MW(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||MW("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&LW("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new oG(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new IG(n.pathString)}},YQ=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=fe(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):LW("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},$Q=function(){function e(t,n,r,i){ve(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return ge(e,[{key:"key",get:function(){return DG(this._path)?null:NG(this._path)}},{key:"ref",get:function(){return new XQ(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=NH(this._queryParams),t=zW(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return NH(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=dt(t))instanceof e))return!1;var n=this._repo===t._repo,r=MG(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var XQ=function(e){oe(n,e);var t=le(n);function n(e,r){return ve(this,n),t.call(this,e,r,new TH,!1)}return ge(n,[{key:"parent",get:function(){var e=RG(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}($Q);!function(e){Ee(!OK,"__referenceConstructor has already been defined"),OK=e}(XQ),function(e){Ee(!jK,"__referenceConstructor has already been defined"),jK=e}(XQ);var JQ={},ZQ=!1;function eY(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||MW("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),PW("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=QQ(a,i),s=u.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/todo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(s.namespace),s=(u=QQ(a,i)).repoInfo):o=!u.repoInfo.secure;var l=i&&o?new tG(tG.OWNER):new eG(e.name,e.options,t);wQ("Invalid Firebase Database URL",u),DG(u.path)||MW("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=JQ[t.name];i||(i={},JQ[t.name]=i);var a=i[e.toURLString()];a&&MW("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new CQ(e,ZQ,n,r),i[e.toURLString()]=a,a}(s,e,l,new ZW(e.name,n));return new tY(f,e)}var tY=function(){function e(t,n){ve(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return ge(e,[{key:"_repo",get:function(){return this._instanceStarted||(NQ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new XQ(this._repo,SG())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=JQ[t];n&&n[e.key]===e||MW("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),LQ(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&MW("Cannot call "+e+" on a deleted database.")}}]),e}();qG.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qG.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){bW=e}(fn),rn(new ht("database",(function(e,t){var n=t.instanceIdentifier;return eY(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),gn(gW,yW,e),gn(gW,yW,"esm2017")}();var nY="firebasestorage.googleapis.com",rY=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return ve(this,n),(i=t.call(this,iY(e),"Firebase Storage: ".concat(r," (").concat(iY(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ie(i),n.prototype),i}return ge(n,[{key:"_codeEquals",value:function(e){return iY(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(We);function iY(e){return"storage/"+e}function aY(){return new rY("unknown","An unknown error occurred, please check the error payload for server response.")}function oY(){return new rY("canceled","User canceled the upload/download.")}function uY(e){return new rY("invalid-argument",e)}function sY(){return new rY("app-deleted","The Firebase app was deleted.")}var cY,lY=function(){function e(t,n){ve(this,e),this.bucket=t,this.path_=n}return ge(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new rY("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===nY?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new rY("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),fY=function(){function e(t){ve(this,e),this.promise_=Promise.reject(t)}return ge(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function dY(e,t,n,r){if(r<t)throw uY("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw uY("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function hY(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cY||(cY={}));var pY=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var d=this;ve(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return ge(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=aY();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?sY():oY());else i(new rY("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new vY(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(c)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return d(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,d(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new vY(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===cY.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new vY(o,r))}else{var u=r.getErrorCode()===cY.ABORT;t(!1,new vY(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),vY=ge((function e(t,n,r){ve(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function mY(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var gY=function(){function e(t,n){ve(this,e),this._service=t,this._location=n instanceof lY?n:lY.makeFromUrl(n,t.host)}return ge(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new lY(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return mY(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new lY(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new rY("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function yY(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:lY.makeFromBucketSpec(n,e)}var bY=function(){function e(t,n,r,i,a){ve(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=nY,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?lY.makeFromBucketSpec(i,this._host):yY(this._host,this.app.options)}return ge(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=lY.makeFromBucketSpec(this._url,e):this._bucket=yY(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){dY("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){dY("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=pe(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=pe(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new gY(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new fY(sY());var a=function(e,t,n,r,i,a){var o=hY(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new pY(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=pe(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=f(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),kY="@firebase/storage",wY="0.9.6",_Y="storage";function xY(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new bY(r,i,a,n,fn)}rn(new ht(_Y,xY,"PUBLIC").setMultipleInstances(!0)),gn(kY,wY,""),gn(kY,wY,"esm2017");var IY={isDarkTheme:!0};var SY={lang:!0};PP.initializeApp({apiKey:"AIzaSyDKCXycGDqQY9p_Z8AOmME8OID9VJR8nU8",authDomain:"chat-fc5b9.firebaseapp.com",databaseURL:"https://ics2-abcd9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chat-fc5b9",storageBucket:"chat-fc5b9.appspot.com",messagingSenderId:"453867670088",appId:"1:453867670088:web:df1021368474d4357e667d",measurementId:"G-KLWDMGJW6W"});var EY=PP.auth(),TY=PP.firestore(),CY=(0,i.createContext)(null),NY=o.createRoot(document.getElementById("root")),AY=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:TS.INIT}))throw new Error(IS(12));if("undefined"===typeof n(void 0,{type:TS.PROBE_UNKNOWN_ACTION()}))throw new Error(IS(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(IS(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IY,t=arguments.length>1?arguments[1]:void 0;return"CHANGE"===t.type?{isDarkTheme:!e.isDarkTheme}:e},lang:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SY,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_LANG"===t.type?{lang:!e.lang}:e}}),RY=NS(AY);NY.render((0,sc.jsx)(CY.Provider,{value:{firebase:PP,auth:EY,firestore:TY},children:(0,sc.jsx)(dP,{store:RY,children:(0,sc.jsx)(Bq,{})})}))}()}();
//# sourceMappingURL=main.4a8020cc.js.map